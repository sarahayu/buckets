/*! For license information please see 366.2f31eae5.chunk.js.LICENSE.txt */
(self.webpackChunkbuckets=self.webpackChunkbuckets||[]).push([[366],{267:(t,e,r)=>{"use strict";r.a(t,(async(t,n)=>{try{r.d(e,{A:()=>m});var a=r(668),s=r(43),o=r(987),c=r(829),i=r(63),l=r(579),u=t([c,i]);[c,i]=u.then?(await u)():u;const d=20,f={top:10,right:30,bottom:50,left:50},p=[0,i.pk];function m(t){let{data:e,goal:r,setGoal:n,width:i=600,height:u=400}=t;const h=(0,s.useRef)(),m=(0,s.useMemo)((()=>(0,o.u)(e,p,e.length/d,i,u)),[e]),g=[0,e.length],v=a.m4Y().domain(p).range([0,i]),y=a.m4Y().domain(g).range([u,0]),k=m.filter((t=>t[0]>r)).length;return(0,s.useEffect)((()=>{h.current.attr("width",i+f.left+f.right).attr("height",u+f.top+f.bottom).style("pointer-events","none").append("g").attr("class","graph-area").attr("transform","translate(".concat(f.left,",").concat(f.top,")")).append("g").attr("transform","translate(0, ".concat(u,")")).call(a.l78().scale(a.m4Y().domain(p).range([0,i]))).call((t=>{t.selectAll("line").attr("stroke","gray"),t.selectAll("path").attr("stroke","gray"),t.selectAll("text").attr("fill","gray")})).append("text").attr("fill","black").attr("transform","translate(".concat(i/2,", ",30,")")).text("Delivery (TAF)");const t=document.querySelector("#pdf-razor");t.style.transform="translateX(".concat(a.m4Y().domain(p).range([f.left,i+f.left]).clamp(!0)(r),"px)");const e=t=>t.preventDefault();let s=!1;document.querySelector("#pdf-razor").addEventListener("mousedown",(()=>{s=!0,window.addEventListener("selectstart",e)})),document.addEventListener("mouseup",(()=>{s=!1,window.removeEventListener("selectstart",e)})),document.querySelector("#pdf-wrapper").addEventListener("mousemove",(e=>{s&&"pdf-wrapper"===e.target.id&&(t.style.transform="translateX(".concat(Math.min(Math.max(e.offsetX,f.left),f.left+i),"px)\n            "),n(a.m4Y().domain([f.left,i+f.left]).range(p).clamp(!0)(e.offsetX)))}))}),[]),(0,s.useEffect)((()=>{const t=h.current.select(".graph-area").selectAll(".icons").data(m).join((t=>t.append("g").call((t=>t.append("path"))))).attr("class","icons").call((t=>{t.selectAll("path").attr("d",a.HRO(c.XC,u/d))}));t.transition("position").delay((t=>100*a.m4Y(g).invert(t[1]))).duration(500).attr("transform",(t=>"translate(".concat(v(t[0]),",").concat(y(t[1]),")"))),t.transition("color").delay((t=>100*a.m4Y(g).invert(t[1]))).duration(0).attr("fill",(t=>t[0]>r?"steelblue":"black"))}),[r,m]),(0,l.jsxs)("div",{className:"dot-pdf-wrapper",id:"pdf-wrapper",children:[(0,l.jsx)("div",{className:"pdf-razor",id:"pdf-razor",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{children:[m.length-k," out of ",d," years WILL NOT meet demand"]}),(0,l.jsxs)("span",{children:[k," out of ",d," years WILL meet demand"]})]})}),(0,l.jsx)("svg",{ref:t=>{h.current=a.Ltv(t)}})]})}n()}catch(h){n(h)}}))},58:(t,e,r)=>{"use strict";r.a(t,(async(t,n)=>{try{r.d(e,{A:()=>m});var a=r(668),s=r(43),o=r(987),c=r(829),i=r(63),l=r(579),u=t([c,i]);[c,i]=u.then?(await u)():u;const d=20,f={top:10,right:10,bottom:3,left:0},p=[0,i.pk];function m(t){let{data:e,goal:r,width:n=600,height:u=400}=t;const h=(0,s.useRef)(),m=(0,s.useMemo)((()=>(0,o.u)(e,p,e.length/d,n,u)),[e]);return(0,s.useEffect)((()=>{const t=h.current.attr("width",n+f.left+f.right).attr("height",u+f.top+f.bottom).style("pointer-events","none").append("g").attr("class","graph-area").attr("transform","translate(".concat(f.left,",").concat(f.top,")"));t.append("g").attr("transform","translate(0, ".concat(u,")")).call((t=>{t.selectAll("line").attr("stroke","gray"),t.selectAll("path").attr("stroke","gray")})),t.append("path").attr("class","ridgeline").attr("fill","none").attr("stroke","steelblue")}),[]),(0,s.useEffect)((()=>{const t=a.m4Y().domain(p).range([0,n]),r=a.m4Y().domain([0,.05]).range([u,0]).clamp(!0),s=(0,c.C5)((0,c.xC)(20),t.ticks(i.pk/4));h.current.select(".graph-area").select(".ridgeline").datum(s(e)).attr("d",a.n8j().curve(a.qrM).x((e=>t(e[0]))).y((t=>r(t[1]))))}),[e]),(0,s.useEffect)((()=>{const t=a.m4Y().domain(p).range([0,n]),s=a.m4Y().domain([0,e.length]).range([u,0]);h.current.select(".graph-area").selectAll(".icons").data(m).join((t=>t.append("g").attr("class","icons").call((t=>t.append("path"))))).call((t=>{t.select("path").attr("d",a.HRO(c.XC,u/d))})).attr("transform",(e=>"translate(".concat(t(e[0]),",").concat(s(e[1]),")"))).attr("fill",(t=>t[0]>r?"steelblue":"black"))}),[r,m]),(0,l.jsx)("svg",{className:"dot-pdf-shadowed",ref:t=>{h.current=a.Ltv(t)}})}n()}catch(h){n(h)}}))},111:(t,e,r)=>{"use strict";r.d(e,{A:()=>u});var n=r(668),a=r(43),s=r(684),o=r(579);const c=40,i=10,l=3;function u(t){let{levelInterp:e,colorInterp:r=s.YW,width:u=200,height:h=400,resolution:d=i}=t;const f=(0,a.useId)(),p=(0,a.useRef)(),m=(0,a.useMemo)((()=>(0,s.kd)(0,1-1/d,d).map((t=>e(t)))),[e,d]),g=(0,s.ZC)(m),v=u-2*l,y=h-l;return(0,a.useLayoutEffect)((()=>{const t=p.current.append("g").attr("class","svg-container").attr("transform","translate(".concat(l,", ").concat(l/2,")"));t.append("defs").append("clipPath").attr("id","bucket-mask-"+f).append("path").attr("class","bucket-mask-path"),t.append("g").attr("class","graph-area").attr("clip-path","url(#bucket-mask-".concat(f,")")),t.append("g").append("path").attr("class","bucket-outline").attr("stroke","lightgray").attr("stroke-linecap","round").attr("stroke-width",l).attr("fill","none")}),[f]),(0,a.useLayoutEffect)((()=>{const t=p.current.attr("width",u).attr("height",h).select(".svg-container");t.select(".bucket-mask-path").attr("d",(0,s.wh)(v,y)),t.select(".bucket-outline").attr("d",(0,s.wh)(v,y).split("z")[0])}),[u,h,v,y]),(0,a.useLayoutEffect)((()=>{const t=p.current.select(".graph-area").selectAll(".bucketBox").data(m).join("rect").attr("class","bucketBox").attr("width",2*v).attr("height",2*y).attr("x",-v/2).attr("fill",((t,e)=>r(e/(d-1))));t.transition("liquidLevel").ease(n.guX.period(.6)).delay(((t,e)=>e*(100/d))).duration(1e3).attr("y",(t=>y-t*y)),t.transition("liquidSway").duration(2e3).delay(((t,e)=>10*e)).ease(n.I1g).attrTween("transform",(function(t,e){const r=g?Math.abs(g[e]-t):0;return t=>"rotate(".concat(Math.sin(Math.min(4*Math.PI*t/(.5*r+.5),4*Math.PI))*r*c*(1-t),", ").concat(v/2,", ",0,")")}))}),[m,g,u,h,v,y,d,r]),(0,o.jsx)("div",{className:"bucket-wrapper",children:(0,o.jsx)("svg",{ref:t=>{p.current=n.Ltv(t)}})})}},987:(t,e,r)=>{"use strict";r.d(e,{u:()=>s});var n=r(668),a=r(684);function s(t,e,r,s,o){const c=t.length/r;let i=n.JWi().value((t=>t)).domain(e).thresholds((0,a.kd)(...e,Math.ceil(s/(o/c))))(t),l=(0,a.Q2)(i,r,c),u=[];for(let n=0;n<l.length;n++)for(let e=0;e<l[n];e++)u.push([(i[n].x1+i[n].x0)/2,(e+.5)/c*t.length]);return u}},684:(t,e,r)=>{"use strict";r.d(e,{Q2:()=>c,YW:()=>l,ZC:()=>i,kd:()=>s,wh:()=>o});var n=r(668),a=r(43);function s(t,e,r){return n.y17(r).map((n=>n/(r-1)*(e-t)+t))}function o(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,s=t*a+t*(1-a)/2,o=t*(1-a)/2,c=[{x:n.GWP(s,t)(r),y:n.GWP(e,0)(r)},{x:s,y:e},{x:o,y:e},{x:n.GWP(o,0)(r),y:n.GWP(e,0)(r)}];return n.n8j().x((function(t){return t.x})).y((function(t){return t.y}))(c)+"z"}function c(t,e,r){let a=t.map((t=>Math.round(t.length/e))),s=n.czq(a);for(;s>r;)a[n.z94(t,((t,r)=>0!==t.length?t.length/e-a[r]:1/0))]-=1,s=n.czq(a);for(;s<r;)a[n.P2Z(t,((t,r)=>0!==t.length?t.length/e-a[r]:-1/0))]+=1,s=n.czq(a);return a}function i(t,e){const r=(0,a.useRef)({value:t,prev:null}),n=r.current.value;return(e?e(t,n):t===n)||(r.current={value:t,prev:n}),r.current.prev}const l=t=>n.dM(n.m4Y([.2,1])(t))},63:(t,e,r)=>{"use strict";r.a(t,(async(t,n)=>{try{r.d(e,{Vk:()=>c,Xe:()=>d,Zl:()=>i,iL:()=>h,jx:()=>u,pk:()=>o,sQ:()=>l});var a=r(829),s=t([a]);a=(s.then?(await s)():s)[0];const o=1200,c="scens",i="delivs",l="delivs_unord",u=await async function(){const t=await(await fetch("./all_objectives.json")).json();for(const e of t){e[c]=e[c];for(const t of e[c]){const e=t[i].map((t=>Math.min(Math.max(0,t),o)));t[l]=e,t[i]=Array.from(e).sort(((t,e)=>e-t))}e[c]=(0,a.Et)(e[c],(t=>{let{name:e}=t;return e}))}return console.log("DATA: loading objectives data"),(0,a.Et)(t,(t=>{let{obj:e}=t;return e}))}(),h=Object.keys(u),d=Object.keys(Object.values(u)[0][c]);n()}catch(o){n(o)}}),1)},829:(t,e,r)=>{"use strict";r.a(t,(async(t,n)=>{try{r.d(e,{C5:()=>P,Et:()=>f,Ng:()=>S,XC:()=>p,Yb:()=>B,bp:()=>j,cv:()=>R,hh:()=>q,i7:()=>F,iJ:()=>Q,js:()=>m,nC:()=>O,u:()=>G,xC:()=>C});var a=r(981),s=r(668),o=r(783),c=r.n(o),i=r(43),l=r(63),u=r(684),h=t([l]);function f(t,e){const r=Object.groupBy(t,e);for(const n of Object.keys(r))r[n]=r[n][0];return r}l=(h.then?(await h)():h)[0];const p={draw:function(t,e){t.moveTo(0,-e/2),t.lineTo(e/4,-e/4),t.arc(0,0,e/Math.SQRT2/2,-Math.PI/4,5*Math.PI/4),t.lineTo(0,-e/2),t.closePath()}},m="M0,-1L0.5,-0.5A0.707,0.707,0,1,1,-0.5,-0.5L0,-1Z";const g=Math.SQRT1_2,v=1,y=g+g,k=v+g,x=.75;function M(t){if(t>=x){return Math.SQRT1_2*(1-t)/(1-x)}const e=2*(1-t/(y/k))-1,r=Math.acos(e);return Math.sin(r)}function w(t){return(t-g/k)*(1+Math.SQRT2)}function b(t){return t/(1+Math.SQRT2)+g/k}function j(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(Math.abs(t-e)<.01)return[];const n=r/2/v*g,a=.1,s=[],o=[];let c,i,l,u;for(let m=1;m<=Math.ceil(10)&&(c=M(t+(m-1)*a),i=w(t+(m-1)*a),l=M(t+m*a),u=w(t+m*a),!(b(u)>=e));m++){const t=[-c*n,-i*n],e=[c*n,-i*n],r=[l*n,-u*n],a=[-l*n,-u*n];s.push(e,r),o.push(t,a)}l=M(e),u=w(e);const h=[-c*n,-i*n],d=[c*n,-i*n],f=[l*n,-u*n],p=[-l*n,-u*n];return s.push(d,f),o.push(h,p),s.push(...o.reverse()),s}function S(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(Math.abs(t-e)<.01)return[];const n=r/2/v*g,a=.1,s=[];let o,c,i,l;for(let p=1;p<=Math.ceil(10)&&(o=M(t+(p-1)*a),c=w(t+(p-1)*a),i=M(t+p*a),l=w(t+p*a),!(b(l)>=e));p++){const t=[-o*n,-c*n],e=[o*n,-c*n],r=[i*n,-l*n],a=[-i*n,-l*n];s.push([t,e,r]),s.push([t,r,a])}i=M(e),l=w(e);const u=[-o*n,-c*n],h=[o*n,-c*n],d=[i*n,-l*n],f=[-i*n,-l*n];return s.push([u,h,d]),s.push([u,d,f]),s}function P(t,e){return function(r){return e.map((function(e){return[e,s.i2o(r,(function(r){return t(e-r)}))]}))}}function C(t){return function(e){return Math.abs(e/=t)<=1?.75*(1-e*e)/t:0}}function E(t){const e=t/2,r=3*Math.PI/2/16,n=[{x:Math.cos(5*Math.PI/4)*e,y:Math.sin(5*Math.PI/4)*e},{x:0,y:-Math.SQRT2*e}];for(let a=0;a<=16;a++)n.push({x:Math.cos(a*r-Math.PI/4)*e,y:Math.sin(a*r-Math.PI/4)*e});return n}function L(t,e){const r=c().Bounds.create(t),n=r.min.x,a=r.max.x,o=r.min.y,i=r.max.y,l=s.m4Y([n,a]),u=s.m4Y([o,i]),h=[];for(let s=0;s<e;s++)for(;;){const e=l(Math.random()),r=u(Math.random());if(c().Vertices.contains(t,{x:e,y:r})){h.push([e,r]);break}}return h}const A=function(){const t=E(3),e=E(1),r=[];for(let n=0;n<t.length-2;n++)r.push([t[n],t[n+(n<2?1:2)],e[n+(n<2?1:2)],e[n]]);return r}();let Y,Z,I,z;function T(t){const e=s.czq(t.map((t=>t**2*3.14)));return Math.floor(2*Math.sqrt(e/3.14)/2)}function q(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n&&I&&r.length===z)return I;Y&&r.length===Z||(Y=s.y17(4).map((()=>L(E(1),Z=r.length))));const a=T(r.map((t=>{let{r:e}=t;return e}))),o=Y[Math.floor(Math.random()*Y.length)].map((t=>{let[e,r]=t;return[e*a,r*a]})),i=c().Engine,l=c().Bodies,u=c().Composite,h=i.create(),d=o.sort(((t,e)=>e[1]-t[1])),f=r.map(((t,e)=>{let{r:r,id:n}=t;const[a,s]=d[e];return l.circle(a,s,r,{restitution:0,id:n})})),p=A.map((t=>c().Body.create({position:c().Vertices.centre(t),vertices:t,isStatic:!0}))),m=c().Body.create({isStatic:!0});c().Body.setParts(m,p),c().Body.setCentre(m,{x:0,y:0}),c().Body.scale(m,a,a),u.add(h.world,[...f,m]);for(let s=0,c=60,g=.1;s<c*g;s++)i.update(h,1e3/c);const v=f.map((r=>{let{position:n,id:a}=r;return{id:a,x:n.x+t,y:n.y+e}}));return v.height=a/2/g*k,!n||I&&v.length===z||(I=v,z=v.length),v}function O(t,e){const[r,n]=(0,i.useState)(t);return[(0,i.useMemo)((()=>e(r)),[r]),(0,i.useCallback)((t=>{n(e(t))}),[])]}function R(t,e,r,n){const a=r[t][l.Vk][e][l.Zl];return s.m4Y().domain((0,u.kd)(0,1,a.length)).range(a.map((t=>Math.min(1,t/n)))).clamp(!0)}function B(t,e,r){return"median"===t?Object.keys(e[r][l.Vk]).sort(((t,n)=>s.i2o(e[r][l.Vk][t][l.Zl])-s.i2o(e[r][l.Vk][n][l.Zl]))):"deliveries"===t?Object.keys(e[r][l.Vk]).sort(((t,n)=>s.T9B(e[r][l.Vk][t][l.Zl])-s.T9B(e[r][l.Vk][n][l.Zl]))):"alphabetical"===t?Object.keys(e[r][l.Vk]).sort():void 0}function V(t){return t*Math.PI/180}class F{constructor(t){let{fov:e,near:r,far:n,width:o,height:c,domElement:i,zoomFn:l}=t;this.fov=e,this.near=r,this.far=n,this.width=o,this.height=c,this.camera=new a.ubm(e,o/c,r,n+1),this.camera.position.set(0,0,this.far),this.zoom=s.s_O().scaleExtent([this.getScaleFromZ(this.far),this.getScaleFromZ(this.near)]).on("zoom",(t=>{this.d3ZoomHandler(t),this.curTransform=t.transform,l&&l(t)})),this.view=s.Ltv(i),this.view.call(this.zoom),this.zoom.transform(this.view,s.GSI.translate(this.width/2,this.height/2).scale(this.getScaleFromZ(this.far)))}d3ZoomHandler(t){const e=t.transform.k,r=-(t.transform.x-this.width/2)/e,n=(t.transform.y-this.height/2)/e,a=this.getZFromScale(e);this.camera.position.set(r,n,a)}getScaleFromZ(t){const e=V(this.fov/2),r=2*(Math.tan(e)*t);return this.height/r}getZFromScale(t){const e=V(this.fov/2);return this.height/t/(2*Math.tan(e))}}class G{constructor(){this.threeGeom=new a.V23,this.idx=0}addMeshCoords(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=[];for(let o=0;o<t.length;o++){const[c,i,l]=t[o],u=new a.Pq0(e.x+c[0],e.y-c[1],n),h=new a.Pq0(e.x+i[0],e.y-i[1],n),d=new a.Pq0(e.x+l[0],e.y-l[1],n);this.threeGeom.vertices.push(u,h,d);const f=new a.nFj(3*this.idx+0,3*this.idx+1,3*this.idx+2);r&&(f.vertexColors.push(r),f.vertexColors.push(r),f.vertexColors.push(r)),this.threeGeom.faces.push(f),s.push(this.idx++)}return s}}function Q(t){const[e,r]=(0,i.useState)(t),n=(0,i.useRef)(t);(0,i.useEffect)((()=>{n.current=e}),[e]);const a=(0,i.useCallback)((t=>{r(n.current=t)}),[]);return[e,a,n]}n()}catch(d){n(d)}}))},139:(t,e)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];r&&(t=o(t,s(r)))}return t}function s(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return a.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var r in t)n.call(t,r)&&t[r]&&(e=o(e,r));return e}function o(t,e){return e?t?t+" "+e:t+e:t}t.exports?(a.default=a,t.exports=a):void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}()}}]);
//# sourceMappingURL=366.2f31eae5.chunk.js.map