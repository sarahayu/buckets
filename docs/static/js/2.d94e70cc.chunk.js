"use strict";(self.webpackChunkbuckets=self.webpackChunkbuckets||[]).push([[2,746],{746:(t,e,a)=>{a.a(t,(async(t,n)=>{try{a.r(e),a.d(e,{default:()=>v});var r=a(487),o=a(43),c=a(684),s=a(63),l=a(829),i=a(579),u=t([s,l]);[s,l]=u.then?(await u)():u;const d=10,p=2,f=7,m="M0,-10L5,-5A7.071,7.071,0,1,1,-5,-5L0,-10Z",y=4;function v(t){let{watercolor:e=!1}=t;const{current:a}=(0,o.useRef)(Object.keys(s.jx)),n=(0,o.useRef)(),[u,h]=(0,o.useState)(p),[v,x]=(0,o.useState)(!1),g=(0,o.useRef)(),M=(0,o.useMemo)((()=>(0,l.Yb)("median",s.jx,a[u])),[u]),w=(0,o.useMemo)((()=>M.map((t=>{const e=(0,l.cv)(a[u],t,s.jx);return(0,c.kd)(0,1,d+1).map(((t,a)=>Math.max(e(t),0==a?.1:-1)))})).reverse()),[u]);return console.log(M.length),(0,o.useLayoutEffect)((()=>{n.current={width:window.innerWidth,height:window.innerHeight},g.current.attr("width",window.innerWidth).attr("height",window.innerHeight)}),[]),(0,o.useLayoutEffect)((()=>{const t=n.current.width,e=n.current.height,a=1/(v?r.czq(w.map((t=>t[0])))/(1*w.length):1),o=(0,l.hh)(t/2,e/2,w.map(((t,e)=>({r:t[0]*a*f,id:e})))).map((t=>{let{id:e,x:n,y:o}=t;return{levs:w[e].map((t=>t*a)),maxLev:w[e][0]*a,tilt:50*Math.random()-25,dur:500*Math.random()+1e3,startX:n,startY:r.m4Y([2*-f-f,2*-f])(Math.random()),endX:n,endY:o}}));g.current.selectAll(".dropTranslateY").data(o,((t,e)=>e)).join((t=>t.append("g").attr("class","dropTranslateY").call((t=>{t.append("g").attr("class","dropTranslateX").each((function(t,e){let{levs:a,maxLev:n}=t;r.Ltv(this).append("defs").append("clipPath").attr("id","drop-mask-"+e).append("path").attr("transform","scale(".concat(n*f/2/y,")")).attr("d",m),r.Ltv(this).append("g").attr("clip-path","url(#drop-mask-".concat(e,")")).selectAll("rect").data(a,((t,e)=>e)).join("rect").attr("width",n*f*2).attr("height",n*f*2).attr("x",-n*f*2/2).attr("y",-n*f*2/2).attr("fill",((t,e)=>(0,c.YW)(e/d)))}))})))).attr("transform",(t=>{let{startY:e}=t;return"translate(0, ".concat(e,")")})).each((function(t){let{startX:e,tilt:a,levs:n,maxLev:o}=t;r.Ltv(this).select(".dropTranslateX").attr("transform","translate(".concat(e,", 0) rotate(").concat(a,")")).style("opacity",.2),r.Ltv(this).select(".dropTranslateX").selectAll("rect").data(n,((t,e)=>e)).attr("width",o*f*2).attr("height",o*f*2).attr("x",-o*f*2/2).attr("y",(t=>o*f*2/2-(0,l.si)(t/o)*(o*f*2))),r.Ltv(this).select(".dropTranslateX").select("path").attr("transform","scale(".concat(o*f/2/Math.SQRT2/y,")"))})).call((t=>{t.transition("y").duration((t=>{let{dur:e}=t;return e})).delay(((t,e)=>5*Math.floor(e/1))).ease(r.GDP).attr("transform",(t=>{let{endY:e}=t;return"translate(0, ".concat(e,")")}))})).call((t=>{t.transition("trans").duration((t=>{let{dur:e}=t;return.5*e})).delay(((t,e)=>5*Math.floor(e/1))).ease(r.yfw).select(".dropTranslateX").attr("transform",(t=>{let{endX:e,tilt:a}=t;return"translate(".concat(e,", 0) rotate(").concat(a,")")})).style("opacity",1)}))}),[w,v]),(0,i.jsxs)("div",{className:"bubbles-wrapper",children:[(0,i.jsx)("select",{value:u,onChange:t=>h(parseInt(t.target.value)),children:a.map(((t,e)=>(0,i.jsx)("option",{name:e,value:e,children:t},e)))}),(0,i.jsx)("input",{type:"checkbox",id:"html",name:"fav_language",value:"HTML",checked:v,onChange:()=>{x((t=>!t))}}),(0,i.jsx)("label",{htmlFor:"html",children:"normalize"}),(0,i.jsx)("div",{className:"bubbles-svg-wrapper"+(e?"-painter":""),children:(0,i.jsx)("svg",{className:"bubbles-svg"+(e?"-painter":""),ref:t=>{g.current=r.Ltv(t)}})})]})}n()}catch(h){n(h)}}))},2:(t,e,a)=>{a.a(t,(async(t,n)=>{try{a.r(e),a.d(e,{default:()=>l});var r=a(746),o=a(579),c=t([r]);function l(){return(0,o.jsx)(r.default,{watercolor:!0})}r=(c.then?(await c)():c)[0],n()}catch(s){n(s)}}))},684:(t,e,a)=>{a.d(e,{Q2:()=>s,YW:()=>i,ZC:()=>l,kd:()=>o,wh:()=>c});var n=a(487),r=a(43);function o(t,e,a){return n.y17(a).map((n=>n/(a-1)*(e-t)+t))}function c(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,o=t*r+t*(1-r)/2,c=t*(1-r)/2,s=[{x:n.GWP(o,t)(a),y:n.GWP(e,0)(a)},{x:o,y:e},{x:c,y:e},{x:n.GWP(c,0)(a),y:n.GWP(e,0)(a)}];return n.n8j().x((function(t){return t.x})).y((function(t){return t.y}))(s)+"z"}function s(t,e,a){let r=t.map((t=>Math.round(t.length/e))),o=n.czq(r);for(;o>a;)r[n.z94(t,((t,a)=>0!==t.length?t.length/e-r[a]:1/0))]-=1,o=n.czq(r);for(;o<a;)r[n.P2Z(t,((t,a)=>0!==t.length?t.length/e-r[a]:-1/0))]+=1,o=n.czq(r);return r}function l(t,e){const a=(0,r.useRef)({value:t,prev:null}),n=a.current.value;return(e?e(t,n):t===n)||(a.current={value:t,prev:n}),a.current.prev}const i=t=>n.dM(n.m4Y([.2,1])(t))},63:(t,e,a)=>{a.a(t,(async(t,n)=>{try{a.d(e,{Vk:()=>s,Zl:()=>l,jx:()=>i,pk:()=>c});var r=a(829),o=t([r]);r=(o.then?(await o)():o)[0];const c=1200,s="scens",l="delivs",i=await async function(){const t=await(await fetch("./all_objectives.json")).json();for(const e of t){for(const t of e[s])t[l]=t[l].map((t=>Math.min(Math.max(0,t),c))).sort(((t,e)=>e-t));e[s]=(0,r.Et)(e[s],(t=>{let{name:e}=t;return e}))}return console.log("DATA: loading objectives data"),(0,r.Et)(t,(t=>{let{obj:e}=t;return e}))}();n()}catch(c){n(c)}}),1)},829:(t,e,a)=>{a.a(t,(async(t,n)=>{try{a.d(e,{C5:()=>m,Et:()=>d,XC:()=>p,Yb:()=>j,cv:()=>k,hh:()=>w,nC:()=>b,si:()=>f,xC:()=>y});var r=a(487),o=a(783),c=a.n(o),s=a(43),l=a(63),i=a(684),u=t([l]);function d(t,e){const a=Object.groupBy(t,e);for(const n of Object.keys(a))a[n]=a[n][0];return a}l=(u.then?(await u)():u)[0];const p={draw:function(t,e){t.moveTo(0,-e/2),t.lineTo(e/4,-e/4),t.arc(0,0,e/Math.sqrt(2)/2,-Math.PI/4,5*Math.PI/4),t.lineTo(0,-e/2),t.closePath()}};function f(t){return(3.1304*t**3-4.2384*t**2+3.3471*t+.0298)/2.4}function m(t,e){return function(a){return e.map((function(e){return[e,r.i2o(a,(function(a){return t(e-a)}))]}))}}function y(t){return function(e){return Math.abs(e/=t)<=1?.75*(1-e*e)/t:0}}function v(t){const e=t/2,a=3*Math.PI/2/20,n=[{x:Math.cos(5*Math.PI/4)*e,y:Math.sin(5*Math.PI/4)*e},{x:0,y:-Math.SQRT2*e}];for(let r=0;r<=20;r++)n.push({x:Math.cos(r*a-Math.PI/4)*e,y:Math.sin(r*a-Math.PI/4)*e});return n}function x(t,e){const a=c().Bounds.create(t),n=a.min.x,o=a.max.x,s=a.min.y,l=a.max.y,i=r.m4Y([n,o]),u=r.m4Y([s,l]),h=[];for(let r=0;r<e;r++)for(;;){const e=i(Math.random()),a=u(Math.random());if(c().Vertices.contains(t,{x:e,y:a})){h.push([e,a]);break}}return h}const g=function(){const t=v(3),e=v(1),a=[];for(let n=0;n<t.length-2;n++)a.push([t[n],t[n+(n<2?1:2)],e[n+(n<2?1:2)],e[n]]);return a}();let M;function w(t,e,a){M=M||x(v(1),a.length);const n=r.czq(a.map((t=>{let{r:e}=t;return(2.5*e)**2*3.14}))),o=Math.floor(2*Math.sqrt(n/3.14)/2),s=M.map((t=>{let[e,a]=t;return[e*o,a*o]})),l=c().Engine,i=c().Bodies,u=c().Composite,h=l.create(),d=s.sort(((t,e)=>e[1]-t[1])),p=a.map(((t,e)=>{let{r:a,id:n}=t;const[r,o]=d[e];return i.circle(r,o,2.5*a,{restitution:0,id:n})})),f=g.map((t=>c().Body.create({position:c().Vertices.centre(t),vertices:t,isStatic:!0}))),m=c().Body.create({isStatic:!0});c().Body.setParts(m,f),c().Body.setCentre(m,{x:0,y:0}),c().Body.scale(m,1.1*o,1.1*o),u.add(h.world,[...p,m]);for(let r=0,c=60;r<.25*c;r++)l.update(h,1e3/c);return p.map((a=>{let{position:n,id:r}=a;return{id:r,x:n.x+t,y:n.y+e+.15*o}}))}function b(t,e){const[a,n]=(0,s.useState)(t);return[(0,s.useMemo)((()=>e(a)),[a]),(0,s.useCallback)((t=>{n(e(t))}),[])]}function k(t,e,a){const n=a[t][l.Vk][e][l.Zl];return r.m4Y().domain((0,i.kd)(0,1,n.length)).range(n.map((t=>Math.min(1,t/1200)||0))).clamp(!0)}function j(t,e,a){return"median"===t?Object.keys(e[a][l.Vk]).sort(((t,n)=>r.i2o(e[a][l.Vk][t][l.Zl])-r.i2o(e[a][l.Vk][n][l.Zl]))):"deliveries"===t?Object.keys(e[a][l.Vk]).sort(((t,n)=>r.T9B(e[a][l.Vk][t][l.Zl])-r.T9B(e[a][l.Vk][n][l.Zl]))):void 0}n()}catch(h){n(h)}}))}}]);
//# sourceMappingURL=2.d94e70cc.chunk.js.map