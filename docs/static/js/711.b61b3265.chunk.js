"use strict";(self.webpackChunkbuckets=self.webpackChunkbuckets||[]).push([[711],{711:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.r(e),n.d(e,{default:()=>p});var a=n(43),o=n(92),c=n(684),s=n(63),i=n(579),u=t([s]);s=(u.then?(await u)():u)[0];const h=10,d=3,f=0;function p(t){let{width:e=600,height:n=600}=t;const{current:r}=(0,a.useRef)(Object.keys(s.jx)),[u,l]=(0,a.useState)(f),p=(0,a.useRef)(),y=(0,a.useMemo)((()=>g("median",s.jx,r[u])),[u]),k=(0,a.useMemo)((()=>Array.from(y).filter(((t,e)=>(0,c.kd)(0,.9,20).map((t=>Math.floor((t+.05)*y.length))).includes(e)))),[y]),x=(0,a.useMemo)((()=>(0,c.kd)(0,1,h+1).map((t=>k.map((e=>m(r[u],e)(t)))))),[k,u]),M=e-2*d,v=n-d,j=o.m4Y().range([0,M]),b=o.m4Y().range([v,0]);return(0,a.useEffect)((()=>{const t=p.current.attr("width",e).attr("height",n).append("g").attr("class","svg-container").attr("transform","translate(".concat(d,", ").concat(d/2,")"));t.append("defs").append("clipPath").attr("id","bucket-mask").append("path").attr("d",(0,c.wh)(M,v)),t.append("g").attr("class","graph-area").attr("clip-path","url(#bucket-mask)"),t.append("path").attr("d",(0,c.wh)(M,v).split("z")[0]).attr("stroke","lightgray").attr("stroke-linecap","round").attr("stroke-width",d).attr("fill","none")}),[]),(0,a.useEffect)((()=>{p.current.select(".graph-area").selectAll("path").data(x).join("path").attr("fill",((t,e)=>o.dM(e/x.length))).transition().duration(500).attr("d",(t=>{const e=[t[0]];for(let n=1;n<t.length;n++)e.push(t[n-1]),e.push(t[n]);return o.Wcw().x((function(e,n){return j(Math.ceil(n/2)/(t.length-1))})).y1((t=>b(t))).y0((()=>b(0)))(e)}))}),[x]),(0,i.jsxs)("div",{className:"big-bucket-wrapper",children:[(0,i.jsx)("select",{value:u,onChange:t=>l(parseInt(t.target.value)),children:r.map(((t,e)=>(0,i.jsx)("option",{name:e,value:e,children:t})))}),(0,i.jsx)("svg",{ref:t=>{p.current=o.Ltv(t)}})]})}function m(t,e){const n=s.jx[t][s.Vk][e][s.Zl];return o.m4Y().domain((0,c.kd)(0,1,n.length)).range(n.map((t=>Math.min(1,t/1200)||0))).clamp(!0)}function g(t,e,n){return"median"===t?Object.keys(e[n][s.Vk]).sort(((t,r)=>o.i2o(e[n][s.Vk][t][s.Zl])-o.i2o(e[n][s.Vk][r][s.Zl]))):"deliveries"===t?Object.keys(e[n][s.Vk]).sort(((t,r)=>o.T9B(e[n][s.Vk][t][s.Zl])-o.T9B(e[n][s.Vk][r][s.Zl]))):void 0}r()}catch(l){r(l)}}))},684:(t,e,n)=>{n.d(e,{Q2:()=>s,ZC:()=>i,kd:()=>o,wh:()=>c});var r=n(92),a=n(43);function o(t,e,n){return r.y17(n).map((r=>r/(n-1)*(e-t)+t))}function c(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,o=t*a+t*(1-a)/2,c=t*(1-a)/2,s=[{x:r.GWP(o,t)(n),y:r.GWP(e,0)(n)},{x:o,y:e},{x:c,y:e},{x:r.GWP(c,0)(n),y:r.GWP(e,0)(n)}];return r.n8j().x((function(t){return t.x})).y((function(t){return t.y}))(s)+"z"}function s(t,e,n){let a=t.map((t=>Math.round(t.length/e))),o=r.czq(a);for(;o>n;)a[r.z94(t,((t,n)=>0!==t.length?t.length/e-a[n]:1/0))]-=1,o=r.czq(a);for(;o<n;)a[r.P2Z(t,((t,n)=>0!==t.length?t.length/e-a[n]:-1/0))]+=1,o=r.czq(a);return a}function i(t,e){const n=(0,a.useRef)({value:t,prev:null}),r=n.current.value;return(e?e(t,r):t===r)||(n.current={value:t,prev:r}),n.current.prev}},63:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{Vk:()=>o,Zl:()=>c,jx:()=>s,pk:()=>t});var a=n(829);const t=1200,o="scens",c="delivs",s=await async function(){const e=await(await fetch("./all_objectives.json")).json();for(const n of e){for(const e of n[o])e[c]=e[c].map((e=>Math.min(Math.max(0,e),t))).sort(((t,e)=>e-t));n[o]=(0,a.Et)(n[o],(t=>{let{name:e}=t;return e}))}return console.log("DATA: loading objectives data"),(0,a.Et)(e,(t=>{let{obj:e}=t;return e}))}();r()}catch(o){r(o)}}),1)},829:(t,e,n)=>{n.d(e,{C5:()=>u,Et:()=>c,XC:()=>s,hh:()=>p,si:()=>i,xC:()=>l});var r=n(92),a=n(783),o=n.n(a);function c(t,e){const n=Object.groupBy(t,e);for(const r of Object.keys(n))n[r]=n[r][0];return n}const s={draw:function(t,e){t.moveTo(0,-e/2),t.lineTo(e/4,-e/4),t.arc(0,0,e/Math.sqrt(2)/2,-Math.PI/4,5*Math.PI/4),t.lineTo(0,-e/2),t.closePath()}};function i(t){return(3.1304*t**3-4.2384*t**2+3.3471*t+.0298)/2.4}function u(t,e){return function(n){return e.map((function(e){return[e,r.i2o(n,(function(n){return t(e-n)}))]}))}}function l(t){return function(e){return Math.abs(e/=t)<=1?.75*(1-e*e)/t:0}}function h(t){const e=t/2,n=3*Math.PI/2/20,r=[{x:Math.cos(5*Math.PI/4)*e,y:Math.sin(5*Math.PI/4)*e},{x:0,y:-Math.SQRT2*e}];for(let a=0;a<=20;a++)r.push({x:Math.cos(a*n-Math.PI/4)*e,y:Math.sin(a*n-Math.PI/4)*e});return r}const d=function(){const t=h(1.4),e=h(1),n=[];for(let r=0;r<t.length-1;r++)n.push([t[r],t[r+1],e[r+1],e[r]]);return n}();let f;function p(t,e,n){f=f||function(t,e){const n=o().Bounds.create(t),a=n.min.x,c=n.max.x,s=n.min.y,i=n.max.y,u=r.m4Y([a,c]),l=r.m4Y([s,i]),h=[];for(let r=0;r<e;r++)for(;;){const e=u(Math.random()),n=l(Math.random());if(o().Vertices.contains(t,{x:e,y:n})){h.push([e,n]);break}}return h}(h(1),n.length);const a=r.i2o(n.map((t=>{let{r:e}=t;return 2*e})))*Math.floor(Math.sqrt(n.length)),c=f.map((t=>{let[e,n]=t;return[e*a/2,n*a/2]})),s=o().Engine,i=o().Bodies,u=o().Composite,l=s.create(),p=c.sort(((t,e)=>e[1]-t[1])),m=n.map(((n,r)=>{let{r:a,id:o}=n;const[c,s]=p[r];return i.circle(c+t,s+e,2*a,{restitution:0,id:o})})),g=d.map((t=>o().Body.create({position:o().Vertices.centre(t),vertices:t,isStatic:!0}))),y=o().Body.create({isStatic:!0});o().Body.setParts(y,g),o().Body.scale(y,1.4*a,1.4*a),o().Body.translate(y,{x:t,y:e+a/2*.4}),u.add(l.world,[...m,y]);for(let r=0,o=60;r<1*o;r++)s.update(l,1e3/o);return m.map((t=>{let{position:e,id:n}=t;return{id:n,x:e.x,y:e.y}}))}}}]);
//# sourceMappingURL=711.b61b3265.chunk.js.map