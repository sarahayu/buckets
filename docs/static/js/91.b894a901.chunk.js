/*! For license information please see 91.b894a901.chunk.js.LICENSE.txt */
(self.webpackChunkbuckets=self.webpackChunkbuckets||[]).push([[91],{5091:(e,t,r)=>{"use strict";r.a(e,(async(e,a)=>{try{r.r(t),r.d(t,{default:()=>S});var n=r(5043),s=r(5760),c=r(63),l=r(1684),i=r(5111),o=r(9105),d=r(4768),u=r(8139),m=r.n(u),p=r(9985),h=r(579),f=e([c,o,d,p]);[c,o,d,p]=f.then?(await f)():f;const g=200,x="DEL_CVP_PAG_N",j="expl0000",y="median",N=(0,n.createContext)({});function S(e){let{data:t=c.jx}=e;const{current:r}=(0,n.useRef)(Object.keys(t)),{goal:a,showScens:s,sortMode:l,curObjectiveName:d,curScenName:u,curScenNamePreview:m,setGoal:p,setShowScens:f,setSortMode:v,setCurObjectiveName:g,setCurScenName:x,setCurScenNamePreview:j}=b(),{curDelivInterps:y,curOrderedScenNames:S}=k(t,r,d,u,m,l),M=(0,n.useMemo)((()=>y[d]),[d,y]),O=m||u;return(0,h.jsxs)(N.Provider,{value:{data:t,goal:a,curObjectiveName:d,curScenName:u,curScenNamePreview:m,curOrderedScenNames:S},children:[(0,h.jsxs)("div",{className:"old-dashboard",children:[(0,h.jsx)("div",{className:"old-slider-container",children:(0,h.jsx)(C,{setCurScenName:x,setShowScens:f})}),(0,h.jsxs)("div",{className:"old-bucket-map-container",children:[(0,h.jsx)(L,{levelInterp:M}),(0,h.jsx)("div",{className:"old-other-buckets-container",children:r.map((e=>(0,h.jsx)(w,{label:e,active:e!==d,onClick:()=>{g(e)},children:(0,h.jsx)(i.A,{levelInterp:y[e],width:50,height:50})},e)))})]}),(0,h.jsx)("div",{className:"old-pdf-container",children:(0,h.jsx)(o.A,{data:t[d][c.Vk][O][c.Zl],goal:a,setGoal:p})})]}),s&&(0,h.jsx)(A,{sortMode:l,setSortMode:v,setCurScenName:x,setCurScenNamePreview:j})]})}function b(){const[e,t]=(0,n.useState)(g),[r,a]=(0,n.useState)(!1),[s,c]=(0,n.useState)(y),[l,i]=(0,n.useState)(x),[o,d]=(0,n.useState)(j),[u,m]=(0,n.useState)(null);return{goal:e,setGoal:t,showScens:r,setShowScens:a,sortMode:s,setSortMode:c,curObjectiveName:l,setCurObjectiveName:i,curScenName:o,setCurScenName:d,curScenNamePreview:u,setCurScenNamePreview:m}}function k(e,t,r,a,s,c){const l=(0,n.useMemo)((()=>(0,p.Yb)(c,e,r)),[c,r]);return{curDelivInterps:(0,n.useMemo)((()=>O(e,t,s||a)),[a,s]),curOrderedScenNames:l}}function w(e){let{label:t,active:r,onClick:a,children:n}=e;return(0,h.jsxs)("div",{className:m()("old-bucket-and-label",{"old-cur-obj":!r}),onClick:a,title:t,children:[(0,h.jsx)("span",{children:t}),n]})}function C(e){let{setCurScenName:t,setShowScens:r}=e;const{curScenName:a,curScenNamePreview:s,curOrderedScenNames:c}=(0,n.useContext)(N),l=s||a;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{className:"old-input-range",orient:"vertical",type:"range",value:c.indexOf(l),min:"0",max:c.length-1,onChange:e=>{t(c[parseInt(e.target.value)])}}),(0,h.jsxs)("div",{className:"old-scen-name",children:[(0,h.jsx)("span",{children:"Current Scenario"}),(0,h.jsx)("span",{children:l}),(0,h.jsx)("span",{className:m()("old-preview-indic",{"old-visible":null!==s}),children:"Previewing"}),(0,h.jsx)("button",{onClick:()=>{r((e=>!e))},children:"See Overview"})]})]})}function L(e){let{levelInterp:t}=e;const{curObjectiveName:r,goal:a}=(0,n.useContext)(N);return(0,h.jsx)("div",{className:"old-bucket-viz",children:(0,h.jsxs)("div",{className:"old-bucket-viz-container",children:[(0,h.jsx)("span",{className:"old-main-bucket-label",children:r}),(0,h.jsx)(i.A,{levelInterp:t,width:100,height:100}),(0,h.jsxs)("div",{className:"old-bucket-razor",style:{top:s.scaleLinear().domain([0,c.pk]).range([100,0])(a)+"px"},children:[(0,h.jsx)("p",{children:"Goal"}),(0,h.jsxs)("p",{children:[s.format(".0f")(a)," ",(0,h.jsx)("span",{children:"TAF"})]})]})]})})}function A(e){let{sortMode:t,setSortMode:r,setCurScenName:a,setCurScenNamePreview:i}=e;const{data:o,curObjectiveName:u,curScenName:p,curScenNamePreview:f,curOrderedScenNames:v,goal:g}=(0,n.useContext)(N),x=(0,n.useMemo)((()=>Array.from(v).reverse().filter(((e,t)=>e===p||(0,l.kd)(0,.9,20).map((e=>Math.floor((e+.05)*v.length))).includes(t)))),[v,p]);return(0,h.jsxs)("div",{className:"old-ridgeline-overlay",children:[(0,h.jsxs)("div",{className:"old-sort-types",children:[(0,h.jsx)("input",{type:"radio",name:"sort-type",value:"median",id:"median",checked:"median"===t,onChange:()=>{r("median")}}),(0,h.jsx)("label",{htmlFor:"median",children:"Median"}),(0,h.jsx)("input",{type:"radio",name:"sort-type",value:"deliveries",id:"deliveries",checked:"deliveries"===t,onChange:()=>{r("deliveries")}}),(0,h.jsx)("label",{htmlFor:"deliveries",children:"Max. Deliveries"}),(0,h.jsx)("input",{type:"radio",name:"sort-type",value:"alphabetical",id:"alphabetical",checked:"alphabetical"===t,onChange:()=>{r("alphabetical")}}),(0,h.jsx)("label",{htmlFor:"alphabetical",children:"Alphabetical"})]}),(0,h.jsxs)("div",{className:m()("old-overlay-container",{"old-previewing":null!==f}),onMouseLeave:()=>i(null),children:[(0,h.jsx)(M,{keyList:x,children:x.map((e=>(0,h.jsxs)("div",{className:m()({"old-previewing":e===f,"old-current-scene":e===p}),onMouseEnter:()=>i(e),onClick:()=>{a(e)},children:[(0,h.jsx)(d.A,{data:o[u][c.Vk][e][c.Zl],goal:g,width:300,height:200}),(0,h.jsx)("span",{children:e})]},e)))}),(0,h.jsx)("div",{className:"old-dot-overlay-razor",style:{left:s.scaleLinear().domain([0,c.pk]).range([0,300])(g)+"px"}})]})]})}function M(e){let{keyList:t,children:r}=e;const a=(0,n.useRef)({}),s=(0,n.useRef)({}),c=(0,n.useRef)({});return(0,n.useLayoutEffect)((()=>{s.current={};for(const e in a.current)s.current[e]=a.current[e];a.current={};for(const e in c.current)a.current[e]=c.current[e].getBoundingClientRect();Object.keys(s.current).length&&n.Children.forEach(r,(e=>{const t=a.current[e.key],r=s.current[e.key];if(void 0===r||void 0===t)return;const n=t.top-r.top;n&&requestAnimationFrame((()=>{c.current[e.key].style.transform="translateY(".concat(-n,"px)"),c.current[e.key].style.transition="transform 0s",requestAnimationFrame((()=>{c.current[e.key].style.transform="",c.current[e.key].style.transition="transform 500ms"}))}))}))}),[t]),c.current={},n.Children.map(r,(e=>n.cloneElement(e,{ref:t=>{t&&(c.current[e.key]=t)}})))}function O(e,t,r){const a={};return t.forEach((t=>{const n=e[t][c.Vk][r][c.Zl];a[t]=s.scaleLinear().domain((0,l.kd)(0,1,n.length)).range(n.map((e=>Math.min(1,e/c.pk)||0))).clamp(!0)})),a}a()}catch(v){a(v)}}))},9105:(e,t,r)=>{"use strict";r.a(e,(async(e,a)=>{try{r.d(t,{A:()=>f});var n=r(5760),s=r(5043),c=r(2991),l=r(9985),i=r(63),o=r(579),d=e([l,i]);[l,i]=d.then?(await d)():d;const m=20,p={top:10,right:30,bottom:50,left:50},h=[0,i.pk];function f(e){let{data:t,goal:r,setGoal:a,width:i=600,height:d=400}=e;const u=(0,s.useRef)(),f=(0,s.useMemo)((()=>(0,c.Q)(i,d,t.length/m,h)(t)),[t]),v=[0,t.length],g=n.scaleLinear().domain(h).range([0,i]),x=n.scaleLinear().domain(v).range([d,0]),j=f.filter((e=>e[0]>r)).length;return(0,s.useEffect)((()=>{u.current.attr("width",i+p.left+p.right).attr("height",d+p.top+p.bottom).style("pointer-events","none").append("g").attr("class","graph-area").attr("transform","translate(".concat(p.left,",").concat(p.top,")")).append("g").attr("transform","translate(0, ".concat(d,")")).call(n.axisBottom().scale(n.scaleLinear().domain(h).range([0,i]))).call((e=>{e.selectAll("line").attr("stroke","gray"),e.selectAll("path").attr("stroke","gray"),e.selectAll("text").attr("fill","gray")})).append("text").attr("fill","black").attr("transform","translate(".concat(i/2,", ",30,")")).text("Delivery (TAF)");const e=document.querySelector("#pdf-razor");e.style.transform="translateX(".concat(n.scaleLinear().domain(h).range([p.left,i+p.left]).clamp(!0)(r),"px)");const t=e=>e.preventDefault();let s=!1;document.querySelector("#pdf-razor").addEventListener("mousedown",(()=>{s=!0,window.addEventListener("selectstart",t)})),document.addEventListener("mouseup",(()=>{s=!1,window.removeEventListener("selectstart",t)})),document.querySelector("#pdf-wrapper").addEventListener("mousemove",(t=>{s&&"pdf-wrapper"===t.target.id&&(e.style.transform="translateX(".concat(Math.min(Math.max(t.offsetX,p.left),p.left+i),"px)\n            "),a(n.scaleLinear().domain([p.left,i+p.left]).range(h).clamp(!0)(t.offsetX)))}))}),[]),(0,s.useEffect)((()=>{const e=u.current.select(".graph-area").selectAll(".icons").data(f).join((e=>e.append("g").call((e=>e.append("path"))))).attr("class","icons").call((e=>{e.selectAll("path").attr("d",n.symbol(l.XC,d/m))}));e.transition("position").delay((e=>100*n.scaleLinear(v).invert(e[1]))).duration(500).attr("transform",(e=>"translate(".concat(g(e[0]),",").concat(x(e[1]),")"))),e.transition("color").delay((e=>100*n.scaleLinear(v).invert(e[1]))).duration(0).attr("fill",(e=>e[0]>r?"steelblue":"black"))}),[r,f]),(0,o.jsxs)("div",{className:"dot-pdf-wrapper",id:"pdf-wrapper",children:[(0,o.jsx)("div",{className:"pdf-razor",id:"pdf-razor",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("span",{children:[f.length-j," out of ",m," years WILL NOT meet demand"]}),(0,o.jsxs)("span",{children:[j," out of ",m," years WILL meet demand"]})]})}),(0,o.jsx)("svg",{ref:e=>{u.current=n.select(e)}})]})}a()}catch(u){a(u)}}))},4768:(e,t,r)=>{"use strict";r.a(e,(async(e,a)=>{try{r.d(t,{A:()=>f});var n=r(5760),s=r(5043),c=r(2991),l=r(9985),i=r(63),o=r(579),d=e([l,i]);[l,i]=d.then?(await d)():d;const m=20,p={top:10,right:10,bottom:3,left:0},h=[0,i.pk];function f(e){let{data:t,goal:r,width:a=600,height:d=400}=e;const u=(0,s.useRef)(),f=(0,s.useMemo)((()=>(0,c.Q)(a,d,t.length/m,h)(t)),[t]);return(0,s.useEffect)((()=>{const e=u.current.attr("width",a+p.left+p.right).attr("height",d+p.top+p.bottom).style("pointer-events","none").append("g").attr("class","graph-area").attr("transform","translate(".concat(p.left,",").concat(p.top,")"));e.append("g").attr("transform","translate(0, ".concat(d,")")).call((e=>{e.selectAll("line").attr("stroke","gray"),e.selectAll("path").attr("stroke","gray")})),e.append("path").attr("class","ridgeline").attr("fill","none").attr("stroke","steelblue")}),[]),(0,s.useEffect)((()=>{const e=n.scaleLinear().domain(h).range([0,a]),r=n.scaleLinear().domain([0,.05]).range([d,0]).clamp(!0),s=(0,l.C5)((0,l.xC)(20),e.ticks(i.pk/4));u.current.select(".graph-area").select(".ridgeline").datum(s(t)).attr("d",n.line().curve(n.curveBasis).x((t=>e(t[0]))).y((e=>r(e[1]))))}),[t]),(0,s.useEffect)((()=>{const e=n.scaleLinear().domain(h).range([0,a]),s=n.scaleLinear().domain([0,t.length]).range([d,0]);u.current.select(".graph-area").selectAll(".icons").data(f).join((e=>e.append("g").attr("class","icons").call((e=>e.append("path"))))).call((e=>{e.select("path").attr("d",n.symbol(l.XC,d/m))})).attr("transform",(t=>"translate(".concat(e(t[0]),",").concat(s(t[1]),")"))).attr("fill",(e=>e[0]>r?"steelblue":"black"))}),[r,f]),(0,o.jsx)("svg",{className:"dot-pdf-shadowed",ref:e=>{u.current=n.select(e)}})}a()}catch(u){a(u)}}))},8139:(e,t)=>{var r;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=c(e,s(r)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)a.call(e,r)&&e[r]&&(t=c(t,r));return t}function c(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()}}]);
//# sourceMappingURL=91.b894a901.chunk.js.map