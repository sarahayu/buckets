"use strict";(self.webpackChunkbuckets=self.webpackChunkbuckets||[]).push([[514],{1659:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(5760),o=n(5043),i=n(3408),c=n(1684),a=n(579);const l=10;function s(e){let{levelInterp:t,colorInterp:n=c.YW,width:s=200,height:u=400,resolution:f=l}=e;const d=s-6,p=u-3,h=(0,o.useRef)();return(0,o.useLayoutEffect)((function(){h.current.attr("width",s).attr("height",u).append("g").attr("class","bucket").attr("transform","translate(".concat(3,", ").concat(1.5,")")).call((0,i.Qj)(d,p,i.R1))}),[]),(0,o.useLayoutEffect)((function(){const e=(0,c.kd)(0,1,f+1).map((e=>t(e))),r=(0,i.fq)(d,p,c.m8),o=h.current.select(".graph-area").selectAll(".bucket-box").data(r(e)).join("rect").attr("class","bucket-box").attr("width",(e=>e.width)).attr("height",(e=>e.height)).attr("x",(e=>e.x)).attr("fill",((e,t)=>n(t/f)));(0,i.Uy)(o,200/u).attr("y",(e=>e.y))}),[t]),(0,a.jsx)("div",{className:"waterdrop-wrapper",children:(0,a.jsx)("svg",{ref:e=>{h.current=r.select(e)}})})}},3394:(e,t,n)=>{n.d(t,{YB:()=>o,f2:()=>i});var r=n(5760);Math.SQRT1_2;function o(e,t,n){(t||r).selectAll(e).style("display",n||"block")}function i(e,t){(t||r).selectAll(e).style("display","none")}},3999:(e,t,n)=>{n.d(t,{h:()=>p,p:()=>S});var r=n(5043);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],c=!0,a=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);c=!0);}catch(l){a=!0,o=l}finally{try{c||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){return"string"===typeof e&&e.includes("px")},u={position:"fixed",left:0,width:"100%",height:0,borderTop:"2px dashed black",zIndex:9999},f={fontSize:"12px",fontFamily:"monospace",margin:0,padding:6},d=function(e){var t=e.offset,n=function(e){return s(e)?e:"".concat(100*e,"%")}(t);return r.createElement("div",{style:i(i({},u),{},{top:n})},r.createElement("p",{style:f},"trigger: ",t))},p=function(e){var t=e.debug,n=e.children,o=e.offset,i=void 0===o?.3:o,c=e.onStepEnter,l=void 0===c?function(){}:c,u=e.onStepExit,f=void 0===u?function(){}:u,p=e.onStepProgress,h=void 0===p?null:p,g=e.threshold,y=void 0===g?4:g,b=s(i),v=a((0,r.useState)(0),2),m=v[0],w=v[1],S=a((0,r.useState)(null),2),E=S[0],x=S[1],O=function(e){w(e)},k=function(e){x(window.innerHeight)};r.useEffect((function(){if(b)return window.addEventListener("resize",k),function(){window.removeEventListener("resize",k)}}),[]);var j="undefined"!==typeof window?E||window.innerHeight:0,I=b?+i.replace("px","")/j:i,A=(0,r.useMemo)((function(){return function(e,t){for(var n=Math.ceil(t/e),r=[],o=1/n,i=0;i<=n;i+=1)r.push(i*o);return r}(y,j)}),[j]);return r.createElement(r.Fragment,null,t&&r.createElement(d,{offset:i}),r.Children.map(n,(function(e,t){return r.cloneElement(e,{scrollamaId:"react-scrollama-".concat(t),offset:I,onStepEnter:l,onStepExit:f,onStepProgress:h,lastScrollTop:m,handleSetLastScrollTop:O,progressThreshold:A,innerHeight:j})})))};const h=new Map,g=new WeakMap;let y,b=0;function v(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return"".concat(t,"_").concat("root"===t?(n=e.root)?(g.has(n)||(b+=1,g.set(n,b.toString())),g.get(n)):"0":e[t]);var n})).toString()}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){const o=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:o,observer:i,elements:c}=function(e){let t=v(e),n=h.get(t);if(!n){const r=new Map;let o;const i=new IntersectionObserver((t=>{t.forEach((t=>{var n;const i=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=i),null==(n=r.get(t.target))||n.forEach((e=>{e(i,t)}))}))}),e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:r},h.set(t,n)}return n}(n);let a=c.get(e)||[];return c.has(e)||c.set(e,a),a.push(t),i.observe(e),function(){a.splice(a.indexOf(t),1),0===a.length&&(c.delete(e),i.unobserve(e)),0===c.size&&(i.disconnect(),h.delete(o))}}function w(){let{threshold:e,delay:t,trackVisibility:n,rootMargin:o,root:i,triggerOnce:c,skip:a,initialInView:l,fallbackInView:s,onChange:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f=r.useRef(),d=r.useRef(),[p,h]=r.useState({inView:!!l});d.current=u;const g=r.useCallback((r=>{void 0!==f.current&&(f.current(),f.current=void 0),a||r&&(f.current=m(r,((e,t)=>{h({inView:e,entry:t}),d.current&&d.current(e,t),t.isIntersecting&&c&&f.current&&(f.current(),f.current=void 0)}),{root:i,rootMargin:o,threshold:e,trackVisibility:n,delay:t},s))}),[Array.isArray(e)?e.toString():e,i,o,c,a,n,s,t]);r.useEffect((()=>{f.current||!p.entry||c||a||h({inView:!!l})}));const y=[g,p.inView,p.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}var S=function(e){var t=e.children,n=e.data,o=e.handleSetLastScrollTop,i=e.lastScrollTop,c=e.onStepEnter,l=void 0===c?function(){}:c,s=e.onStepExit,u=void 0===s?function(){}:s,f=e.onStepProgress,d=void 0===f?null:f,p=e.offset,h=e.scrollamaId,g=e.progressThreshold,y=e.innerHeight,b="undefined"!==typeof window?document.documentElement.scrollTop:0,v=i<b?"down":"up",m=function(e){return"-".concat(100*e,"% 0px -").concat(100-100*e,"% 0px")}(p),S=(0,r.useRef)(null),E=a((0,r.useState)(!1),2),x=E[0],O=E[1],k=w({rootMargin:m,threshold:0}),j=k.ref,I=k.entry,A=w({rootMargin:(0,r.useMemo)((function(){return function(e,t,n,r){if(!n.current)return"0px";var o=n.current.offsetHeight/r;return"down"===e?"".concat(100*(o-t),"% 0px ").concat(100*t-100,"% 0px"):"-".concat(100*t,"% 0px ").concat(100*o-(100-100*t),"% 0px")}(v,p,S,y)}),[v,p,S,y]),threshold:g}),M=A.ref,P=A.entry,R=(0,r.useCallback)((function(e){S.current=e,j(e),M(e)}),[j,M]);return r.useEffect((function(){if(x){var e=P.target.getBoundingClientRect(),t=e.height,r=e.top,o=Math.min(1,Math.max(0,(window.innerHeight*p-r)/t));d&&d({progress:o,scrollamaId:h,data:n,element:P.target,entry:P,direction:v})}}),[P]),r.useEffect((function(){I&&!I.isIntersecting&&x?(u({element:I.target,scrollamaId:h,data:n,entry:I,direction:v}),O(!1),o(b)):I&&I.isIntersecting&&!x&&(O(!0),l({element:I.target,scrollamaId:h,data:n,entry:I,direction:v}),o(b))}),[I]),r.cloneElement(r.Children.only(t),{"data-react-scrollama-id":h,ref:R,entry:I})}}}]);
//# sourceMappingURL=514.9a7d7dfd.chunk.js.map