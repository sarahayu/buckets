/*! For license information please see 477.389cef9d.chunk.js.LICENSE.txt */
(self.webpackChunkbuckets=self.webpackChunkbuckets||[]).push([[477],{783:function(t,e,n){var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e){var i={};t.exports=i,function(){i._baseDelta=1e3/60,i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(t,e){var n,r;"boolean"===typeof e?(n=2,r=e):(n=1,r=!0);for(var o=n;o<arguments.length;o++){var a=arguments[o];if(a)for(var s in a)r&&a[s]&&a[s].constructor===Object?t[s]&&t[s].constructor!==Object?t[s]=a[s]:(t[s]=t[s]||{},i.extend(t[s],r,a[s])):t[s]=a[s]}return t},i.clone=function(t,e){return i.extend({},e,t)},i.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},i.values=function(t){var e=[];if(Object.keys){for(var n=Object.keys(t),i=0;i<n.length;i++)e.push(t[n[i]]);return e}for(var r in t)e.push(t[r]);return e},i.get=function(t,e,n,i){e=e.split(".").slice(n,i);for(var r=0;r<e.length;r+=1)t=t[e[r]];return t},i.set=function(t,e,n,r,o){var a=e.split(".").slice(r,o);return i.get(t,e,0,-1)[a[a.length-1]]=n,n},i.shuffle=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(i.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t},i.choose=function(t){return t[Math.floor(i.random()*t.length)]},i.isElement=function(t){return"undefined"!==typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isFunction=function(t){return"function"===typeof t},i.isPlainObject=function(t){return"object"===typeof t&&t.constructor===Object},i.isString=function(t){return"[object String]"===toString.call(t)},i.clamp=function(t,e,n){return t<e?e:t>n?n:t},i.sign=function(t){return t<0?-1:1},i.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(e,n){return n="undefined"!==typeof n?n:1,(e="undefined"!==typeof e?e:0)+t()*(n-e)};var t=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[t]||(i.warn(t),i._warnedOnce[t]=!0)},i.deprecated=function(t,e,n){t[e]=i.chain((function(){i.warnOnce("\ud83d\udd05 deprecated \ud83d\udd05",n)}),t[e])},i.nextId=function(){return i._nextId++},i.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},i.map=function(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i+=1)n.push(e(t[i]));return n},i.topologicalSort=function(t){var e=[],n=[],r=[];for(var o in t)n[o]||r[o]||i._topologicalSort(o,n,r,t,e);return e},i._topologicalSort=function(t,e,n,r,o){var a=r[t]||[];n[t]=!0;for(var s=0;s<a.length;s+=1){var l=a[s];n[l]||e[l]||i._topologicalSort(l,e,n,r,o)}n[t]=!1,e[t]=!0,o.push(t)},i.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var n=arguments[e];n._chained?t.push.apply(t,n._chained):t.push(n)}var i=function(){for(var e,n=new Array(arguments.length),i=0,r=arguments.length;i<r;i++)n[i]=arguments[i];for(i=0;i<t.length;i+=1){var o=t[i].apply(e,n);"undefined"!==typeof o&&(e=o)}return e};return i._chained=t,i},i.chainPathBefore=function(t,e,n){return i.set(t,e,i.chain(n,i.get(t,e)))},i.chainPathAfter=function(t,e,n){return i.set(t,e,i.chain(i.get(t,e),n))},i.setDecomp=function(t){i._decomp=t},i.getDecomp=function(){var t=i._decomp;try{t||"undefined"===typeof window||(t=window.decomp),t||"undefined"===typeof n.g||(t=n.g.decomp)}catch(e){t=null}return t}}()},function(t,e){var n={};t.exports=n,n.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&n.update(e,t),e},n.update=function(t,e,n){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var i=0;i<e.length;i++){var r=e[i];r.x>t.max.x&&(t.max.x=r.x),r.x<t.min.x&&(t.min.x=r.x),r.y>t.max.y&&(t.max.y=r.y),r.y<t.min.y&&(t.min.y=r.y)}n&&(n.x>0?t.max.x+=n.x:t.min.x+=n.x,n.y>0?t.max.y+=n.y:t.min.y+=n.y)},n.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},n.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},n.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},n.shift=function(t,e){var n=t.max.x-t.min.x,i=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+n,t.min.y=e.y,t.max.y=e.y+i}},function(t,e){var n={};t.exports=n,n.create=function(t,e){return{x:t||0,y:e||0}},n.clone=function(t){return{x:t.x,y:t.y}},n.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},n.rotate=function(t,e,n){var i=Math.cos(e),r=Math.sin(e);n||(n={});var o=t.x*i-t.y*r;return n.y=t.x*r+t.y*i,n.x=o,n},n.rotateAbout=function(t,e,n,i){var r=Math.cos(e),o=Math.sin(e);i||(i={});var a=n.x+((t.x-n.x)*r-(t.y-n.y)*o);return i.y=n.y+((t.x-n.x)*o+(t.y-n.y)*r),i.x=a,i},n.normalise=function(t){var e=n.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.cross=function(t,e){return t.x*e.y-t.y*e.x},n.cross3=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},n.add=function(t,e,n){return n||(n={}),n.x=t.x+e.x,n.y=t.y+e.y,n},n.sub=function(t,e,n){return n||(n={}),n.x=t.x-e.x,n.y=t.y-e.y,n},n.mult=function(t,e){return{x:t.x*e,y:t.y*e}},n.div=function(t,e){return{x:t.x/e,y:t.y/e}},n.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},n.neg=function(t){return{x:-t.x,y:-t.y}},n.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]},function(t,e,n){var i={};t.exports=i;var r=n(2),o=n(0);i.create=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i],o={x:r.x,y:r.y,index:i,body:e,isInternal:!1};n.push(o)}return n},i.fromPath=function(t,e){var n=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(t,e,i){n.push({x:parseFloat(e),y:parseFloat(i)})})),i.create(n,e)},i.centre=function(t){for(var e,n,o,a=i.area(t,!0),s={x:0,y:0},l=0;l<t.length;l++)o=(l+1)%t.length,e=r.cross(t[l],t[o]),n=r.mult(r.add(t[l],t[o]),e),s=r.add(s,n);return r.div(s,6*a)},i.mean=function(t){for(var e={x:0,y:0},n=0;n<t.length;n++)e.x+=t[n].x,e.y+=t[n].y;return r.div(e,t.length)},i.area=function(t,e){for(var n=0,i=t.length-1,r=0;r<t.length;r++)n+=(t[i].x-t[r].x)*(t[i].y+t[r].y),i=r;return e?n/2:Math.abs(n)/2},i.inertia=function(t,e){for(var n,i,o=0,a=0,s=t,l=0;l<s.length;l++)i=(l+1)%s.length,o+=(n=Math.abs(r.cross(s[i],s[l])))*(r.dot(s[i],s[i])+r.dot(s[i],s[l])+r.dot(s[l],s[l])),a+=n;return e/6*(o/a)},i.translate=function(t,e,n){n="undefined"!==typeof n?n:1;var i,r=t.length,o=e.x*n,a=e.y*n;for(i=0;i<r;i++)t[i].x+=o,t[i].y+=a;return t},i.rotate=function(t,e,n){if(0!==e){var i,r,o,a,s=Math.cos(e),l=Math.sin(e),u=n.x,c=n.y,f=t.length;for(a=0;a<f;a++)r=(i=t[a]).x-u,o=i.y-c,i.x=u+(r*s-o*l),i.y=c+(r*l+o*s);return t}},i.contains=function(t,e){for(var n,i=e.x,r=e.y,o=t.length,a=t[o-1],s=0;s<o;s++){if(n=t[s],(i-a.x)*(n.y-a.y)+(r-a.y)*(a.x-n.x)>0)return!1;a=n}return!0},i.scale=function(t,e,n,o){if(1===e&&1===n)return t;var a,s;o=o||i.centre(t);for(var l=0;l<t.length;l++)a=t[l],s=r.sub(a,o),t[l].x=o.x+s.x*e,t[l].y=o.y+s.y*n;return t},i.chamfer=function(t,e,n,i,a){e="number"===typeof e?[e]:e||[8],n="undefined"!==typeof n?n:-1,i=i||2,a=a||14;for(var s=[],l=0;l<t.length;l++){var u=t[l-1>=0?l-1:t.length-1],c=t[l],f=t[(l+1)%t.length],p=e[l<e.length?l:e.length-1];if(0!==p){var h=r.normalise({x:c.y-u.y,y:u.x-c.x}),d=r.normalise({x:f.y-c.y,y:c.x-f.x}),y=Math.sqrt(2*Math.pow(p,2)),v=r.mult(o.clone(h),p),g=r.normalise(r.mult(r.add(h,d),.5)),m=r.sub(c,r.mult(g,y)),x=n;-1===n&&(x=1.75*Math.pow(p,.32)),(x=o.clamp(x,i,a))%2===1&&(x+=1);for(var b=Math.acos(r.dot(h,d))/x,w=0;w<x;w++)s.push(r.add(r.rotate(v,b*w),m))}else s.push(c)}return s},i.clockwiseSort=function(t){var e=i.mean(t);return t.sort((function(t,n){return r.angle(e,t)-r.angle(e,n)})),t},i.isConvex=function(t){var e,n,i,r,o=0,a=t.length;if(a<3)return null;for(e=0;e<a;e++)if(i=(e+2)%a,r=(t[n=(e+1)%a].x-t[e].x)*(t[i].y-t[n].y),(r-=(t[n].y-t[e].y)*(t[i].x-t[n].x))<0?o|=1:r>0&&(o|=2),3===o)return!1;return 0!==o||null},i.hull=function(t){var e,n,i=[],o=[];for((t=t.slice(0)).sort((function(t,e){var n=t.x-e.x;return 0!==n?n:t.y-e.y})),n=0;n<t.length;n+=1){for(e=t[n];o.length>=2&&r.cross3(o[o.length-2],o[o.length-1],e)<=0;)o.pop();o.push(e)}for(n=t.length-1;n>=0;n-=1){for(e=t[n];i.length>=2&&r.cross3(i[i.length-2],i[i.length-1],e)<=0;)i.pop();i.push(e)}return i.pop(),o.pop(),i.concat(o)}},function(t,e,n){var i={};t.exports=i;var r=n(3),o=n(2),a=n(7),s=n(0),l=n(1),u=n(11);!function(){i._timeCorrection=!0,i._inertiaScale=4,i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,i._baseDelta=1e3/60,i.create=function(e){var n={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:r.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},i=s.extend(n,e);return t(i,e),i},i.nextGroup=function(t){return t?i._nextNonCollidingGroupId--:i._nextCollidingGroupId++},i.nextCategory=function(){return i._nextCategory=i._nextCategory<<1,i._nextCategory};var t=function(t,e){e=e||{},i.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||o.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),r.rotate(t.vertices,t.angle,t.position),u.rotate(t.axes,t.angle),l.update(t.bounds,t.vertices,t.velocity),i.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var n=t.isStatic?"#14151f":s.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),a=t.isStatic?"#555":"#ccc",c=t.isStatic&&null===t.render.fillStyle?1:0;t.render.fillStyle=t.render.fillStyle||n,t.render.strokeStyle=t.render.strokeStyle||a,t.render.lineWidth=t.render.lineWidth||c,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};i.set=function(t,e,n){var r;for(r in"string"===typeof e&&(r=e,(e={})[r]=n),e)if(Object.prototype.hasOwnProperty.call(e,r))switch(n=e[r],r){case"isStatic":i.setStatic(t,n);break;case"isSleeping":a.set(t,n);break;case"mass":i.setMass(t,n);break;case"density":i.setDensity(t,n);break;case"inertia":i.setInertia(t,n);break;case"vertices":i.setVertices(t,n);break;case"position":i.setPosition(t,n);break;case"angle":i.setAngle(t,n);break;case"velocity":i.setVelocity(t,n);break;case"angularVelocity":i.setAngularVelocity(t,n);break;case"speed":i.setSpeed(t,n);break;case"angularSpeed":i.setAngularSpeed(t,n);break;case"parts":i.setParts(t,n);break;case"centre":i.setCentre(t,n);break;default:t[r]=n}},i.setStatic=function(t,e){for(var n=0;n<t.parts.length;n++){var i=t.parts[n];i.isStatic=e,e?(i._original={restitution:i.restitution,friction:i.friction,mass:i.mass,inertia:i.inertia,density:i.density,inverseMass:i.inverseMass,inverseInertia:i.inverseInertia},i.restitution=0,i.friction=1,i.mass=i.inertia=i.density=1/0,i.inverseMass=i.inverseInertia=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.angularVelocity=0,i.speed=0,i.angularSpeed=0,i.motion=0):i._original&&(i.restitution=i._original.restitution,i.friction=i._original.friction,i.mass=i._original.mass,i.inertia=i._original.inertia,i.density=i._original.density,i.inverseMass=i._original.inverseMass,i.inverseInertia=i._original.inverseInertia,i._original=null)}},i.setMass=function(t,e){var n=t.inertia/(t.mass/6);t.inertia=n*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},i.setDensity=function(t,e){i.setMass(t,e*t.area),t.density=e},i.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},i.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=r.create(e,t),t.axes=u.fromVertices(t.vertices),t.area=r.area(t.vertices),i.setMass(t,t.density*t.area);var n=r.centre(t.vertices);r.translate(t.vertices,n,-1),i.setInertia(t,i._inertiaScale*r.inertia(t.vertices,t.mass)),r.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},i.setParts=function(t,e,n){var o;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,o=0;o<e.length;o++){var a=e[o];a!==t&&(a.parent=t,t.parts.push(a))}if(1!==t.parts.length){if(n="undefined"===typeof n||n){var s=[];for(o=0;o<e.length;o++)s=s.concat(e[o].vertices);r.clockwiseSort(s);var l=r.hull(s),u=r.centre(l);i.setVertices(t,l),r.translate(t.vertices,u)}var c=i._totalProperties(t);t.area=c.area,t.parent=t,t.position.x=c.centre.x,t.position.y=c.centre.y,t.positionPrev.x=c.centre.x,t.positionPrev.y=c.centre.y,i.setMass(t,c.mass),i.setInertia(t,c.inertia),i.setPosition(t,c.centre)}},i.setCentre=function(t,e,n){n?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},i.setPosition=function(t,e,n){var i=o.sub(e,t.position);n?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=i.x,t.velocity.y=i.y,t.speed=o.magnitude(i)):(t.positionPrev.x+=i.x,t.positionPrev.y+=i.y);for(var a=0;a<t.parts.length;a++){var s=t.parts[a];s.position.x+=i.x,s.position.y+=i.y,r.translate(s.vertices,i),l.update(s.bounds,s.vertices,t.velocity)}},i.setAngle=function(t,e,n){var i=e-t.angle;n?(t.anglePrev=t.angle,t.angularVelocity=i,t.angularSpeed=Math.abs(i)):t.anglePrev+=i;for(var a=0;a<t.parts.length;a++){var s=t.parts[a];s.angle+=i,r.rotate(s.vertices,i,t.position),u.rotate(s.axes,i),l.update(s.bounds,s.vertices,t.velocity),a>0&&o.rotateAbout(s.position,i,t.position,s.position)}},i.setVelocity=function(t,e){var n=t.deltaTime/i._baseDelta;t.positionPrev.x=t.position.x-e.x*n,t.positionPrev.y=t.position.y-e.y*n,t.velocity.x=(t.position.x-t.positionPrev.x)/n,t.velocity.y=(t.position.y-t.positionPrev.y)/n,t.speed=o.magnitude(t.velocity)},i.getVelocity=function(t){var e=i._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*e,y:(t.position.y-t.positionPrev.y)*e}},i.getSpeed=function(t){return o.magnitude(i.getVelocity(t))},i.setSpeed=function(t,e){i.setVelocity(t,o.mult(o.normalise(i.getVelocity(t)),e))},i.setAngularVelocity=function(t,e){var n=t.deltaTime/i._baseDelta;t.anglePrev=t.angle-e*n,t.angularVelocity=(t.angle-t.anglePrev)/n,t.angularSpeed=Math.abs(t.angularVelocity)},i.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*i._baseDelta/t.deltaTime},i.getAngularSpeed=function(t){return Math.abs(i.getAngularVelocity(t))},i.setAngularSpeed=function(t,e){i.setAngularVelocity(t,s.sign(i.getAngularVelocity(t))*e)},i.translate=function(t,e,n){i.setPosition(t,o.add(t.position,e),n)},i.rotate=function(t,e,n,r){if(n){var o=Math.cos(e),a=Math.sin(e),s=t.position.x-n.x,l=t.position.y-n.y;i.setPosition(t,{x:n.x+(s*o-l*a),y:n.y+(s*a+l*o)},r),i.setAngle(t,t.angle+e,r)}else i.setAngle(t,t.angle+e,r)},i.scale=function(t,e,n,o){var a=0,s=0;o=o||t.position;for(var c=0;c<t.parts.length;c++){var f=t.parts[c];r.scale(f.vertices,e,n,o),f.axes=u.fromVertices(f.vertices),f.area=r.area(f.vertices),i.setMass(f,t.density*f.area),r.translate(f.vertices,{x:-f.position.x,y:-f.position.y}),i.setInertia(f,i._inertiaScale*r.inertia(f.vertices,f.mass)),r.translate(f.vertices,{x:f.position.x,y:f.position.y}),c>0&&(a+=f.area,s+=f.inertia),f.position.x=o.x+(f.position.x-o.x)*e,f.position.y=o.y+(f.position.y-o.y)*n,l.update(f.bounds,f.vertices,t.velocity)}t.parts.length>1&&(t.area=a,t.isStatic||(i.setMass(t,t.density*a),i.setInertia(t,s))),t.circleRadius&&(e===n?t.circleRadius*=e:t.circleRadius=null)},i.update=function(t,e){var n=(e=("undefined"!==typeof e?e:1e3/60)*t.timeScale)*e,a=i._timeCorrection?e/(t.deltaTime||e):1,c=1-t.frictionAir*(e/s._baseDelta),f=(t.position.x-t.positionPrev.x)*a,p=(t.position.y-t.positionPrev.y)*a;t.velocity.x=f*c+t.force.x/t.mass*n,t.velocity.y=p*c+t.force.y/t.mass*n,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=e,t.angularVelocity=(t.angle-t.anglePrev)*c*a+t.torque/t.inertia*n,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var h=0;h<t.parts.length;h++){var d=t.parts[h];r.translate(d.vertices,t.velocity),h>0&&(d.position.x+=t.velocity.x,d.position.y+=t.velocity.y),0!==t.angularVelocity&&(r.rotate(d.vertices,t.angularVelocity,t.position),u.rotate(d.axes,t.angularVelocity),h>0&&o.rotateAbout(d.position,t.angularVelocity,t.position,d.position)),l.update(d.bounds,d.vertices,t.velocity)}},i.updateVelocities=function(t){var e=i._baseDelta/t.deltaTime,n=t.velocity;n.x=(t.position.x-t.positionPrev.x)*e,n.y=(t.position.y-t.positionPrev.y)*e,t.speed=Math.sqrt(n.x*n.x+n.y*n.y),t.angularVelocity=(t.angle-t.anglePrev)*e,t.angularSpeed=Math.abs(t.angularVelocity)},i.applyForce=function(t,e,n){var i=e.x-t.position.x,r=e.y-t.position.y;t.force.x+=n.x,t.force.y+=n.y,t.torque+=i*n.y-r*n.x},i._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===t.parts.length?0:1;n<t.parts.length;n++){var i=t.parts[n],r=i.mass!==1/0?i.mass:1;e.mass+=r,e.area+=i.area,e.inertia+=i.inertia,e.centre=o.add(e.centre,o.mult(i.position,r))}return e.centre=o.div(e.centre,e.mass),e}}()},function(t,e,n){var i={};t.exports=i;var r=n(0);i.on=function(t,e,n){for(var i,r=e.split(" "),o=0;o<r.length;o++)i=r[o],t.events=t.events||{},t.events[i]=t.events[i]||[],t.events[i].push(n);return n},i.off=function(t,e,n){if(e){"function"===typeof e&&(n=e,e=r.keys(t.events).join(" "));for(var i=e.split(" "),o=0;o<i.length;o++){var a=t.events[i[o]],s=[];if(n&&a)for(var l=0;l<a.length;l++)a[l]!==n&&s.push(a[l]);t.events[i[o]]=s}}else t.events={}},i.trigger=function(t,e,n){var i,o,a,s,l=t.events;if(l&&r.keys(l).length>0){n||(n={}),i=e.split(" ");for(var u=0;u<i.length;u++)if(a=l[o=i[u]]){(s=r.clone(n,!1)).name=o,s.source=t;for(var c=0;c<a.length;c++)a[c].apply(t,[s])}}}},function(t,e,n){var i={};t.exports=i;var r=n(5),o=n(0),a=n(1),s=n(4);i.create=function(t){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},i.setModified=function(t,e,n,r){if(t.isModified=e,e&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),n&&t.parent&&i.setModified(t.parent,e,n,r),r)for(var o=0;o<t.composites.length;o++){var a=t.composites[o];i.setModified(a,e,n,r)}},i.add=function(t,e){var n=[].concat(e);r.trigger(t,"beforeAdd",{object:e});for(var a=0;a<n.length;a++){var s=n[a];switch(s.type){case"body":if(s.parent!==s){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}i.addBody(t,s);break;case"constraint":i.addConstraint(t,s);break;case"composite":i.addComposite(t,s);break;case"mouseConstraint":i.addConstraint(t,s.constraint)}}return r.trigger(t,"afterAdd",{object:e}),t},i.remove=function(t,e,n){var o=[].concat(e);r.trigger(t,"beforeRemove",{object:e});for(var a=0;a<o.length;a++){var s=o[a];switch(s.type){case"body":i.removeBody(t,s,n);break;case"constraint":i.removeConstraint(t,s,n);break;case"composite":i.removeComposite(t,s,n);break;case"mouseConstraint":i.removeConstraint(t,s.constraint)}}return r.trigger(t,"afterRemove",{object:e}),t},i.addComposite=function(t,e){return t.composites.push(e),e.parent=t,i.setModified(t,!0,!0,!1),t},i.removeComposite=function(t,e,n){var r=o.indexOf(t.composites,e);if(-1!==r&&i.removeCompositeAt(t,r),n)for(var a=0;a<t.composites.length;a++)i.removeComposite(t.composites[a],e,!0);return t},i.removeCompositeAt=function(t,e){return t.composites.splice(e,1),i.setModified(t,!0,!0,!1),t},i.addBody=function(t,e){return t.bodies.push(e),i.setModified(t,!0,!0,!1),t},i.removeBody=function(t,e,n){var r=o.indexOf(t.bodies,e);if(-1!==r&&i.removeBodyAt(t,r),n)for(var a=0;a<t.composites.length;a++)i.removeBody(t.composites[a],e,!0);return t},i.removeBodyAt=function(t,e){return t.bodies.splice(e,1),i.setModified(t,!0,!0,!1),t},i.addConstraint=function(t,e){return t.constraints.push(e),i.setModified(t,!0,!0,!1),t},i.removeConstraint=function(t,e,n){var r=o.indexOf(t.constraints,e);if(-1!==r&&i.removeConstraintAt(t,r),n)for(var a=0;a<t.composites.length;a++)i.removeConstraint(t.composites[a],e,!0);return t},i.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),i.setModified(t,!0,!0,!1),t},i.clear=function(t,e,n){if(n)for(var r=0;r<t.composites.length;r++)i.clear(t.composites[r],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,i.setModified(t,!0,!0,!1),t},i.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var e=[].concat(t.bodies),n=0;n<t.composites.length;n++)e=e.concat(i.allBodies(t.composites[n]));return t.cache&&(t.cache.allBodies=e),e},i.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var e=[].concat(t.constraints),n=0;n<t.composites.length;n++)e=e.concat(i.allConstraints(t.composites[n]));return t.cache&&(t.cache.allConstraints=e),e},i.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var e=[].concat(t.composites),n=0;n<t.composites.length;n++)e=e.concat(i.allComposites(t.composites[n]));return t.cache&&(t.cache.allComposites=e),e},i.get=function(t,e,n){var r,o;switch(n){case"body":r=i.allBodies(t);break;case"constraint":r=i.allConstraints(t);break;case"composite":r=i.allComposites(t).concat(t)}return r?0===(o=r.filter((function(t){return t.id.toString()===e.toString()}))).length?null:o[0]:null},i.move=function(t,e,n){return i.remove(t,e),i.add(n,e),t},i.rebase=function(t){for(var e=i.allBodies(t).concat(i.allConstraints(t)).concat(i.allComposites(t)),n=0;n<e.length;n++)e[n].id=o.nextId();return t},i.translate=function(t,e,n){for(var r=n?i.allBodies(t):t.bodies,o=0;o<r.length;o++)s.translate(r[o],e);return t},i.rotate=function(t,e,n,r){for(var o=Math.cos(e),a=Math.sin(e),l=r?i.allBodies(t):t.bodies,u=0;u<l.length;u++){var c=l[u],f=c.position.x-n.x,p=c.position.y-n.y;s.setPosition(c,{x:n.x+(f*o-p*a),y:n.y+(f*a+p*o)}),s.rotate(c,e)}return t},i.scale=function(t,e,n,r,o){for(var a=o?i.allBodies(t):t.bodies,l=0;l<a.length;l++){var u=a[l],c=u.position.x-r.x,f=u.position.y-r.y;s.setPosition(u,{x:r.x+c*e,y:r.y+f*n}),s.scale(u,e,n)}return t},i.bounds=function(t){for(var e=i.allBodies(t),n=[],r=0;r<e.length;r+=1){var o=e[r];n.push(o.bounds.min,o.bounds.max)}return a.create(n)}},function(t,e,n){var i={};t.exports=i;var r=n(4),o=n(5),a=n(0);i._motionWakeThreshold=.18,i._motionSleepThreshold=.08,i._minBias=.9,i.update=function(t,e){for(var n=e/a._baseDelta,o=i._motionSleepThreshold,s=0;s<t.length;s++){var l=t[s],u=r.getSpeed(l),c=r.getAngularSpeed(l),f=u*u+c*c;if(0===l.force.x&&0===l.force.y){var p=Math.min(l.motion,f),h=Math.max(l.motion,f);l.motion=i._minBias*p+(1-i._minBias)*h,l.sleepThreshold>0&&l.motion<o?(l.sleepCounter+=1,l.sleepCounter>=l.sleepThreshold/n&&i.set(l,!0)):l.sleepCounter>0&&(l.sleepCounter-=1)}else i.set(l,!1)}},i.afterCollisions=function(t){for(var e=i._motionSleepThreshold,n=0;n<t.length;n++){var r=t[n];if(r.isActive){var o=r.collision,a=o.bodyA.parent,s=o.bodyB.parent;if(!(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)&&(a.isSleeping||s.isSleeping)){var l=a.isSleeping&&!a.isStatic?a:s,u=l===a?s:a;!l.isStatic&&u.motion>e&&i.set(l,!1)}}}},i.set=function(t,e){var n=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,n||o.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,n&&o.trigger(t,"sleepEnd"))}},function(t,e,n){var i={};t.exports=i;var r=n(3),o=n(9);!function(){var t=[],e={overlap:0,axis:null},n={overlap:0,axis:null};i.create=function(t,e){return{pair:null,collided:!1,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},i.collides=function(t,a,s){if(i._overlapAxes(e,t.vertices,a.vertices,t.axes),e.overlap<=0)return null;if(i._overlapAxes(n,a.vertices,t.vertices,a.axes),n.overlap<=0)return null;var l,u,c=s&&s.table[o.id(t,a)];c?l=c.collision:((l=i.create(t,a)).collided=!0,l.bodyA=t.id<a.id?t:a,l.bodyB=t.id<a.id?a:t,l.parentA=l.bodyA.parent,l.parentB=l.bodyB.parent),t=l.bodyA,a=l.bodyB,u=e.overlap<n.overlap?e:n;var f=l.normal,p=l.supports,h=u.axis,d=h.x,y=h.y;d*(a.position.x-t.position.x)+y*(a.position.y-t.position.y)<0?(f.x=d,f.y=y):(f.x=-d,f.y=-y),l.tangent.x=-f.y,l.tangent.y=f.x,l.depth=u.overlap,l.penetration.x=f.x*l.depth,l.penetration.y=f.y*l.depth;var v=i._findSupports(t,a,f,1),g=0;if(r.contains(t.vertices,v[0])&&(p[g++]=v[0]),r.contains(t.vertices,v[1])&&(p[g++]=v[1]),g<2){var m=i._findSupports(a,t,f,-1);r.contains(a.vertices,m[0])&&(p[g++]=m[0]),g<2&&r.contains(a.vertices,m[1])&&(p[g++]=m[1])}return 0===g&&(p[g++]=v[0]),p.length=g,l},i._overlapAxes=function(t,e,n,i){var r,o,a,s,l,u,c=e.length,f=n.length,p=e[0].x,h=e[0].y,d=n[0].x,y=n[0].y,v=i.length,g=Number.MAX_VALUE,m=0;for(l=0;l<v;l++){var x=i[l],b=x.x,w=x.y,_=p*b+h*w,S=d*b+y*w,M=_,A=S;for(u=1;u<c;u+=1)(s=e[u].x*b+e[u].y*w)>M?M=s:s<_&&(_=s);for(u=1;u<f;u+=1)(s=n[u].x*b+n[u].y*w)>A?A=s:s<S&&(S=s);if((r=(o=M-S)<(a=A-_)?o:a)<g&&(g=r,m=l,r<=0))break}t.axis=i[m],t.overlap=g},i._projectToAxis=function(t,e,n){for(var i=e[0].x*n.x+e[0].y*n.y,r=i,o=1;o<e.length;o+=1){var a=e[o].x*n.x+e[o].y*n.y;a>r?r=a:a<i&&(i=a)}t.min=i,t.max=r},i._findSupports=function(e,n,i,r){var o,a,s,l,u,c=n.vertices,f=c.length,p=e.position.x,h=e.position.y,d=i.x*r,y=i.y*r,v=Number.MAX_VALUE;for(u=0;u<f;u+=1)(l=d*(p-(a=c[u]).x)+y*(h-a.y))<v&&(v=l,o=a);return v=d*(p-(s=c[(f+o.index-1)%f]).x)+y*(h-s.y),d*(p-(a=c[(o.index+1)%f]).x)+y*(h-a.y)<v?(t[0]=o,t[1]=a,t):(t[0]=o,t[1]=s,t)}}()},function(t,e,n){var i={};t.exports=i;var r=n(16);i.create=function(t,e){var n=t.bodyA,r=t.bodyB,o={id:i.id(n,r),bodyA:n,bodyB:r,collision:t,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||r.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(o,t,e),o},i.update=function(t,e,n){var i=t.contacts,o=e.supports,a=t.activeContacts,s=e.parentA,l=e.parentB,u=s.vertices.length;t.isActive=!0,t.timeUpdated=n,t.collision=e,t.separation=e.depth,t.inverseMass=s.inverseMass+l.inverseMass,t.friction=s.friction<l.friction?s.friction:l.friction,t.frictionStatic=s.frictionStatic>l.frictionStatic?s.frictionStatic:l.frictionStatic,t.restitution=s.restitution>l.restitution?s.restitution:l.restitution,t.slop=s.slop>l.slop?s.slop:l.slop,e.pair=t,a.length=0;for(var c=0;c<o.length;c++){var f=o[c],p=f.body===s?f.index:u+f.index,h=i[p];h?a.push(h):a.push(i[p]=r.create(f))}},i.setActive=function(t,e,n){e?(t.isActive=!0,t.timeUpdated=n):(t.isActive=!1,t.activeContacts.length=0)},i.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}},function(t,e,n){var i={};t.exports=i;var r=n(3),o=n(2),a=n(7),s=n(1),l=n(11),u=n(0);i._warming=.4,i._torqueDampen=1,i._minLength=1e-6,i.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var n=e.bodyA?o.add(e.bodyA.position,e.pointA):e.pointA,i=e.bodyB?o.add(e.bodyB.position,e.pointB):e.pointB,r=o.magnitude(o.sub(n,i));e.length="undefined"!==typeof e.length?e.length:r,e.id=e.id||u.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var a={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===e.length&&e.stiffness>.1?(a.type="pin",a.anchors=!1):e.stiffness<.9&&(a.type="spring"),e.render=u.extend(a,e.render),e},i.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var n=t[e],i=n.constraintImpulse;n.isStatic||0===i.x&&0===i.y&&0===i.angle||(n.position.x+=i.x,n.position.y+=i.y,n.angle+=i.angle)}},i.solveAll=function(t,e){for(var n=u.clamp(e/u._baseDelta,0,1),r=0;r<t.length;r+=1){var o=t[r],a=!o.bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(a||s)&&i.solve(t[r],n)}for(r=0;r<t.length;r+=1)a=!(o=t[r]).bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic,a||s||i.solve(t[r],n)},i.solve=function(t,e){var n=t.bodyA,r=t.bodyB,a=t.pointA,s=t.pointB;if(n||r){n&&!n.isStatic&&(o.rotate(a,n.angle-t.angleA,a),t.angleA=n.angle),r&&!r.isStatic&&(o.rotate(s,r.angle-t.angleB,s),t.angleB=r.angle);var l=a,u=s;if(n&&(l=o.add(n.position,a)),r&&(u=o.add(r.position,s)),l&&u){var c=o.sub(l,u),f=o.magnitude(c);f<i._minLength&&(f=i._minLength);var p,h,d,y,v,g=(f-t.length)/f,m=t.stiffness>=1||0===t.length?t.stiffness*e:t.stiffness*e*e,x=t.damping*e,b=o.mult(c,g*m),w=(n?n.inverseMass:0)+(r?r.inverseMass:0),_=w+((n?n.inverseInertia:0)+(r?r.inverseInertia:0));if(x>0){var S=o.create();d=o.div(c,f),v=o.sub(r&&o.sub(r.position,r.positionPrev)||S,n&&o.sub(n.position,n.positionPrev)||S),y=o.dot(d,v)}n&&!n.isStatic&&(h=n.inverseMass/w,n.constraintImpulse.x-=b.x*h,n.constraintImpulse.y-=b.y*h,n.position.x-=b.x*h,n.position.y-=b.y*h,x>0&&(n.positionPrev.x-=x*d.x*y*h,n.positionPrev.y-=x*d.y*y*h),p=o.cross(a,b)/_*i._torqueDampen*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),r&&!r.isStatic&&(h=r.inverseMass/w,r.constraintImpulse.x+=b.x*h,r.constraintImpulse.y+=b.y*h,r.position.x+=b.x*h,r.position.y+=b.y*h,x>0&&(r.positionPrev.x+=x*d.x*y*h,r.positionPrev.y+=x*d.y*y*h),p=o.cross(s,b)/_*i._torqueDampen*r.inverseInertia*(1-t.angularStiffness),r.constraintImpulse.angle+=p,r.angle+=p)}}},i.postSolveAll=function(t){for(var e=0;e<t.length;e++){var n=t[e],u=n.constraintImpulse;if(!(n.isStatic||0===u.x&&0===u.y&&0===u.angle)){a.set(n,!1);for(var c=0;c<n.parts.length;c++){var f=n.parts[c];r.translate(f.vertices,u),c>0&&(f.position.x+=u.x,f.position.y+=u.y),0!==u.angle&&(r.rotate(f.vertices,u.angle,n.position),l.rotate(f.axes,u.angle),c>0&&o.rotateAbout(f.position,u.angle,n.position,f.position)),s.update(f.bounds,f.vertices,n.velocity)}u.angle*=i._warming,u.x*=i._warming,u.y*=i._warming}}},i.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),y:(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0)}},i.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),y:(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0)}}},function(t,e,n){var i={};t.exports=i;var r=n(2),o=n(0);i.fromVertices=function(t){for(var e={},n=0;n<t.length;n++){var i=(n+1)%t.length,a=r.normalise({x:t[i].y-t[n].y,y:t[n].x-t[i].x}),s=0===a.y?1/0:a.x/a.y;e[s=s.toFixed(3).toString()]=a}return o.values(e)},i.rotate=function(t,e){if(0!==e)for(var n=Math.cos(e),i=Math.sin(e),r=0;r<t.length;r++){var o,a=t[r];o=a.x*n-a.y*i,a.y=a.x*i+a.y*n,a.x=o}}},function(t,e,n){var i={};t.exports=i;var r=n(3),o=n(0),a=n(4),s=n(1),l=n(2);i.rectangle=function(t,e,n,i,s){s=s||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:r.fromPath("L 0 0 L "+n+" 0 L "+n+" "+i+" L 0 "+i)};if(s.chamfer){var u=s.chamfer;l.vertices=r.chamfer(l.vertices,u.radius,u.quality,u.qualityMin,u.qualityMax),delete s.chamfer}return a.create(o.extend({},l,s))},i.trapezoid=function(t,e,n,i,s,l){l=l||{};var u,c=n*(s*=.5),f=c+(1-2*s)*n,p=f+c;u=s<.5?"L 0 0 L "+c+" "+-i+" L "+f+" "+-i+" L "+p+" 0":"L 0 0 L "+f+" "+-i+" L "+p+" 0";var h={label:"Trapezoid Body",position:{x:t,y:e},vertices:r.fromPath(u)};if(l.chamfer){var d=l.chamfer;h.vertices=r.chamfer(h.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete l.chamfer}return a.create(o.extend({},h,l))},i.circle=function(t,e,n,r,a){r=r||{};var s={label:"Circle Body",circleRadius:n};a=a||25;var l=Math.ceil(Math.max(10,Math.min(a,n)));return l%2===1&&(l+=1),i.polygon(t,e,l,n,o.extend({},s,r))},i.polygon=function(t,e,n,s,l){if(l=l||{},n<3)return i.circle(t,e,s,l);for(var u=2*Math.PI/n,c="",f=.5*u,p=0;p<n;p+=1){var h=f+p*u,d=Math.cos(h)*s,y=Math.sin(h)*s;c+="L "+d.toFixed(3)+" "+y.toFixed(3)+" "}var v={label:"Polygon Body",position:{x:t,y:e},vertices:r.fromPath(c)};if(l.chamfer){var g=l.chamfer;v.vertices=r.chamfer(v.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete l.chamfer}return a.create(o.extend({},v,l))},i.fromVertices=function(t,e,n,i,u,c,f,p){var h,d,y,v,g,m,x,b,w,_,S=o.getDecomp();for(h=Boolean(S&&S.quickDecomp),i=i||{},y=[],u="undefined"!==typeof u&&u,c="undefined"!==typeof c?c:.01,f="undefined"!==typeof f?f:10,p="undefined"!==typeof p?p:.01,o.isArray(n[0])||(n=[n]),w=0;w<n.length;w+=1)if(g=n[w],!(v=r.isConvex(g))&&!h&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),v||!h)g=v?r.clockwiseSort(g):r.hull(g),y.push({position:{x:t,y:e},vertices:g});else{var M=g.map((function(t){return[t.x,t.y]}));S.makeCCW(M),!1!==c&&S.removeCollinearPoints(M,c),!1!==p&&S.removeDuplicatePoints&&S.removeDuplicatePoints(M,p);var A=S.quickDecomp(M);for(m=0;m<A.length;m++){var k=A[m].map((function(t){return{x:t[0],y:t[1]}}));f>0&&r.area(k)<f||y.push({position:r.centre(k),vertices:k})}}for(m=0;m<y.length;m++)y[m]=a.create(o.extend(y[m],i));if(u)for(m=0;m<y.length;m++){var P=y[m];for(x=m+1;x<y.length;x++){var C=y[x];if(s.overlaps(P.bounds,C.bounds)){var B=P.vertices,I=C.vertices;for(b=0;b<P.vertices.length;b++)for(_=0;_<C.vertices.length;_++){var T=l.magnitudeSquared(l.sub(B[(b+1)%B.length],I[_])),E=l.magnitudeSquared(l.sub(B[b],I[(_+1)%I.length]));T<5&&E<5&&(B[b].isInternal=!0,I[_].isInternal=!0)}}}}return y.length>1?(d=a.create(o.extend({parts:y.slice(0)},i)),a.setPosition(d,{x:t,y:e}),d):y[0]}},function(t,e,n){var i={};t.exports=i;var r=n(0),o=n(8);i.create=function(t){return r.extend({bodies:[],pairs:null},t)},i.setBodies=function(t,e){t.bodies=e.slice(0)},i.clear=function(t){t.bodies=[]},i.collisions=function(t){var e,n,r=[],a=t.pairs,s=t.bodies,l=s.length,u=i.canCollide,c=o.collides;for(s.sort(i._compareBoundsX),e=0;e<l;e++){var f=s[e],p=f.bounds,h=f.bounds.max.x,d=f.bounds.max.y,y=f.bounds.min.y,v=f.isStatic||f.isSleeping,g=f.parts.length,m=1===g;for(n=e+1;n<l;n++){var x=s[n];if((P=x.bounds).min.x>h)break;if(!(d<P.min.y||y>P.max.y)&&(!v||!x.isStatic&&!x.isSleeping)&&u(f.collisionFilter,x.collisionFilter)){var b=x.parts.length;if(m&&1===b)(A=c(f,x,a))&&r.push(A);else for(var w=b>1?1:0,_=g>1?1:0;_<g;_++)for(var S=f.parts[_],M=(p=S.bounds,w);M<b;M++){var A,k=x.parts[M],P=k.bounds;p.min.x>P.max.x||p.max.x<P.min.x||p.max.y<P.min.y||p.min.y>P.max.y||(A=c(S,k,a))&&r.push(A)}}}}return r},i.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!==(t.mask&e.category)&&0!==(e.mask&t.category)},i._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}},function(t,e,n){var i={};t.exports=i;var r=n(0);i.create=function(t){var e={};return t||r.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=t||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=parseInt(e.element.getAttribute("data-pixel-ratio"),10)||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var n=i._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&(e.button=0,t.preventDefault()),e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var n=i._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var n=i._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&t.preventDefault(),e.button=-1,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault()},i.setElement(e,e.element),e},i.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove),e.addEventListener("mousedown",t.mousedown),e.addEventListener("mouseup",t.mouseup),e.addEventListener("mousewheel",t.mousewheel),e.addEventListener("DOMMouseScroll",t.mousewheel),e.addEventListener("touchmove",t.mousemove),e.addEventListener("touchstart",t.mousedown),e.addEventListener("touchend",t.mouseup)},i.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},i.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},i.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},i._getRelativeMousePosition=function(t,e,n){var i,r,o=e.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,u=t.changedTouches;return u?(i=u[0].pageX-o.left-s,r=u[0].pageY-o.top-l):(i=t.pageX-o.left-s,r=t.pageY-o.top-l),{x:i/(e.clientWidth/(e.width||e.clientWidth)*n),y:r/(e.clientHeight/(e.height||e.clientHeight)*n)}}},function(t,e,n){var i={};t.exports=i;var r=n(0);i._registry={},i.register=function(t){if(i.isPlugin(t)||r.warn("Plugin.register:",i.toString(t),"does not implement all required fields."),t.name in i._registry){var e=i._registry[t.name],n=i.versionParse(t.version).number,o=i.versionParse(e.version).number;n>o?(r.warn("Plugin.register:",i.toString(e),"was upgraded to",i.toString(t)),i._registry[t.name]=t):n<o?r.warn("Plugin.register:",i.toString(e),"can not be downgraded to",i.toString(t)):t!==e&&r.warn("Plugin.register:",i.toString(t),"is already registered to different plugin object")}else i._registry[t.name]=t;return t},i.resolve=function(t){return i._registry[i.dependencyParse(t).name]},i.toString=function(t){return"string"===typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},i.isPlugin=function(t){return t&&t.name&&t.version&&t.install},i.isUsed=function(t,e){return t.used.indexOf(e)>-1},i.isFor=function(t,e){var n=t.for&&i.dependencyParse(t.for);return!t.for||e.name===n.name&&i.versionSatisfies(e.version,n.range)},i.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var n=i.dependencies(t),o=r.topologicalSort(n),a=[],s=0;s<o.length;s+=1)if(o[s]!==t.name){var l=i.resolve(o[s]);l?i.isUsed(t,l.name)||(i.isFor(l,t)||(r.warn("Plugin.use:",i.toString(l),"is for",l.for,"but installed on",i.toString(t)+"."),l._warned=!0),l.install?l.install(t):(r.warn("Plugin.use:",i.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(a.push("\ud83d\udd36 "+i.toString(l)),delete l._warned):a.push("\u2705 "+i.toString(l)),t.used.push(l.name)):a.push("\u274c "+o[s])}a.length>0&&r.info(a.join("  "))}else r.warn("Plugin.use:",i.toString(t),"does not specify any dependencies to install.")},i.dependencies=function(t,e){var n=i.dependencyParse(t),o=n.name;if(!(o in(e=e||{}))){t=i.resolve(t)||t,e[o]=r.map(t.uses||[],(function(e){i.isPlugin(e)&&i.register(e);var o=i.dependencyParse(e),a=i.resolve(e);return a&&!i.versionSatisfies(a.version,o.range)?(r.warn("Plugin.dependencies:",i.toString(a),"does not satisfy",i.toString(o),"used by",i.toString(n)+"."),a._warned=!0,t._warned=!0):a||(r.warn("Plugin.dependencies:",i.toString(e),"used by",i.toString(n),"could not be resolved."),t._warned=!0),o.name}));for(var a=0;a<e[o].length;a+=1)i.dependencies(e[o][a],e);return e}},i.dependencyParse=function(t){return r.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t)||r.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},i.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;e.test(t)||r.warn("Plugin.versionParse:",t,"is not a valid version or range.");var n=e.exec(t),i=Number(n[4]),o=Number(n[5]),a=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:t,operator:n[1]||n[2]||"",major:i,minor:o,patch:a,parts:[i,o,a],prerelease:n[7],number:1e8*i+1e4*o+a}},i.versionSatisfies=function(t,e){e=e||"*";var n=i.versionParse(e),r=i.versionParse(t);if(n.isRange){if("*"===n.operator||"*"===t)return!0;if(">"===n.operator)return r.number>n.number;if(">="===n.operator)return r.number>=n.number;if("~"===n.operator)return r.major===n.major&&r.minor===n.minor&&r.patch>=n.patch;if("^"===n.operator)return n.major>0?r.major===n.major&&r.number>=n.number:n.minor>0?r.minor===n.minor&&r.patch>=n.patch:r.patch===n.patch}return t===e||"*"===t}},function(t,e){var n={};t.exports=n,n.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}},function(t,e,n){var i={};t.exports=i;var r=n(7),o=n(18),a=n(13),s=n(19),l=n(5),u=n(6),c=n(10),f=n(0),p=n(4);i.create=function(t){t=t||{};var e=f.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},t);return e.world=t.world||u.create({label:"World"}),e.pairs=t.pairs||s.create(),e.detector=t.detector||a.create(),e.grid={buckets:[]},e.world.gravity=e.gravity,e.broadphase=e.grid,e.metrics={},e},i.update=function(t,e){var n,p=f.now(),h=t.world,d=t.detector,y=t.pairs,v=t.timing,g=v.timestamp;e="undefined"!==typeof e?e:f._baseDelta,e*=v.timeScale,v.timestamp+=e,v.lastDelta=e;var m={timestamp:v.timestamp,delta:e};l.trigger(t,"beforeUpdate",m);var x=u.allBodies(h),b=u.allConstraints(h);for(h.isModified&&(a.setBodies(d,x),u.setModified(h,!1,!1,!0)),t.enableSleeping&&r.update(x,e),i._bodiesApplyGravity(x,t.gravity),e>0&&i._bodiesUpdate(x,e),c.preSolveAll(x),n=0;n<t.constraintIterations;n++)c.solveAll(b,e);c.postSolveAll(x),d.pairs=t.pairs;var w=a.collisions(d);s.update(y,w,g),t.enableSleeping&&r.afterCollisions(y.list),y.collisionStart.length>0&&l.trigger(t,"collisionStart",{pairs:y.collisionStart});var _=f.clamp(20/t.positionIterations,0,1);for(o.preSolvePosition(y.list),n=0;n<t.positionIterations;n++)o.solvePosition(y.list,e,_);for(o.postSolvePosition(x),c.preSolveAll(x),n=0;n<t.constraintIterations;n++)c.solveAll(b,e);for(c.postSolveAll(x),o.preSolveVelocity(y.list),n=0;n<t.velocityIterations;n++)o.solveVelocity(y.list,e);return i._bodiesUpdateVelocities(x),y.collisionActive.length>0&&l.trigger(t,"collisionActive",{pairs:y.collisionActive}),y.collisionEnd.length>0&&l.trigger(t,"collisionEnd",{pairs:y.collisionEnd}),i._bodiesClearForces(x),l.trigger(t,"afterUpdate",m),t.timing.lastElapsed=f.now()-p,t},i.merge=function(t,e){if(f.extend(t,e),e.world){t.world=e.world,i.clear(t);for(var n=u.allBodies(t.world),o=0;o<n.length;o++){var a=n[o];r.set(a,!1),a.id=f.nextId()}}},i.clear=function(t){s.clear(t.pairs),a.clear(t.detector)},i._bodiesClearForces=function(t){for(var e=t.length,n=0;n<e;n++){var i=t[n];i.force.x=0,i.force.y=0,i.torque=0}},i._bodiesApplyGravity=function(t,e){var n="undefined"!==typeof e.scale?e.scale:.001,i=t.length;if((0!==e.x||0!==e.y)&&0!==n)for(var r=0;r<i;r++){var o=t[r];o.isStatic||o.isSleeping||(o.force.y+=o.mass*e.y*n,o.force.x+=o.mass*e.x*n)}},i._bodiesUpdate=function(t,e){for(var n=t.length,i=0;i<n;i++){var r=t[i];r.isStatic||r.isSleeping||p.update(r,e)}},i._bodiesUpdateVelocities=function(t){for(var e=t.length,n=0;n<e;n++)p.updateVelocities(t[n])}},function(t,e,n){var i={};t.exports=i;var r=n(3),o=n(0),a=n(1);i._restingThresh=2,i._restingThreshTangent=Math.sqrt(6),i._positionDampen=.9,i._positionWarming=.8,i._frictionNormalMultiplier=5,i._frictionMaxStatic=Number.MAX_VALUE,i.preSolvePosition=function(t){var e,n,i,r=t.length;for(e=0;e<r;e++)(n=t[e]).isActive&&(i=n.activeContacts.length,n.collision.parentA.totalContacts+=i,n.collision.parentB.totalContacts+=i)},i.solvePosition=function(t,e,n){var r,a,s,l,u,c,f,p,h=i._positionDampen*(n||1),d=o.clamp(e/o._baseDelta,0,1),y=t.length;for(r=0;r<y;r++)(a=t[r]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,u=s.parentB,c=s.normal,a.separation=c.x*(u.positionImpulse.x+s.penetration.x-l.positionImpulse.x)+c.y*(u.positionImpulse.y+s.penetration.y-l.positionImpulse.y));for(r=0;r<y;r++)(a=t[r]).isActive&&!a.isSensor&&(l=(s=a.collision).parentA,u=s.parentB,c=s.normal,p=a.separation-a.slop*d,(l.isStatic||u.isStatic)&&(p*=2),l.isStatic||l.isSleeping||(f=h/l.totalContacts,l.positionImpulse.x+=c.x*p*f,l.positionImpulse.y+=c.y*p*f),u.isStatic||u.isSleeping||(f=h/u.totalContacts,u.positionImpulse.x-=c.x*p*f,u.positionImpulse.y-=c.y*p*f))},i.postSolvePosition=function(t){for(var e=i._positionWarming,n=t.length,o=r.translate,s=a.update,l=0;l<n;l++){var u=t[l],c=u.positionImpulse,f=c.x,p=c.y,h=u.velocity;if(u.totalContacts=0,0!==f||0!==p){for(var d=0;d<u.parts.length;d++){var y=u.parts[d];o(y.vertices,c),s(y.bounds,y.vertices,h),y.position.x+=f,y.position.y+=p}u.positionPrev.x+=f,u.positionPrev.y+=p,f*h.x+p*h.y<0?(c.x=0,c.y=0):(c.x*=e,c.y*=e)}}},i.preSolveVelocity=function(t){var e,n,i=t.length;for(e=0;e<i;e++){var r=t[e];if(r.isActive&&!r.isSensor){var o=r.activeContacts,a=o.length,s=r.collision,l=s.parentA,u=s.parentB,c=s.normal,f=s.tangent;for(n=0;n<a;n++){var p=o[n],h=p.vertex,d=p.normalImpulse,y=p.tangentImpulse;if(0!==d||0!==y){var v=c.x*d+f.x*y,g=c.y*d+f.y*y;l.isStatic||l.isSleeping||(l.positionPrev.x+=v*l.inverseMass,l.positionPrev.y+=g*l.inverseMass,l.anglePrev+=l.inverseInertia*((h.x-l.position.x)*g-(h.y-l.position.y)*v)),u.isStatic||u.isSleeping||(u.positionPrev.x-=v*u.inverseMass,u.positionPrev.y-=g*u.inverseMass,u.anglePrev-=u.inverseInertia*((h.x-u.position.x)*g-(h.y-u.position.y)*v))}}}}},i.solveVelocity=function(t,e){var n,r,a,s,l=e/o._baseDelta,u=l*l*l,c=-i._restingThresh*l,f=i._restingThreshTangent,p=i._frictionNormalMultiplier*l,h=i._frictionMaxStatic,d=t.length;for(a=0;a<d;a++){var y=t[a];if(y.isActive&&!y.isSensor){var v=y.collision,g=v.parentA,m=v.parentB,x=g.velocity,b=m.velocity,w=v.normal.x,_=v.normal.y,S=v.tangent.x,M=v.tangent.y,A=y.activeContacts,k=A.length,P=1/k,C=g.inverseMass+m.inverseMass,B=y.friction*y.frictionStatic*p;for(x.x=g.position.x-g.positionPrev.x,x.y=g.position.y-g.positionPrev.y,b.x=m.position.x-m.positionPrev.x,b.y=m.position.y-m.positionPrev.y,g.angularVelocity=g.angle-g.anglePrev,m.angularVelocity=m.angle-m.anglePrev,s=0;s<k;s++){var I=A[s],T=I.vertex,E=T.x-g.position.x,N=T.y-g.position.y,R=T.x-m.position.x,V=T.y-m.position.y,O=x.x-N*g.angularVelocity,L=x.y+E*g.angularVelocity,D=O-(b.x-V*m.angularVelocity),q=L-(b.y+R*m.angularVelocity),j=w*D+_*q,F=S*D+M*q,H=y.separation+j,W=Math.min(H,1),z=(W=H<0?0:W)*B;F<-z||F>z?(r=F>0?F:-F,(n=y.friction*(F>0?1:-1)*u)<-r?n=-r:n>r&&(n=r)):(n=F,r=h);var X=E*_-N*w,U=R*_-V*w,G=P/(C+g.inverseInertia*X*X+m.inverseInertia*U*U),Y=(1+y.restitution)*j*G;if(n*=G,j<c)I.normalImpulse=0;else{var $=I.normalImpulse;I.normalImpulse+=Y,I.normalImpulse>0&&(I.normalImpulse=0),Y=I.normalImpulse-$}if(F<-f||F>f)I.tangentImpulse=0;else{var Z=I.tangentImpulse;I.tangentImpulse+=n,I.tangentImpulse<-r&&(I.tangentImpulse=-r),I.tangentImpulse>r&&(I.tangentImpulse=r),n=I.tangentImpulse-Z}var Q=w*Y+S*n,J=_*Y+M*n;g.isStatic||g.isSleeping||(g.positionPrev.x+=Q*g.inverseMass,g.positionPrev.y+=J*g.inverseMass,g.anglePrev+=(E*J-N*Q)*g.inverseInertia),m.isStatic||m.isSleeping||(m.positionPrev.x-=Q*m.inverseMass,m.positionPrev.y-=J*m.inverseMass,m.anglePrev-=(R*J-V*Q)*m.inverseInertia)}}}}},function(t,e,n){var i={};t.exports=i;var r=n(9),o=n(0);i.create=function(t){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},i.update=function(t,e,n){var i,o,a,s,l=t.list,u=l.length,c=t.table,f=e.length,p=t.collisionStart,h=t.collisionEnd,d=t.collisionActive;for(p.length=0,h.length=0,d.length=0,s=0;s<u;s++)l[s].confirmedActive=!1;for(s=0;s<f;s++)(a=(i=e[s]).pair)?(a.isActive?d.push(a):p.push(a),r.update(a,i,n),a.confirmedActive=!0):(c[(a=r.create(i,n)).id]=a,p.push(a),l.push(a));var y=[];for(u=l.length,s=0;s<u;s++)(a=l[s]).confirmedActive||(r.setActive(a,!1,n),h.push(a),a.collision.bodyA.isSleeping||a.collision.bodyB.isSleeping||y.push(s));for(s=0;s<y.length;s++)a=l[o=y[s]-s],l.splice(o,1),delete c[a.id]},i.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,n){var i=t.exports=n(21);i.Axes=n(11),i.Bodies=n(12),i.Body=n(4),i.Bounds=n(1),i.Collision=n(8),i.Common=n(0),i.Composite=n(6),i.Composites=n(22),i.Constraint=n(10),i.Contact=n(16),i.Detector=n(13),i.Engine=n(17),i.Events=n(5),i.Grid=n(23),i.Mouse=n(14),i.MouseConstraint=n(24),i.Pair=n(9),i.Pairs=n(19),i.Plugin=n(15),i.Query=n(25),i.Render=n(26),i.Resolver=n(18),i.Runner=n(27),i.SAT=n(28),i.Sleeping=n(7),i.Svg=n(29),i.Vector=n(2),i.Vertices=n(3),i.World=n(30),i.Engine.run=i.Runner.run,i.Common.deprecated(i.Engine,"run","Engine.run \u27a4 use Matter.Runner.run(engine) instead")},function(t,e,n){var i={};t.exports=i;var r=n(15),o=n(0);i.name="matter-js",i.version="0.19.0",i.uses=[],i.used=[],i.use=function(){r.use(i,Array.prototype.slice.call(arguments))},i.before=function(t,e){return t=t.replace(/^Matter./,""),o.chainPathBefore(i,t,e)},i.after=function(t,e){return t=t.replace(/^Matter./,""),o.chainPathAfter(i,t,e)}},function(t,e,n){var i={};t.exports=i;var r=n(6),o=n(10),a=n(0),s=n(4),l=n(12),u=a.deprecated;i.stack=function(t,e,n,i,o,a,l){for(var u,c=r.create({label:"Stack"}),f=t,p=e,h=0,d=0;d<i;d++){for(var y=0,v=0;v<n;v++){var g=l(f,p,v,d,u,h);if(g){var m=g.bounds.max.y-g.bounds.min.y,x=g.bounds.max.x-g.bounds.min.x;m>y&&(y=m),s.translate(g,{x:.5*x,y:.5*m}),f=g.bounds.max.x+o,r.addBody(c,g),u=g,h+=1}else f+=o}p+=y+a,f=t}return c},i.chain=function(t,e,n,i,s,l){for(var u=t.bodies,c=1;c<u.length;c++){var f=u[c-1],p=u[c],h=f.bounds.max.y-f.bounds.min.y,d=f.bounds.max.x-f.bounds.min.x,y=p.bounds.max.y-p.bounds.min.y,v={bodyA:f,pointA:{x:d*e,y:h*n},bodyB:p,pointB:{x:(p.bounds.max.x-p.bounds.min.x)*i,y:y*s}},g=a.extend(v,l);r.addConstraint(t,o.create(g))}return t.label+=" Chain",t},i.mesh=function(t,e,n,i,s){var l,u,c,f,p,h=t.bodies;for(l=0;l<n;l++){for(u=1;u<e;u++)c=h[u-1+l*e],f=h[u+l*e],r.addConstraint(t,o.create(a.extend({bodyA:c,bodyB:f},s)));if(l>0)for(u=0;u<e;u++)c=h[u+(l-1)*e],f=h[u+l*e],r.addConstraint(t,o.create(a.extend({bodyA:c,bodyB:f},s))),i&&u>0&&(p=h[u-1+(l-1)*e],r.addConstraint(t,o.create(a.extend({bodyA:p,bodyB:f},s)))),i&&u<e-1&&(p=h[u+1+(l-1)*e],r.addConstraint(t,o.create(a.extend({bodyA:p,bodyB:f},s))))}return t.label+=" Mesh",t},i.pyramid=function(t,e,n,r,o,a,l){return i.stack(t,e,n,r,o,a,(function(e,i,a,u,c,f){var p=Math.min(r,Math.ceil(n/2)),h=c?c.bounds.max.x-c.bounds.min.x:0;if(!(u>p)&&!(a<(u=p-u)||a>n-1-u))return 1===f&&s.translate(c,{x:(a+(n%2===1?1:-1))*h,y:0}),l(t+(c?a*h:0)+a*o,i,a,u,c,f)}))},i.newtonsCradle=function(t,e,n,i,a){for(var s=r.create({label:"Newtons Cradle"}),u=0;u<n;u++){var c=l.circle(t+u*(1.9*i),e+a,i,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),f=o.create({pointA:{x:t+u*(1.9*i),y:e},bodyB:c});r.addBody(s,c),r.addConstraint(s,f)}return s},u(i,"newtonsCradle","Composites.newtonsCradle \u27a4 moved to newtonsCradle example"),i.car=function(t,e,n,i,a){var u=s.nextGroup(!0),c=.5*-n+20,f=.5*n-20,p=r.create({label:"Car"}),h=l.rectangle(t,e,n,i,{collisionFilter:{group:u},chamfer:{radius:.5*i},density:2e-4}),d=l.circle(t+c,e+0,a,{collisionFilter:{group:u},friction:.8}),y=l.circle(t+f,e+0,a,{collisionFilter:{group:u},friction:.8}),v=o.create({bodyB:h,pointB:{x:c,y:0},bodyA:d,stiffness:1,length:0}),g=o.create({bodyB:h,pointB:{x:f,y:0},bodyA:y,stiffness:1,length:0});return r.addBody(p,h),r.addBody(p,d),r.addBody(p,y),r.addConstraint(p,v),r.addConstraint(p,g),p},u(i,"car","Composites.car \u27a4 moved to car example"),i.softBody=function(t,e,n,r,o,s,u,c,f,p){f=a.extend({inertia:1/0},f),p=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var h=i.stack(t,e,n,r,o,s,(function(t,e){return l.circle(t,e,c,f)}));return i.mesh(h,n,r,u,p),h.label="Soft Body",h},u(i,"softBody","Composites.softBody \u27a4 moved to softBody and cloth examples")},function(t,e,n){var i={};t.exports=i;var r=n(9),o=n(0),a=o.deprecated;i.create=function(t){return o.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},t)},i.update=function(t,e,n,r){var o,a,s,l,u,c=n.world,f=t.buckets,p=!1;for(o=0;o<e.length;o++){var h=e[o];if((!h.isSleeping||r)&&(!c.bounds||!(h.bounds.max.x<c.bounds.min.x||h.bounds.min.x>c.bounds.max.x||h.bounds.max.y<c.bounds.min.y||h.bounds.min.y>c.bounds.max.y))){var d=i._getRegion(t,h);if(!h.region||d.id!==h.region.id||r){h.region&&!r||(h.region=d);var y=i._regionUnion(d,h.region);for(a=y.startCol;a<=y.endCol;a++)for(s=y.startRow;s<=y.endRow;s++){l=f[u=i._getBucketId(a,s)];var v=a>=d.startCol&&a<=d.endCol&&s>=d.startRow&&s<=d.endRow,g=a>=h.region.startCol&&a<=h.region.endCol&&s>=h.region.startRow&&s<=h.region.endRow;!v&&g&&g&&l&&i._bucketRemoveBody(t,l,h),(h.region===d||v&&!g||r)&&(l||(l=i._createBucket(f,u)),i._bucketAddBody(t,l,h))}h.region=d,p=!0}}}p&&(t.pairsList=i._createActivePairsList(t))},a(i,"update","Grid.update \u27a4 replaced by Matter.Detector"),i.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},a(i,"clear","Grid.clear \u27a4 replaced by Matter.Detector"),i._regionUnion=function(t,e){var n=Math.min(t.startCol,e.startCol),r=Math.max(t.endCol,e.endCol),o=Math.min(t.startRow,e.startRow),a=Math.max(t.endRow,e.endRow);return i._createRegion(n,r,o,a)},i._getRegion=function(t,e){var n=e.bounds,r=Math.floor(n.min.x/t.bucketWidth),o=Math.floor(n.max.x/t.bucketWidth),a=Math.floor(n.min.y/t.bucketHeight),s=Math.floor(n.max.y/t.bucketHeight);return i._createRegion(r,o,a,s)},i._createRegion=function(t,e,n,i){return{id:t+","+e+","+n+","+i,startCol:t,endCol:e,startRow:n,endRow:i}},i._getBucketId=function(t,e){return"C"+t+"R"+e},i._createBucket=function(t,e){return t[e]=[]},i._bucketAddBody=function(t,e,n){var i,o=t.pairs,a=r.id,s=e.length;for(i=0;i<s;i++){var l=e[i];if(!(n.id===l.id||n.isStatic&&l.isStatic)){var u=a(n,l),c=o[u];c?c[2]+=1:o[u]=[n,l,1]}}e.push(n)},i._bucketRemoveBody=function(t,e,n){var i,a=t.pairs,s=r.id;e.splice(o.indexOf(e,n),1);var l=e.length;for(i=0;i<l;i++){var u=a[s(n,e[i])];u&&(u[2]-=1)}},i._createActivePairsList=function(t){var e,n,i=t.pairs,r=o.keys(i),a=r.length,s=[];for(n=0;n<a;n++)(e=i[r[n]])[2]>0?s.push(e):delete i[r[n]];return s}},function(t,e,n){var i={};t.exports=i;var r=n(3),o=n(7),a=n(14),s=n(5),l=n(13),u=n(10),c=n(6),f=n(0),p=n(1);i.create=function(t,e){var n=(t?t.mouse:null)||(e?e.mouse:null);n||(t&&t.render&&t.render.canvas?n=a.create(t.render.canvas):e&&e.element?n=a.create(e.element):(n=a.create(),f.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var r={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:u.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},o=f.extend(r,e);return s.on(t,"beforeUpdate",(function(){var e=c.allBodies(t.world);i.update(o,e),i._triggerEvents(o)})),o},i.update=function(t,e){var n=t.mouse,i=t.constraint,a=t.body;if(0===n.button){if(i.bodyB)o.set(i.bodyB,!1),i.pointA=n.position;else for(var u=0;u<e.length;u++)if(a=e[u],p.contains(a.bounds,n.position)&&l.canCollide(a.collisionFilter,t.collisionFilter))for(var c=a.parts.length>1?1:0;c<a.parts.length;c++){var f=a.parts[c];if(r.contains(f.vertices,n.position)){i.pointA=n.position,i.bodyB=t.body=a,i.pointB={x:n.position.x-a.position.x,y:n.position.y-a.position.y},i.angleB=a.angle,o.set(a,!1),s.trigger(t,"startdrag",{mouse:n,body:a});break}}}else i.bodyB=t.body=null,i.pointB=null,a&&s.trigger(t,"enddrag",{mouse:n,body:a})},i._triggerEvents=function(t){var e=t.mouse,n=e.sourceEvents;n.mousemove&&s.trigger(t,"mousemove",{mouse:e}),n.mousedown&&s.trigger(t,"mousedown",{mouse:e}),n.mouseup&&s.trigger(t,"mouseup",{mouse:e}),a.clearSourceEvents(e)}},function(t,e,n){var i={};t.exports=i;var r=n(2),o=n(8),a=n(1),s=n(12),l=n(3);i.collides=function(t,e){for(var n=[],i=e.length,r=t.bounds,s=o.collides,l=a.overlaps,u=0;u<i;u++){var c=e[u],f=c.parts.length,p=1===f?0:1;if(l(c.bounds,r))for(var h=p;h<f;h++){var d=c.parts[h];if(l(d.bounds,r)){var y=s(d,t);if(y){n.push(y);break}}}}return n},i.ray=function(t,e,n,o){o=o||1e-100;for(var a=r.angle(e,n),l=r.magnitude(r.sub(e,n)),u=.5*(n.x+e.x),c=.5*(n.y+e.y),f=s.rectangle(u,c,l,o,{angle:a}),p=i.collides(f,t),h=0;h<p.length;h+=1){var d=p[h];d.body=d.bodyB=d.bodyA}return p},i.region=function(t,e,n){for(var i=[],r=0;r<t.length;r++){var o=t[r],s=a.overlaps(o.bounds,e);(s&&!n||!s&&n)&&i.push(o)}return i},i.point=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(a.contains(r.bounds,e))for(var o=1===r.parts.length?0:1;o<r.parts.length;o++){var s=r.parts[o];if(a.contains(s.bounds,e)&&l.contains(s.vertices,e)){n.push(r);break}}}return n}},function(t,e,n){var i={};t.exports=i;var r=n(4),o=n(0),a=n(6),s=n(1),l=n(5),u=n(2),c=n(14);!function(){var t,e;"undefined"!==typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout((function(){t(o.now())}),1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i._goodFps=30,i._goodDelta=1e3/60,i.create=function(t){var e={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=o.extend(e,t);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=t.mouse,n.engine=t.engine,n.canvas=n.canvas||p(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},n.controller=i,n.options.showBroadphase=!1,1!==n.options.pixelRatio&&i.setPixelRatio(n,n.options.pixelRatio),o.isElement(n.element)&&n.element.appendChild(n.canvas),n},i.run=function(e){!function r(o){e.frameRequestId=t(r),n(e,o),i.world(e,o),(e.options.showStats||e.options.showDebug)&&i.stats(e,e.context,o),(e.options.showPerformance||e.options.showDebug)&&i.performance(e,e.context,o)}()},i.stop=function(t){e(t.frameRequestId)},i.setPixelRatio=function(t,e){var n=t.options,i=t.canvas;"auto"===e&&(e=h(i)),n.pixelRatio=e,i.setAttribute("data-pixel-ratio",e),i.width=n.width*e,i.height=n.height*e,i.style.width=n.width+"px",i.style.height=n.height+"px"},i.lookAt=function(t,e,n,i){i="undefined"===typeof i||i,e=o.isArray(e)?e:[e],n=n||{x:0,y:0};for(var r={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},a=0;a<e.length;a+=1){var s=e[a],l=s.bounds?s.bounds.min:s.min||s.position||s,u=s.bounds?s.bounds.max:s.max||s.position||s;l&&u&&(l.x<r.min.x&&(r.min.x=l.x),u.x>r.max.x&&(r.max.x=u.x),l.y<r.min.y&&(r.min.y=l.y),u.y>r.max.y&&(r.max.y=u.y))}var f=r.max.x-r.min.x+2*n.x,p=r.max.y-r.min.y+2*n.y,h=t.canvas.height,d=t.canvas.width/h,y=f/p,v=1,g=1;y>d?g=y/d:v=d/y,t.options.hasBounds=!0,t.bounds.min.x=r.min.x,t.bounds.max.x=r.min.x+f*v,t.bounds.min.y=r.min.y,t.bounds.max.y=r.min.y+p*g,i&&(t.bounds.min.x+=.5*f-f*v*.5,t.bounds.max.x+=.5*f-f*v*.5,t.bounds.min.y+=.5*p-p*g*.5,t.bounds.max.y+=.5*p-p*g*.5),t.bounds.min.x-=n.x,t.bounds.max.x-=n.x,t.bounds.min.y-=n.y,t.bounds.max.y-=n.y,t.mouse&&(c.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.canvas.width,y:(t.bounds.max.y-t.bounds.min.y)/t.canvas.height}),c.setOffset(t.mouse,t.bounds.min))},i.startViewTransform=function(t){var e=t.bounds.max.x-t.bounds.min.x,n=t.bounds.max.y-t.bounds.min.y,i=e/t.options.width,r=n/t.options.height;t.context.setTransform(t.options.pixelRatio/i,0,0,t.options.pixelRatio/r,0,0),t.context.translate(-t.bounds.min.x,-t.bounds.min.y)},i.endViewTransform=function(t){t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0)},i.world=function(t,e){var n,r=o.now(),f=t.engine,p=f.world,h=t.canvas,d=t.context,v=t.options,g=t.timing,m=a.allBodies(p),x=a.allConstraints(p),b=v.wireframes?v.wireframeBackground:v.background,w=[],_=[],S={timestamp:f.timing.timestamp};if(l.trigger(t,"beforeRender",S),t.currentBackground!==b&&y(t,b),d.globalCompositeOperation="source-in",d.fillStyle="transparent",d.fillRect(0,0,h.width,h.height),d.globalCompositeOperation="source-over",v.hasBounds){for(n=0;n<m.length;n++){var M=m[n];s.overlaps(M.bounds,t.bounds)&&w.push(M)}for(n=0;n<x.length;n++){var A=x[n],k=A.bodyA,P=A.bodyB,C=A.pointA,B=A.pointB;k&&(C=u.add(k.position,A.pointA)),P&&(B=u.add(P.position,A.pointB)),C&&B&&(s.contains(t.bounds,C)||s.contains(t.bounds,B))&&_.push(A)}i.startViewTransform(t),t.mouse&&(c.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.options.width,y:(t.bounds.max.y-t.bounds.min.y)/t.options.height}),c.setOffset(t.mouse,t.bounds.min))}else _=x,w=m,1!==t.options.pixelRatio&&t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0);!v.wireframes||f.enableSleeping&&v.showSleeping?i.bodies(t,w,d):(v.showConvexHulls&&i.bodyConvexHulls(t,w,d),i.bodyWireframes(t,w,d)),v.showBounds&&i.bodyBounds(t,w,d),(v.showAxes||v.showAngleIndicator)&&i.bodyAxes(t,w,d),v.showPositions&&i.bodyPositions(t,w,d),v.showVelocity&&i.bodyVelocity(t,w,d),v.showIds&&i.bodyIds(t,w,d),v.showSeparations&&i.separations(t,f.pairs.list,d),v.showCollisions&&i.collisions(t,f.pairs.list,d),v.showVertexNumbers&&i.vertexNumbers(t,w,d),v.showMousePosition&&i.mousePosition(t,t.mouse,d),i.constraints(_,d),v.hasBounds&&i.endViewTransform(t),l.trigger(t,"afterRender",S),g.lastElapsed=o.now()-r},i.stats=function(t,e,n){for(var i=t.engine,r=i.world,o=a.allBodies(r),s=0,l=0,u=0;u<o.length;u+=1)s+=o[u].parts.length;var c={Part:s,Body:o.length,Cons:a.allConstraints(r).length,Comp:a.allComposites(r).length,Pair:i.pairs.list.length};for(var f in e.fillStyle="#0e0f19",e.fillRect(l,0,302.5,44),e.font="12px Arial",e.textBaseline="top",e.textAlign="right",c){var p=c[f];e.fillStyle="#aaa",e.fillText(f,l+55,8),e.fillStyle="#eee",e.fillText(p,l+55,26),l+=55}},i.performance=function(t,e){var n=t.engine,r=t.timing,o=r.deltaHistory,a=r.elapsedHistory,s=r.timestampElapsedHistory,l=r.engineDeltaHistory,u=r.engineElapsedHistory,c=n.timing.lastDelta,p=f(o),h=f(a),d=f(l),y=f(u),v=f(s)/p||0,g=1e3/p||0,m=60;e.fillStyle="#0e0f19",e.fillRect(0,50,370,34),i.status(e,10,69,m,4,o.length,Math.round(g)+" fps",g/i._goodFps,(function(t){return o[t]/p-1})),i.status(e,82,69,m,4,l.length,c.toFixed(2)+" dt",i._goodDelta/c,(function(t){return l[t]/d-1})),i.status(e,154,69,m,4,u.length,y.toFixed(2)+" ut",1-y/i._goodFps,(function(t){return u[t]/y-1})),i.status(e,226,69,m,4,a.length,h.toFixed(2)+" rt",1-h/i._goodFps,(function(t){return a[t]/h-1})),i.status(e,298,69,m,4,s.length,v.toFixed(2)+" x",v*v*v,(function(t){return(s[t]/o[t]/v||0)-1}))},i.status=function(t,e,n,i,r,a,s,l,u){t.strokeStyle="#888",t.fillStyle="#444",t.lineWidth=1,t.fillRect(e,n+7,i,1),t.beginPath(),t.moveTo(e,n+7-r*o.clamp(.4*u(0),-2,2));for(var c=0;c<i;c+=1)t.lineTo(e+c,n+7-(c<a?r*o.clamp(.4*u(c),-2,2):0));t.stroke(),t.fillStyle="hsl("+o.clamp(25+95*l,0,120)+",100%,60%)",t.fillRect(e,n-7,4,4),t.font="12px Arial",t.textBaseline="middle",t.textAlign="right",t.fillStyle="#eee",t.fillText(s,e+i,n-5)},i.constraints=function(t,e){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(r.render.visible&&r.pointA&&r.pointB){var a,s,l=r.bodyA,c=r.bodyB;if(a=l?u.add(l.position,r.pointA):r.pointA,"pin"===r.render.type)n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath();else{if(s=c?u.add(c.position,r.pointB):r.pointB,n.beginPath(),n.moveTo(a.x,a.y),"spring"===r.render.type)for(var f,p=u.sub(s,a),h=u.perp(u.normalise(p)),d=Math.ceil(o.clamp(r.length/5,12,20)),y=1;y<d;y+=1)f=y%2===0?1:-1,n.lineTo(a.x+p.x*(y/d)+h.x*f*4,a.y+p.y*(y/d)+h.y*f*4);n.lineTo(s.x,s.y)}r.render.lineWidth&&(n.lineWidth=r.render.lineWidth,n.strokeStyle=r.render.strokeStyle,n.stroke()),r.render.anchors&&(n.fillStyle=r.render.strokeStyle,n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},i.bodies=function(t,e,n){var i,r,o,a,s=n,l=(t.engine,t.options),u=l.showInternalEdges||!l.wireframes;for(o=0;o<e.length;o++)if((i=e[o]).render.visible)for(a=i.parts.length>1?1:0;a<i.parts.length;a++)if((r=i.parts[a]).render.visible){if(l.showSleeping&&i.isSleeping?s.globalAlpha=.5*r.render.opacity:1!==r.render.opacity&&(s.globalAlpha=r.render.opacity),r.render.sprite&&r.render.sprite.texture&&!l.wireframes){var c=r.render.sprite,f=d(t,c.texture);s.translate(r.position.x,r.position.y),s.rotate(r.angle),s.drawImage(f,f.width*-c.xOffset*c.xScale,f.height*-c.yOffset*c.yScale,f.width*c.xScale,f.height*c.yScale),s.rotate(-r.angle),s.translate(-r.position.x,-r.position.y)}else{if(r.circleRadius)s.beginPath(),s.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(r.vertices[0].x,r.vertices[0].y);for(var p=1;p<r.vertices.length;p++)!r.vertices[p-1].isInternal||u?s.lineTo(r.vertices[p].x,r.vertices[p].y):s.moveTo(r.vertices[p].x,r.vertices[p].y),r.vertices[p].isInternal&&!u&&s.moveTo(r.vertices[(p+1)%r.vertices.length].x,r.vertices[(p+1)%r.vertices.length].y);s.lineTo(r.vertices[0].x,r.vertices[0].y),s.closePath()}l.wireframes?(s.lineWidth=1,s.strokeStyle="#bbb",s.stroke()):(s.fillStyle=r.render.fillStyle,r.render.lineWidth&&(s.lineWidth=r.render.lineWidth,s.strokeStyle=r.render.strokeStyle,s.stroke()),s.fill())}s.globalAlpha=1}},i.bodyWireframes=function(t,e,n){var i,r,o,a,s,l=n,u=t.options.showInternalEdges;for(l.beginPath(),o=0;o<e.length;o++)if((i=e[o]).render.visible)for(s=i.parts.length>1?1:0;s<i.parts.length;s++){for(r=i.parts[s],l.moveTo(r.vertices[0].x,r.vertices[0].y),a=1;a<r.vertices.length;a++)!r.vertices[a-1].isInternal||u?l.lineTo(r.vertices[a].x,r.vertices[a].y):l.moveTo(r.vertices[a].x,r.vertices[a].y),r.vertices[a].isInternal&&!u&&l.moveTo(r.vertices[(a+1)%r.vertices.length].x,r.vertices[(a+1)%r.vertices.length].y);l.lineTo(r.vertices[0].x,r.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},i.bodyConvexHulls=function(t,e,n){var i,r,o,a=n;for(a.beginPath(),r=0;r<e.length;r++)if((i=e[r]).render.visible&&1!==i.parts.length){for(a.moveTo(i.vertices[0].x,i.vertices[0].y),o=1;o<i.vertices.length;o++)a.lineTo(i.vertices[o].x,i.vertices[o].y);a.lineTo(i.vertices[0].x,i.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},i.vertexNumbers=function(t,e,n){var i,r,o,a=n;for(i=0;i<e.length;i++){var s=e[i].parts;for(o=s.length>1?1:0;o<s.length;o++){var l=s[o];for(r=0;r<l.vertices.length;r++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(i+"_"+r,l.position.x+.8*(l.vertices[r].x-l.position.x),l.position.y+.8*(l.vertices[r].y-l.position.y))}}},i.mousePosition=function(t,e,n){var i=n;i.fillStyle="rgba(255,255,255,0.8)",i.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},i.bodyBounds=function(t,e,n){var i=n,r=(t.engine,t.options);i.beginPath();for(var o=0;o<e.length;o++)if(e[o].render.visible)for(var a=e[o].parts,s=a.length>1?1:0;s<a.length;s++){var l=a[s];i.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}r.wireframes?i.strokeStyle="rgba(255,255,255,0.08)":i.strokeStyle="rgba(0,0,0,0.1)",i.lineWidth=1,i.stroke()},i.bodyAxes=function(t,e,n){var i,r,o,a,s=n,l=(t.engine,t.options);for(s.beginPath(),r=0;r<e.length;r++){var u=e[r],c=u.parts;if(u.render.visible)if(l.showAxes)for(o=c.length>1?1:0;o<c.length;o++)for(i=c[o],a=0;a<i.axes.length;a++){var f=i.axes[a];s.moveTo(i.position.x,i.position.y),s.lineTo(i.position.x+20*f.x,i.position.y+20*f.y)}else for(o=c.length>1?1:0;o<c.length;o++)for(i=c[o],a=0;a<i.axes.length;a++)s.moveTo(i.position.x,i.position.y),s.lineTo((i.vertices[0].x+i.vertices[i.vertices.length-1].x)/2,(i.vertices[0].y+i.vertices[i.vertices.length-1].y)/2)}l.wireframes?(s.strokeStyle="indianred",s.lineWidth=1):(s.strokeStyle="rgba(255, 255, 255, 0.4)",s.globalCompositeOperation="overlay",s.lineWidth=2),s.stroke(),s.globalCompositeOperation="source-over"},i.bodyPositions=function(t,e,n){var i,r,o,a,s=n,l=(t.engine,t.options);for(s.beginPath(),o=0;o<e.length;o++)if((i=e[o]).render.visible)for(a=0;a<i.parts.length;a++)r=i.parts[a],s.arc(r.position.x,r.position.y,3,0,2*Math.PI,!1),s.closePath();for(l.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),o=0;o<e.length;o++)(i=e[o]).render.visible&&(s.arc(i.positionPrev.x,i.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},i.bodyVelocity=function(t,e,n){var i=n;i.beginPath();for(var o=0;o<e.length;o++){var a=e[o];if(a.render.visible){var s=r.getVelocity(a);i.moveTo(a.position.x,a.position.y),i.lineTo(a.position.x+s.x,a.position.y+s.y)}}i.lineWidth=3,i.strokeStyle="cornflowerblue",i.stroke()},i.bodyIds=function(t,e,n){var i,r,o=n;for(i=0;i<e.length;i++)if(e[i].render.visible){var a=e[i].parts;for(r=a.length>1?1:0;r<a.length;r++){var s=a[r];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(s.id,s.position.x+10,s.position.y-10)}}},i.collisions=function(t,e,n){var i,r,o,a,s=n,l=t.options;for(s.beginPath(),o=0;o<e.length;o++)if((i=e[o]).isActive)for(r=i.collision,a=0;a<i.activeContacts.length;a++){var u=i.activeContacts[a].vertex;s.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(l.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),o=0;o<e.length;o++)if((i=e[o]).isActive&&(r=i.collision,i.activeContacts.length>0)){var c=i.activeContacts[0].vertex.x,f=i.activeContacts[0].vertex.y;2===i.activeContacts.length&&(c=(i.activeContacts[0].vertex.x+i.activeContacts[1].vertex.x)/2,f=(i.activeContacts[0].vertex.y+i.activeContacts[1].vertex.y)/2),r.bodyB===r.supports[0].body||!0===r.bodyA.isStatic?s.moveTo(c-8*r.normal.x,f-8*r.normal.y):s.moveTo(c+8*r.normal.x,f+8*r.normal.y),s.lineTo(c,f)}l.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},i.separations=function(t,e,n){var i,r,o,a,s,l=n,u=t.options;for(l.beginPath(),s=0;s<e.length;s++)if((i=e[s]).isActive){o=(r=i.collision).bodyA;var c=1;(a=r.bodyB).isStatic||o.isStatic||(c=.5),a.isStatic&&(c=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x-r.penetration.x*c,a.position.y-r.penetration.y*c),c=1,a.isStatic||o.isStatic||(c=.5),o.isStatic&&(c=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x+r.penetration.x*c,o.position.y+r.penetration.y*c)}u.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},i.inspector=function(t,e){t.engine;var n,i=t.selected,r=t.render,o=r.options;if(o.hasBounds){var a=r.bounds.max.x-r.bounds.min.x,s=r.bounds.max.y-r.bounds.min.y,l=a/r.options.width,u=s/r.options.height;e.scale(1/l,1/u),e.translate(-r.bounds.min.x,-r.bounds.min.y)}for(var c=0;c<i.length;c++){var f=i[c].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),f.type){case"body":n=f.bounds,e.beginPath(),e.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var p=f.pointA;f.bodyA&&(p=f.pointB),e.beginPath(),e.arc(p.x,p.y,10,0,2*Math.PI),e.closePath(),e.stroke()}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",n=t.selectBounds,e.beginPath(),e.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),o.hasBounds&&e.setTransform(1,0,0,1,0,0)};var n=function(t,e){var n=t.engine,r=t.timing,o=r.historySize,a=n.timing.timestamp;r.delta=e-r.lastTime||i._goodDelta,r.lastTime=e,r.timestampElapsed=a-r.lastTimestamp||0,r.lastTimestamp=a,r.deltaHistory.unshift(r.delta),r.deltaHistory.length=Math.min(r.deltaHistory.length,o),r.engineDeltaHistory.unshift(n.timing.lastDelta),r.engineDeltaHistory.length=Math.min(r.engineDeltaHistory.length,o),r.timestampElapsedHistory.unshift(r.timestampElapsed),r.timestampElapsedHistory.length=Math.min(r.timestampElapsedHistory.length,o),r.engineElapsedHistory.unshift(n.timing.lastElapsed),r.engineElapsedHistory.length=Math.min(r.engineElapsedHistory.length,o),r.elapsedHistory.unshift(r.lastElapsed),r.elapsedHistory.length=Math.min(r.elapsedHistory.length,o)},f=function(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length||0},p=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},h=function(t){var e=t.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},d=function(t,e){var n=t.textures[e];return n||((n=t.textures[e]=new Image).src=e,n)},y=function(t,e){var n=e;/(jpg|gif|png)$/.test(e)&&(n="url("+e+")"),t.canvas.style.background=n,t.canvas.style.backgroundSize="contain",t.currentBackground=e}}()},function(t,e,n){var i={};t.exports=i;var r=n(5),o=n(17),a=n(0);!function(){var t,e,n;"undefined"!==typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),t||(t=function(t){n=setTimeout((function(){t(a.now())}),1e3/60)},e=function(){clearTimeout(n)}),i.create=function(t){var e=a.extend({fps:60,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,frameRequestId:null,isFixed:!1,enabled:!0},t);return e.delta=e.delta||1e3/e.fps,e.deltaMin=e.deltaMin||1e3/e.fps,e.deltaMax=e.deltaMax||1e3/(.5*e.fps),e.fps=1e3/e.delta,e},i.run=function(e,n){return"undefined"!==typeof e.positionIterations&&(n=e,e=i.create()),function r(o){e.frameRequestId=t(r),o&&e.enabled&&i.tick(e,n,o)}(),e},i.tick=function(t,e,n){var i,a=e.timing;t.isFixed?i=t.delta:(i=n-t.timePrev||t.delta,t.timePrev=n,t.deltaHistory.push(i),t.deltaHistory=t.deltaHistory.slice(-t.deltaSampleSize),i=(i=(i=Math.min.apply(null,t.deltaHistory))<t.deltaMin?t.deltaMin:i)>t.deltaMax?t.deltaMax:i,t.delta=i);var s={timestamp:a.timestamp};r.trigger(t,"beforeTick",s),t.frameCounter+=1,n-t.counterTimestamp>=1e3&&(t.fps=t.frameCounter*((n-t.counterTimestamp)/1e3),t.counterTimestamp=n,t.frameCounter=0),r.trigger(t,"tick",s),r.trigger(t,"beforeUpdate",s),o.update(e,i),r.trigger(t,"afterUpdate",s),r.trigger(t,"afterTick",s)},i.stop=function(t){e(t.frameRequestId)},i.start=function(t,e){i.run(t,e)}}()},function(t,e,n){var i={};t.exports=i;var r=n(8),o=n(0).deprecated;i.collides=function(t,e){return r.collides(t,e)},o(i,"collides","SAT.collides \u27a4 replaced by Collision.collides")},function(t,e,n){var i={};t.exports=i,n(1);var r=n(0);i.pathToVertices=function(t,e){"undefined"===typeof window||"SVGPathSeg"in window||r.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,o,a,s,l,u,c,f,p,h,d,y=[],v=0,g=0,m=0;e=e||15;var x=function(t,e,n){var i=n%2===1&&n>1;if(!p||t!=p.x||e!=p.y){p&&i?(h=p.x,d=p.y):(h=0,d=0);var r={x:h+t,y:d+e};!i&&p||(p=r),y.push(r),g=h+t,m=d+e}},b=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":g=t.x,m=t.y;break;case"H":g=t.x;break;case"V":m=t.y}x(g,m,t.pathSegType)}};for(i._svgPathToAbsolute(t),a=t.getTotalLength(),u=[],n=0;n<t.pathSegList.numberOfItems;n+=1)u.push(t.pathSegList.getItem(n));for(c=u.concat();v<a;){if((l=u[t.getPathSegAtLength(v)])!=f){for(;c.length&&c[0]!=l;)b(c.shift());f=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=t.getPointAtLength(v),x(s.x,s.y,0)}v+=e}for(n=0,o=c.length;n<o;++n)b(c[n]);return y},i._svgPathToAbsolute=function(t){for(var e,n,i,r,o,a,s=t.pathSegList,l=0,u=0,c=s.numberOfItems,f=0;f<c;++f){var p=s.getItem(f),h=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(h))"x"in p&&(l=p.x),"y"in p&&(u=p.y);else switch("x1"in p&&(i=l+p.x1),"x2"in p&&(o=l+p.x2),"y1"in p&&(r=u+p.y1),"y2"in p&&(a=u+p.y2),"x"in p&&(l+=p.x),"y"in p&&(u+=p.y),h){case"m":s.replaceItem(t.createSVGPathSegMovetoAbs(l,u),f);break;case"l":s.replaceItem(t.createSVGPathSegLinetoAbs(l,u),f);break;case"h":s.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),f);break;case"v":s.replaceItem(t.createSVGPathSegLinetoVerticalAbs(u),f);break;case"c":s.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,u,i,r,o,a),f);break;case"s":s.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,u,o,a),f);break;case"q":s.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,u,i,r),f);break;case"t":s.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,u),f);break;case"a":s.replaceItem(t.createSVGPathSegArcAbs(l,u,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),f);break;case"z":case"Z":l=e,u=n}"M"!=h&&"m"!=h||(e=l,n=u)}}},function(t,e,n){var i={};t.exports=i;var r=n(6);n(0),i.create=r.create,i.add=r.add,i.remove=r.remove,i.clear=r.clear,i.addComposite=r.addComposite,i.addBody=r.addBody,i.addConstraint=r.addConstraint}])},t.exports=i()},243:(t,e,n)=>{"use strict";n.d(e,{Wcw:()=>$r,l78:()=>$,tlR:()=>Y,qrM:()=>ao,guX:()=>Pi,yfw:()=>Si,I1g:()=>Mi,GPZ:()=>Di,JWi:()=>_,GWP:()=>Gi,dM:()=>mr,n8j:()=>Yr,T9B:()=>S,P2Z:()=>M,i2o:()=>A,JZy:()=>E,z94:()=>N,y17:()=>R,m4Y:()=>yr,hqK:()=>rr,WT_:()=>vr,Ltv:()=>xr,czq:()=>V,HRO:()=>io});var i=Array.prototype,r=i.slice;i.map;function o(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function s(t){let e,n,i;function r(t,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<0?r=e+1:o=e}while(r<o)}return r}return 2!==t.length?(e=o,n=(e,n)=>o(t(e),n),i=(e,n)=>t(e)-n):(e=t===o||t===a?t:l,n=t,i=t),{left:r,center:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=r(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>n&&i(t[o-1],e)>-i(t[o],e)?o-1:o},right:function(t,i){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(r<o){if(0!==e(i,i))return o;do{const e=r+o>>>1;n(t[e],i)<=0?r=e+1:o=e}while(r<o)}return r}}}function l(){return 0}const u=s(o),c=u.right,f=(u.left,s((function(t){return null===t?NaN:+t})).center,c);function p(t){return()=>t}function h(t,e){let n,i;if(void 0===e)for(const r of t)null!=r&&(void 0===n?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(void 0===n?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)))}return[n,i]}function d(t){return t}const y=Math.sqrt(50),v=Math.sqrt(10),g=Math.sqrt(2);function m(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=y?10:o>=v?5:o>=g?2:1;let s,l,u;return r<0?(u=Math.pow(10,-r)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?m(t,e,2*n):[s,l,u]}function x(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const i=e<t,[r,o,a]=i?m(e,t,n):m(t,e,n);if(!(o>=r))return[];const s=o-r+1,l=new Array(s);if(i)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(r+u)/-a;else for(let u=0;u<s;++u)l[u]=(r+u)*a;return l}function b(t,e,n){return m(t=+t,e=+e,n=+n)[2]}function w(t){return Math.max(1,Math.ceil(Math.log(function(t,e){let n=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&++n;else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(r=+r)>=r&&++n}return n}(t))/Math.LN2)+1)}function _(){var t=d,e=h,n=w;function i(i){Array.isArray(i)||(i=Array.from(i));var r,o,a,s=i.length,l=new Array(s);for(r=0;r<s;++r)l[r]=t(i[r],r,i);var u=e(l),c=u[0],p=u[1],d=n(l,c,p);if(!Array.isArray(d)){const t=p,n=+d;if(e===h&&([c,p]=function(t,e,n){let i;for(;;){const r=b(t,e,n);if(r===i||0===r||!isFinite(r))return[t,e];r>0?(t=Math.floor(t/r)*r,e=Math.ceil(e/r)*r):r<0&&(t=Math.ceil(t*r)/r,e=Math.floor(e*r)/r),i=r}}(c,p,n)),(d=x(c,p,n))[0]<=c&&(a=b(c,p,n)),d[d.length-1]>=p)if(t>=p&&e===h){const t=b(c,p,n);isFinite(t)&&(t>0?p=(Math.floor(p/t)+1)*t:t<0&&(p=(Math.ceil(p*-t)+1)/-t))}else d.pop()}for(var y=d.length,v=0,g=y;d[v]<=c;)++v;for(;d[g-1]>p;)--g;(v||g<y)&&(d=d.slice(v,g),y=g-v);var m,w=new Array(y+1);for(r=0;r<=y;++r)(m=w[r]=[]).x0=r>0?d[r-1]:c,m.x1=r<y?d[r]:p;if(isFinite(a)){if(a>0)for(r=0;r<s;++r)null!=(o=l[r])&&c<=o&&o<=p&&w[Math.min(y,Math.floor((o-c)/a))].push(i[r]);else if(a<0)for(r=0;r<s;++r)if(null!=(o=l[r])&&c<=o&&o<=p){const t=Math.floor((c-o)*a);w[Math.min(y,t+(d[t]<=o))].push(i[r])}}else for(r=0;r<s;++r)null!=(o=l[r])&&c<=o&&o<=p&&w[f(d,o,0,y)].push(i[r]);return w}return i.value=function(e){return arguments.length?(t="function"===typeof e?e:p(e),i):t},i.domain=function(t){return arguments.length?(e="function"===typeof t?t:p([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:p(Array.isArray(t)?r.call(t):t),i):n},i}function S(t,e){let n;if(void 0===e)for(const i of t)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function M(t,e){let n,i=-1,r=-1;if(void 0===e)for(const o of t)++r,null!=o&&(n<o||void 0===n&&o>=o)&&(n=o,i=r);else for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o,i=r);return i}function A(t,e){let n=0,i=0;if(void 0===e)for(let r of t)null!=r&&(r=+r)>=r&&(++n,i+=r);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(o=+o)>=o&&(++n,i+=o)}if(n)return i/n}function k(t,e){let n;if(void 0===e)for(const i of t)null!=i&&(n>i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function P(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;if(t===o)return C;if("function"!==typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||0===i?i:(0===t(n,n))-(0===t(e,e))}}function C(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function B(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,r=arguments.length>4?arguments[4]:void 0;if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(r=void 0===r?C:P(r);i>n;){if(i-n>600){const o=i-n+1,a=e-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);B(t,e,Math.max(n,Math.floor(e-a*l/o+u)),Math.min(i,Math.floor(e+(o-a)*l/o+u)),r)}const o=t[e];let a=n,s=i;for(I(t,n,e),r(t[i],o)>0&&I(t,n,i);a<s;){for(I(t,a,s),++a,--s;r(t[a],o)<0;)++a;for(;r(t[s],o)>0;)--s}0===r(t[n],o)?I(t,n,s):(++s,I(t,s,i)),s<=e&&(n=s+1),e<=s&&(i=s-1)}return t}function I(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function T(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)null!=(i=e(i,++n,t))&&(i=+i)>=i&&(yield i)}}(t,n)),(i=t.length)&&!isNaN(e=+e)){if(e<=0||i<2)return k(t);if(e>=1)return S(t);var i,r=(i-1)*e,o=Math.floor(r),a=S(B(t,o).subarray(0,o+1));return a+(k(t.subarray(o+1))-a)*(r-o)}}function E(t,e){return T(t,.5,e)}function N(t,e){let n,i=-1,r=-1;if(void 0===e)for(const o of t)++r,null!=o&&(n>o||void 0===n&&o>=o)&&(n=o,i=r);else for(let o of t)null!=(o=e(o,++r,t))&&(n>o||void 0===n&&o>=o)&&(n=o,i=r);return i}function R(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}function V(t,e){let n=0;if(void 0===e)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let r of t)(r=+e(r,++i,t))&&(n+=r)}return n}function O(t){return t}var L=1,D=2,q=3,j=4,F=1e-6;function H(t){return"translate("+t+",0)"}function W(t){return"translate(0,"+t+")"}function z(t){return e=>+t(e)}function X(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function U(){return!this.__axis}function G(t,e){var n=[],i=null,r=null,o=6,a=6,s=3,l="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,u=t===L||t===j?-1:1,c=t===j||t===D?"x":"y",f=t===L||t===q?H:W;function p(p){var h=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,d=null==r?e.tickFormat?e.tickFormat.apply(e,n):O:r,y=Math.max(o,0)+s,v=e.range(),g=+v[0]+l,m=+v[v.length-1]+l,x=(e.bandwidth?X:z)(e.copy(),l),b=p.selection?p.selection():p,w=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(h,e).order(),S=_.exit(),M=_.enter().append("g").attr("class","tick"),A=_.select("line"),k=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(M),A=A.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),k=k.merge(M.append("text").attr("fill","currentColor").attr(c,u*y).attr("dy",t===L?"0em":t===q?"0.71em":"0.32em")),p!==b&&(w=w.transition(p),_=_.transition(p),A=A.transition(p),k=k.transition(p),S=S.transition(p).attr("opacity",F).attr("transform",(function(t){return isFinite(t=x(t))?f(t+l):this.getAttribute("transform")})),M.attr("opacity",F).attr("transform",(function(t){var e=this.parentNode.__axis;return f((e&&isFinite(e=e(t))?e:x(t))+l)}))),S.remove(),w.attr("d",t===j||t===D?a?"M"+u*a+","+g+"H"+l+"V"+m+"H"+u*a:"M"+l+","+g+"V"+m:a?"M"+g+","+u*a+"V"+l+"H"+m+"V"+u*a:"M"+g+","+l+"H"+m),_.attr("opacity",1).attr("transform",(function(t){return f(x(t)+l)})),A.attr(c+"2",u*o),k.attr(c,u*y).text(d),b.filter(U).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===D?"start":t===j?"end":"middle"),b.each((function(){this.__axis=x}))}return p.scale=function(t){return arguments.length?(e=t,p):e},p.ticks=function(){return n=Array.from(arguments),p},p.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),p):n.slice()},p.tickValues=function(t){return arguments.length?(i=null==t?null:Array.from(t),p):i&&i.slice()},p.tickFormat=function(t){return arguments.length?(r=t,p):r},p.tickSize=function(t){return arguments.length?(o=a=+t,p):o},p.tickSizeInner=function(t){return arguments.length?(o=+t,p):o},p.tickSizeOuter=function(t){return arguments.length?(a=+t,p):a},p.tickPadding=function(t){return arguments.length?(s=+t,p):s},p.offset=function(t){return arguments.length?(l=+t,p):l},p}function Y(t){return G(L,t)}function $(t){return G(q,t)}function Z(){}function Q(t){return null==t?Z:function(){return this.querySelector(t)}}function J(){return[]}function K(t){return null==t?J:function(){return this.querySelectorAll(t)}}function tt(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function et(t){return function(){return this.matches(t)}}function nt(t){return function(e){return e.matches(t)}}var it=Array.prototype.find;function rt(){return this.firstElementChild}var ot=Array.prototype.filter;function at(){return Array.from(this.children)}function st(t){return new Array(t.length)}function lt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ut(t,e,n,i,r,o){for(var a,s=0,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new lt(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function ct(t,e,n,i,r,o,a){var s,l,u,c=new Map,f=e.length,p=o.length,h=new Array(f);for(s=0;s<f;++s)(l=e[s])&&(h[s]=u=a.call(l,l.__data__,s,e)+"",c.has(u)?r[s]=l:c.set(u,l));for(s=0;s<p;++s)u=a.call(t,o[s],s,o)+"",(l=c.get(u))?(i[s]=l,l.__data__=o[s],c.delete(u)):n[s]=new lt(t,o[s]);for(s=0;s<f;++s)(l=e[s])&&c.get(h[s])===l&&(r[s]=l)}function ft(t){return t.__data__}function pt(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function ht(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}lt.prototype={constructor:lt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var dt="http://www.w3.org/1999/xhtml";const yt={svg:"http://www.w3.org/2000/svg",xhtml:dt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),yt.hasOwnProperty(e)?{space:yt[e],local:t}:t}function gt(t){return function(){this.removeAttribute(t)}}function mt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xt(t,e){return function(){this.setAttribute(t,e)}}function bt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function wt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function _t(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function St(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Mt(t){return function(){this.style.removeProperty(t)}}function At(t,e,n){return function(){this.style.setProperty(t,e,n)}}function kt(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Pt(t,e){return t.style.getPropertyValue(e)||St(t).getComputedStyle(t,null).getPropertyValue(e)}function Ct(t){return function(){delete this[t]}}function Bt(t,e){return function(){this[t]=e}}function It(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Tt(t){return t.trim().split(/^|\s+/)}function Et(t){return t.classList||new Nt(t)}function Nt(t){this._node=t,this._names=Tt(t.getAttribute("class")||"")}function Rt(t,e){for(var n=Et(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Vt(t,e){for(var n=Et(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Ot(t){return function(){Rt(this,t)}}function Lt(t){return function(){Vt(this,t)}}function Dt(t,e){return function(){(e.apply(this,arguments)?Rt:Vt)(this,t)}}function qt(){this.textContent=""}function jt(t){return function(){this.textContent=t}}function Ft(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ht(){this.innerHTML=""}function Wt(t){return function(){this.innerHTML=t}}function zt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Xt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ut(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===dt&&e.documentElement.namespaceURI===dt?e.createElement(t):e.createElementNS(n,t)}}function Yt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $t(t){var e=vt(t);return(e.local?Yt:Gt)(e)}function Zt(){return null}function Qt(){var t=this.parentNode;t&&t.removeChild(this)}function Jt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Kt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function te(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function ee(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ne(t,e,n){var i=St(t),r=i.CustomEvent;"function"===typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function ie(t,e){return function(){return ne(this,t,e)}}function re(t,e){return function(){return ne(this,t,e.apply(this,arguments))}}Nt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var oe=[null];function ae(t,e){this._groups=t,this._parents=e}function se(){return new ae([[document.documentElement]],oe)}ae.prototype=se.prototype={constructor:ae,select:function(t){"function"!==typeof t&&(t=Q(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],l=s.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new ae(i,this._parents)},selectAll:function(t){t="function"===typeof t?tt(t):K(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),r.push(a));return new ae(i,r)},selectChild:function(t){return this.select(null==t?rt:function(t){return function(){return it.call(this.children,t)}}("function"===typeof t?t:nt(t)))},selectChildren:function(t){return this.selectAll(null==t?at:function(t){return function(){return ot.call(this.children,t)}}("function"===typeof t?t:nt(t)))},filter:function(t){"function"!==typeof t&&(t=et(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new ae(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ft);var n,i=e?ct:ut,r=this._parents,o=this._groups;"function"!==typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var f=r[c],p=o[c],h=p.length,d=pt(t.call(f,f&&f.__data__,c,r)),y=d.length,v=l[c]=new Array(y),g=s[c]=new Array(y);i(f,p,v,g,u[c]=new Array(h),d,e);for(var m,x,b=0,w=0;b<y;++b)if(m=v[b]){for(b>=w&&(w=b+1);!(x=g[w])&&++w<y;);m._next=x||null}}return(s=new ae(s,r))._enter=l,s._exit=u,s},enter:function(){return new ae(this._enter||this._groups.map(st),this._parents)},exit:function(){return new ae(this._exit||this._groups.map(st),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return"function"===typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var u,c=n[l],f=i[l],p=c.length,h=s[l]=new Array(p),d=0;d<p;++d)(u=c[d]||f[d])&&(h[d]=u);for(;l<r;++l)s[l]=n[l];return new ae(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ht);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,u=r[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(e)}return new ae(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=vt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?mt:gt:"function"===typeof e?n.local?_t:wt:n.local?bt:xt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Mt:"function"===typeof e?kt:At)(t,e,null==n?"":n)):Pt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ct:"function"===typeof e?It:Bt)(t,e)):this.node()[t]},classed:function(t,e){var n=Tt(t+"");if(arguments.length<2){for(var i=Et(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"===typeof e?Dt:e?Ot:Lt)(n,e))},text:function(t){return arguments.length?this.each(null==t?qt:("function"===typeof t?Ft:jt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ht:("function"===typeof t?zt:Wt)(t)):this.node().innerHTML},raise:function(){return this.each(Xt)},lower:function(){return this.each(Ut)},append:function(t){var e="function"===typeof t?t:$t(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:$t(t),i=null==e?Zt:"function"===typeof e?e:Q(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Qt)},clone:function(t){return this.select(t?Kt:Jt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?ee:te,i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"===typeof e?re:ie)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};const le=se;var ue={value:()=>{}};function ce(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new fe(i)}function fe(t){this._=t}function pe(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function he(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ue,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}fe.prototype=ce.prototype={constructor:fe,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)r[n]=he(r[n],t.name,e);else if(null==e)for(n in r)r[n]=he(r[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=pe(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new fe(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};const de=ce;var ye,ve,ge=0,me=0,xe=0,be=1e3,we=0,_e=0,Se=0,Me="object"===typeof performance&&performance.now?performance:Date,Ae="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ke(){return _e||(Ae(Pe),_e=Me.now()+Se)}function Pe(){_e=0}function Ce(){this._call=this._time=this._next=null}function Be(t,e,n){var i=new Ce;return i.restart(t,e,n),i}function Ie(){_e=(we=Me.now())+Se,ge=me=0;try{!function(){ke(),++ge;for(var t,e=ye;e;)(t=_e-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ge}()}finally{ge=0,function(){var t,e,n=ye,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ye=e);ve=t,Ee(i)}(),_e=0}}function Te(){var t=Me.now(),e=t-we;e>be&&(Se-=e,we=t)}function Ee(t){ge||(me&&(me=clearTimeout(me)),t-_e>24?(t<1/0&&(me=setTimeout(Ie,t-Me.now()-Se)),xe&&(xe=clearInterval(xe))):(xe||(we=Me.now(),xe=setInterval(Te,be)),ge=1,Ae(Ie)))}function Ne(t,e,n){var i=new Ce;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}Ce.prototype=Be.prototype={constructor:Ce,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?ke():+n)+(null==e?0:+e),this._next||ve===this||(ve?ve._next=this:ye=this,ve=this),this._call=t,this._time=n,Ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ee())}};var Re=de("start","end","cancel","interrupt"),Ve=[],Oe=0,Le=1,De=2,qe=3,je=4,Fe=5,He=6;function We(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(t){n.state=Le,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var u,c,f,p;if(n.state!==Le)return l();for(u in r)if((p=r[u]).name===n.name){if(p.state===qe)return Ne(a);p.state===je?(p.state=He,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[u]):+u<e&&(p.state=He,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[u])}if(Ne((function(){n.state===qe&&(n.state=je,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=De,n.on.call("start",t,t.__data__,n.index,n.group),n.state===De){for(n.state=qe,i=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(p=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=Fe,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);n.state===Fe&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=He,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Be(o,0,n.time)}(t,n,{name:e,index:i,group:r,on:Re,tween:Ve,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Oe})}function ze(t,e){var n=Ue(t,e);if(n.state>Oe)throw new Error("too late; already scheduled");return n}function Xe(t,e){var n=Ue(t,e);if(n.state>qe)throw new Error("too late; already running");return n}function Ue(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ge(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ye,$e=180/Math.PI,Ze={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qe(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*$e,skewX:Math.atan(l)*$e,scaleX:a,scaleY:s}}function Je(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Ge(t,r)},{i:l-2,x:Ge(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Ge(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Ge(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,l),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Ge(t,n)},{i:s-2,x:Ge(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Ke=Je((function(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ze:Qe(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),tn=Je((function(t){return null==t?Ze:(Ye||(Ye=document.createElementNS("http://www.w3.org/2000/svg","g")),Ye.setAttribute("transform",t),(t=Ye.transform.baseVal.consolidate())?Qe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ze)}),", ",")",")");function en(t,e){var n,i;return function(){var r=Xe(this,t),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}function nn(t,e,n){var i,r;if("function"!==typeof n)throw new Error;return function(){var o=Xe(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=s;break}l===u&&r.push(s)}o.tween=r}}function rn(t,e,n){var i=t._id;return t.each((function(){var t=Xe(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ue(t,i).value[e]}}function on(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function an(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function sn(){}var ln=.7,un=1/ln,cn="\\s*([+-]?\\d+)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hn=/^#([0-9a-f]{3,8})$/,dn=new RegExp("^rgb\\(".concat(cn,",").concat(cn,",").concat(cn,"\\)$")),yn=new RegExp("^rgb\\(".concat(pn,",").concat(pn,",").concat(pn,"\\)$")),vn=new RegExp("^rgba\\(".concat(cn,",").concat(cn,",").concat(cn,",").concat(fn,"\\)$")),gn=new RegExp("^rgba\\(".concat(pn,",").concat(pn,",").concat(pn,",").concat(fn,"\\)$")),mn=new RegExp("^hsl\\(".concat(fn,",").concat(pn,",").concat(pn,"\\)$")),xn=new RegExp("^hsla\\(".concat(fn,",").concat(pn,",").concat(pn,",").concat(fn,"\\)$")),bn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wn(){return this.rgb().formatHex()}function _n(){return this.rgb().formatRgb()}function Sn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=hn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Mn(e):3===n?new Pn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?An(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?An(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=dn.exec(t))?new Pn(e[1],e[2],e[3],1):(e=yn.exec(t))?new Pn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=vn.exec(t))?An(e[1],e[2],e[3],e[4]):(e=gn.exec(t))?An(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=mn.exec(t))?Nn(e[1],e[2]/100,e[3]/100,1):(e=xn.exec(t))?Nn(e[1],e[2]/100,e[3]/100,e[4]):bn.hasOwnProperty(t)?Mn(bn[t]):"transparent"===t?new Pn(NaN,NaN,NaN,0):null}function Mn(t){return new Pn(t>>16&255,t>>8&255,255&t,1)}function An(t,e,n,i){return i<=0&&(t=e=n=NaN),new Pn(t,e,n,i)}function kn(t,e,n,i){return 1===arguments.length?((r=t)instanceof sn||(r=Sn(r)),r?new Pn((r=r.rgb()).r,r.g,r.b,r.opacity):new Pn):new Pn(t,e,n,null==i?1:i);var r}function Pn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Cn(){return"#".concat(En(this.r)).concat(En(this.g)).concat(En(this.b))}function Bn(){const t=In(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(Tn(this.r),", ").concat(Tn(this.g),", ").concat(Tn(this.b)).concat(1===t?")":", ".concat(t,")"))}function In(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function En(t){return((t=Tn(t))<16?"0":"")+t.toString(16)}function Nn(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vn(t,e,n,i)}function Rn(t){if(t instanceof Vn)return new Vn(t.h,t.s,t.l,t.opacity);if(t instanceof sn||(t=Sn(t)),!t)return new Vn;if(t instanceof Vn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Vn(a,s,l,t.opacity)}function Vn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function On(t){return(t=(t||0)%360)<0?t+360:t}function Ln(t){return Math.max(0,Math.min(1,t||0))}function Dn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function qn(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}on(sn,Sn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wn,formatHex:wn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Rn(this).formatHsl()},formatRgb:_n,toString:_n}),on(Pn,kn,an(sn,{brighter(t){return t=null==t?un:Math.pow(un,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ln:Math.pow(ln,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pn(Tn(this.r),Tn(this.g),Tn(this.b),In(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cn,formatHex:Cn,formatHex8:function(){return"#".concat(En(this.r)).concat(En(this.g)).concat(En(this.b)).concat(En(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Bn,toString:Bn})),on(Vn,(function(t,e,n,i){return 1===arguments.length?Rn(t):new Vn(t,e,n,null==i?1:i)}),an(sn,{brighter(t){return t=null==t?un:Math.pow(un,t),new Vn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ln:Math.pow(ln,t),new Vn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Pn(Dn(t>=240?t-240:t+120,r,i),Dn(t,r,i),Dn(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Vn(On(this.h),Ln(this.s),Ln(this.l),In(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=In(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(On(this.h),", ").concat(100*Ln(this.s),"%, ").concat(100*Ln(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));const jn=t=>()=>t;function Fn(t,e){return function(n){return t+n*e}}function Hn(t){return 1===(t=+t)?Wn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):jn(isNaN(e)?n:e)}}function Wn(t,e){var n=e-t;return n?Fn(t,n):jn(isNaN(t)?e:t)}const zn=function t(e){var n=Hn(e);function i(t,e){var i=n((t=kn(t)).r,(e=kn(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=Wn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function Xn(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=kn(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}var Un=Xn((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return qn((n-i/e)*e,a,r,o,s)}})),Gn=(Xn((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return qn((n-i/e)*e,r,o,a,s)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),Yn=new RegExp(Gn.source,"g");function $n(t,e){var n,i,r,o=Gn.lastIndex=Yn.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Gn.exec(t))&&(i=Yn.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Ge(n,i)})),o=Yn.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function Zn(t,e){var n;return("number"===typeof e?Ge:e instanceof Sn?zn:(n=Sn(e))?(e=n,zn):$n)(t,e)}function Qn(t){return function(){this.removeAttribute(t)}}function Jn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kn(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function ti(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function ei(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttribute(t)}}function ni(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}function ii(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,r)),n}return r._value=e,r}function ri(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,r)),n}return r._value=e,r}function oi(t,e){return function(){ze(this,t).delay=+e.apply(this,arguments)}}function ai(t,e){return e=+e,function(){ze(this,t).delay=e}}function si(t,e){return function(){Xe(this,t).duration=+e.apply(this,arguments)}}function li(t,e){return e=+e,function(){Xe(this,t).duration=e}}var ui=le.prototype.constructor;function ci(t){return function(){this.style.removeProperty(t)}}var fi=0;function pi(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function hi(){return++fi}var di=le.prototype;pi.prototype=function(t){return le().transition(t)}.prototype={constructor:pi,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Q(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,u=i[a],c=u.length,f=o[a]=new Array(c),p=0;p<c;++p)(s=u[p])&&(l=t.call(s,s.__data__,p,u))&&("__data__"in s&&(l.__data__=s.__data__),f[p]=l,We(f[p],e,n,p,f,Ue(s,n)));return new pi(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=K(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,u=i[s],c=u.length,f=0;f<c;++f)if(l=u[f]){for(var p,h=t.call(l,l.__data__,f,u),d=Ue(l,n),y=0,v=h.length;y<v;++y)(p=h[y])&&We(p,e,n,y,h,d);o.push(h),a.push(l)}return new pi(o,a,e,n)},selectChild:di.selectChild,selectChildren:di.selectChildren,filter:function(t){"function"!==typeof t&&(t=et(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new pi(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=e[s],c=n[s],f=u.length,p=a[s]=new Array(f),h=0;h<f;++h)(l=u[h]||c[h])&&(p[h]=l);for(;s<i;++s)a[s]=e[s];return new pi(a,this._parents,this._name,this._id)},selection:function(){return new ui(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=hi(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=Ue(a,e);We(a,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new pi(i,this._parents,t,n)},call:di.call,nodes:di.nodes,node:di.node,size:di.size,empty:di.empty,each:di.each,on:function(t,e){var n=this._id;return arguments.length<2?Ue(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ze:Xe;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}(n,t,e))},attr:function(t,e){var n=vt(t),i="transform"===n?tn:Zn;return this.attrTween(t,"function"===typeof e?(n.local?ni:ei)(n,i,rn(this,"attr."+t,e)):null==e?(n.local?Jn:Qn)(n):(n.local?ti:Kn)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var i=vt(t);return this.tween(n,(i.local?ii:ri)(i,e))},style:function(t,e,n){var i="transform"===(t+="")?Ke:Zn;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=Pt(this,t),a=(this.style.removeProperty(t),Pt(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}(t,i)).on("end.style."+t,ci(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var a=Pt(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Pt(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s))}}(t,i,rn(this,"style."+t,e))).each(function(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var l=Xe(this,t),u=l.on,c=null==l.value[a]?o||(o=ci(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(s,r=c),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var a=Pt(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!==typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(rn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,function(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Ue(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?en:nn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?oi:ai)(e,t)):Ue(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?si:li)(e,t)):Ue(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!==typeof e)throw new Error;return function(){Xe(this,t).ease=e}}(e,t)):Ue(this.node(),e).ease},easeVarying:function(t){if("function"!==typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;Xe(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--r&&o()}};n.each((function(){var n=Xe(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===r&&o()}))},[Symbol.iterator]:di[Symbol.iterator]};var yi={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function vi(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}le.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>De&&n.state<Fe,n.state=He,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}}(this,t)}))},le.prototype.transition=function(t){var e,n;t instanceof pi?(e=t._id,t=t._name):(e=hi(),(n=yi).time=ke(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)(a=s[u])&&We(a,t,e,u,s,n||vi(a,e));return new pi(i,this._parents,t,e)};const{abs:gi,max:mi,min:xi}=Math;function bi(t){return[+t[0],+t[1]]}function wi(t){return[bi(t[0]),bi(t[1])]}["w","e"].map(_i),["n","s"].map(_i),["n","w","e","s","nw","ne","sw","se"].map(_i);function _i(t){return{type:t}}const Si=t=>+t;function Mi(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ai(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}var ki=2*Math.PI,Pi=(function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=ki);function r(t){return e*Ai(- --t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*ki)},r.period=function(n){return t(e,n)},r}(1,.3),function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=ki);function r(t){return 1-e*Ai(t=+t)*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*ki)},r.period=function(n){return t(e,n)},r}(1,.3));(function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=ki);function r(t){return((t=2*t-1)<0?e*Ai(-t)*Math.sin((i-t)/n):2-e*Ai(t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*ki)},r.period=function(n){return t(e,n)},r})(1,.3);function Ci(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Bi(t){return(t=Ci(Math.abs(t)))?t[1]:NaN}var Ii,Ti=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ei(t){if(!(e=Ti.exec(t)))throw new Error("invalid format: "+t);var e;return new Ni({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ni(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ri(t,e){var n=Ci(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Ei.prototype=Ni.prototype,Ni.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Vi={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ri(100*t,e),r:Ri,s:function(t,e){var n=Ci(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Ii=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ci(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Oi(t){return t}var Li,Di,qi,ji=Array.prototype.map,Fi=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Hi(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Oi:(e=ji.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Oi:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(ji.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"\u2212":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ei(t)).fill,n=t.align,f=t.sign,p=t.symbol,h=t.zero,d=t.width,y=t.comma,v=t.precision,g=t.trim,m=t.type;"n"===m?(y=!0,m="g"):Vi[m]||(void 0===v&&(v=12),g=!0,m="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var x="$"===p?r:"#"===p&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===p?o:/[%p]/.test(m)?l:"",w=Vi[m],_=/[defgprs%]/.test(m);function S(t){var r,o,l,p=x,S=b;if("c"===m)S=w(t)+S,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),v),g&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),M&&0===+t&&"+"!==f&&(M=!1),p=(M?"("===f?f:u:"-"===f||"("===f?"":f)+p,S=("s"===m?Fi[8+Ii/3]:"")+S+(M&&"("===f?")":""),_)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){S=(46===l?a+t.slice(r+1):t.slice(r))+S,t=t.slice(0,r);break}}y&&!h&&(t=i(t,1/0));var A=p.length+t.length+S.length,k=A<d?new Array(d-A+1).join(e):"";switch(y&&h&&(t=i(k+t,k.length?d-S.length:1/0),k=""),n){case"<":t=p+t+S+k;break;case"=":t=p+k+t+S;break;case"^":t=k.slice(0,A=k.length>>1)+p+t+S+k.slice(A);break;default:t=k+p+t+S}return s(t)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return t+""},S}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ei(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Bi(e)/3))),r=Math.pow(10,-i),o=Fi[8+i/3];return function(t){return n(r*t)+o}}}}function Wi(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=Gi(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function zi(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Xi(t,e){var n,i={},r={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?i[n]=Gi(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}function Ui(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function Gi(t,e){var n,i,r=typeof e;return null==e||"boolean"===r?jn(e):("number"===r?Ge:"string"===r?(n=Sn(e))?(e=n,zn):$n:e instanceof Sn?zn:e instanceof Date?zi:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?Wi:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?Xi:Ge:Ui))(t,e)}function Yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}Li=Hi({thousands:",",grouping:[3],currency:["$",""]}),Di=Li.format,qi=Li.formatPrefix;class $i extends Map{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Zi(this,t))}has(t){return super.has(Zi(this,t))}set(t,e){return super.set(Qi(this,t),e)}delete(t){return super.delete(Ji(this,t))}}Set;function Zi(t,e){let{_intern:n,_key:i}=t;const r=i(e);return n.has(r)?n.get(r):e}function Qi(t,e){let{_intern:n,_key:i}=t;const r=i(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function Ji(t,e){let{_intern:n,_key:i}=t;const r=i(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function Ki(t){return null!==t&&"object"===typeof t?t.valueOf():t}const tr=Symbol("implicit");function er(){var t=new $i,e=[],n=[],i=tr;function r(r){let o=t.get(r);if(void 0===o){if(i!==tr)return i;t.set(r,o=e.push(r)-1)}return n[o%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new $i;for(const i of n)t.has(i)||t.set(i,e.push(i)-1);return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return er(e,n).unknown(i)},Yi.apply(r,arguments),r}function nr(){var t,e,n=er().unknown(void 0),i=n.domain,r=n.range,o=0,a=1,s=!1,l=0,u=0,c=.5;function f(){var n=i().length,f=a<o,p=f?a:o,h=f?o:a;t=(h-p)/Math.max(1,n-l+2*u),s&&(t=Math.floor(t)),p+=(h-p-t*(n-l))*c,e=t*(1-l),s&&(p=Math.round(p),e=Math.round(e));var d=R(n).map((function(e){return p+t*e}));return r(f?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),f()):i()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,u=+t),f()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},n.paddingOuter=function(t){return arguments.length?(u=+t,f()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},n.copy=function(){return nr(i(),[o,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},Yi.apply(f(),arguments)}function ir(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ir(e())},t}function rr(){return ir(nr.apply(null,arguments).paddingInner(1))}function or(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ar(t){return+t}var sr=[0,1];function lr(t){return t}function ur(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function cr(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=ur(r,i),o=n(a,o)):(i=ur(i,r),o=n(o,a)),function(t){return o(i(t))}}function fr(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=ur(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=f(t,e,1,i)-1;return o[n](r[n](e))}}function pr(){var t,e,n,i,r,o,a=sr,s=sr,l=Gi,u=lr;function c(){var t=Math.min(a.length,s.length);return u!==lr&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),i=t>2?fr:cr,r=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(r||(r=i(a.map(t),s,l)))(t(u(e)))}return f.invert=function(n){return u(e((o||(o=i(s,a.map(t),Ge)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,ar),c()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),l=or,c()},f.clamp=function(t){return arguments.length?(u=!!t||lr,c()):u!==lr},f.interpolate=function(t){return arguments.length?(l=t,c()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,i){return t=n,e=i,c()}}function hr(t,e,n,i){var r,o=function(t,e,n){n=+n;const i=(e=+e)<(t=+t),r=i?b(e,t,n):b(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}(t,e,n);switch((i=Ei(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bi(e)/3)))-Bi(Math.abs(t)))}(o,a))||(i.precision=r),qi(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bi(e)-Bi(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Bi(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Di(i)}function dr(t){var e=t.domain;return t.ticks=function(t){var n=e();return x(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return hr(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(r=l,l=u,u=r,r=a,a=s,s=r);c-- >0;){if((r=b(l,u,n))===i)return o[a]=l,o[s]=u,e(o);if(r>0)l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r}i=r}return t},t}function yr(){var t=pr()(lr,lr);return t.copy=function(){return e=t,yr().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},Yi.apply(t,arguments),dr(t)}function vr(){var t,e=0,n=1,i=1,r=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[f(r,e,0,i)]:t}function s(){var t=-1;for(r=new Array(i);++t<i;)r[t]=((t+1)*n-(t-i)*e)/(i+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(i=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,r[0]]:a>=i?[r[i-1],n]:[r[a-1],r[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return r.slice()},a.copy=function(){return vr().domain([e,n]).range(o).unknown(t)},Yi.apply(dr(a),arguments)}var gr=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map((function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}));const mr=(t=>Un(t[t.length-1]))(gr);function xr(t){return"string"===typeof t?new ae([[document.querySelector(t)]],[document.documentElement]):new ae([[t]],oe)}var br,wr,_r,Sr,Mr,Ar,kr,Pr,Cr,Br,Ir,Tr,Er,Nr;Array.prototype.slice;function Rr(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function Vr(t){return function(){return t}}function Or(t){this._context=t}function Lr(t){return new Or(t)}function Dr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Or.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const qr=Math.PI,jr=2*qr,Fr=1e-6,Hr=jr-Fr;function Wr(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class zr{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Wr:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error("invalid digits: ".concat(t));if(e>15)return Wr;const n=10**e;return function(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append(br||(br=Dr(["M",",",""])),this._x0=this._x1=+t,this._y0=this._y1=+e)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(wr||(wr=Dr(["Z"]))))}lineTo(t,e){this._append(_r||(_r=Dr(["L",",",""])),this._x1=+t,this._y1=+e)}quadraticCurveTo(t,e,n,i){this._append(Sr||(Sr=Dr(["Q",",",",",",",""])),+t,+e,this._x1=+n,this._y1=+i)}bezierCurveTo(t,e,n,i,r,o){this._append(Mr||(Mr=Dr(["C",",",",",",",",",",",""])),+t,+e,+n,+i,this._x1=+r,this._y1=+o)}arcTo(t,e,n,i,r){if(t=+t,e=+e,n=+n,i=+i,(r=+r)<0)throw new Error("negative radius: ".concat(r));let o=this._x1,a=this._y1,s=n-t,l=i-e,u=o-t,c=a-e,f=u*u+c*c;if(null===this._x1)this._append(Ar||(Ar=Dr(["M",",",""])),this._x1=t,this._y1=e);else if(f>Fr)if(Math.abs(c*s-l*u)>Fr&&r){let p=n-o,h=i-a,d=s*s+l*l,y=p*p+h*h,v=Math.sqrt(d),g=Math.sqrt(f),m=r*Math.tan((qr-Math.acos((d+f-y)/(2*v*g)))/2),x=m/g,b=m/v;Math.abs(x-1)>Fr&&this._append(Pr||(Pr=Dr(["L",",",""])),t+x*u,e+x*c),this._append(Cr||(Cr=Dr(["A",",",",0,0,",",",",",""])),r,r,+(c*p>u*h),this._x1=t+b*s,this._y1=e+b*l)}else this._append(kr||(kr=Dr(["L",",",""])),this._x1=t,this._y1=e);else;}arc(t,e,n,i,r,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let a=n*Math.cos(i),s=n*Math.sin(i),l=t+a,u=e+s,c=1^o,f=o?i-r:r-i;null===this._x1?this._append(Br||(Br=Dr(["M",",",""])),l,u):(Math.abs(this._x1-l)>Fr||Math.abs(this._y1-u)>Fr)&&this._append(Ir||(Ir=Dr(["L",",",""])),l,u),n&&(f<0&&(f=f%jr+jr),f>Hr?this._append(Tr||(Tr=Dr(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,c,t-a,e-s,n,n,c,this._x1=l,this._y1=u):f>Fr&&this._append(Er||(Er=Dr(["A",",",",0,",",",",",",",""])),n,n,+(f>=qr),c,this._x1=t+n*Math.cos(r),this._y1=e+n*Math.sin(r)))}rect(t,e,n,i){this._append(Nr||(Nr=Dr(["M",",","h","v","h","Z"])),this._x0=this._x1=+t,this._y0=this._y1=+e,n=+n,+i,-n)}toString(){return this._}}function Xr(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError("invalid digits: ".concat(n));e=t}return t},()=>new zr(e)}function Ur(t){return t[0]}function Gr(t){return t[1]}function Yr(t,e){var n=Vr(!0),i=null,r=Lr,o=null,a=Xr(s);function s(s){var l,u,c,f=(s=Rr(s)).length,p=!1;for(null==i&&(o=r(c=a())),l=0;l<=f;++l)!(l<f&&n(u=s[l],l,s))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(u,l,s),+e(u,l,s));if(c)return o=null,c+""||null}return t="function"===typeof t?t:void 0===t?Ur:Vr(t),e="function"===typeof e?e:void 0===e?Gr:Vr(e),s.x=function(e){return arguments.length?(t="function"===typeof e?e:Vr(+e),s):t},s.y=function(t){return arguments.length?(e="function"===typeof t?t:Vr(+t),s):e},s.defined=function(t){return arguments.length?(n="function"===typeof t?t:Vr(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s}function $r(t,e,n){var i=null,r=Vr(!0),o=null,a=Lr,s=null,l=Xr(u);function u(u){var c,f,p,h,d,y=(u=Rr(u)).length,v=!1,g=new Array(y),m=new Array(y);for(null==o&&(s=a(d=l())),c=0;c<=y;++c){if(!(c<y&&r(h=u[c],c,u))===v)if(v=!v)f=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=c-1;p>=f;--p)s.point(g[p],m[p]);s.lineEnd(),s.areaEnd()}v&&(g[c]=+t(h,c,u),m[c]=+e(h,c,u),s.point(i?+i(h,c,u):g[c],n?+n(h,c,u):m[c]))}if(d)return s=null,d+""||null}function c(){return Yr().defined(r).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?Ur:Vr(+t),e="function"===typeof e?e:Vr(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?Gr:Vr(+n),u.x=function(e){return arguments.length?(t="function"===typeof e?e:Vr(+e),i=null,u):t},u.x0=function(e){return arguments.length?(t="function"===typeof e?e:Vr(+e),u):t},u.x1=function(t){return arguments.length?(i=null==t?null:"function"===typeof t?t:Vr(+t),u):i},u.y=function(t){return arguments.length?(e="function"===typeof t?t:Vr(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"===typeof t?t:Vr(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:Vr(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(i).y(e)},u.defined=function(t){return arguments.length?(r="function"===typeof t?t:Vr(!!t),u):r},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}zr.prototype;Math.abs,Math.atan2;const Zr=Math.cos,Qr=(Math.max,Math.min,Math.sin),Jr=Math.sqrt,Kr=Math.PI,to=2*Kr;Jr(3);const eo={draw(t,e){const n=Jr(e/Kr);t.moveTo(n,0),t.arc(0,0,n,0,to)}},no=(Jr(1/3),Qr(Kr/10)/Qr(7*Kr/10));Qr(to/10),Zr(to/10),Jr(3),Jr(3),Jr(3),Jr(12);function io(t,e){let n=null,i=Xr(r);function r(){let r;if(n||(n=r=i()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return t="function"===typeof t?t:Vr(t||eo),e="function"===typeof e?e:Vr(void 0===e?64:+e),r.type=function(e){return arguments.length?(t="function"===typeof e?e:Vr(e),r):t},r.size=function(t){return arguments.length?(e="function"===typeof t?t:Vr(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}function ro(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oo(t){this._context=t}function ao(t){return new oo(t)}function so(t,e,n){this.k=t,this.x=e,this.y=n}oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ro(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ro(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},so.prototype={constructor:so,scale:function(t){return 1===t?this:new so(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new so(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new so(1,0,0);so.prototype}}]);
//# sourceMappingURL=477.389cef9d.chunk.js.map