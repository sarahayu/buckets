"use strict";(self.webpackChunkbuckets=self.webpackChunkbuckets||[]).push([[594],{594:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.r(e),n.d(e,{default:()=>y});var a=n(243),c=n(43),o=n(684),s=n(63),i=n(829),l=n(579),u=t([s,i]);[s,i]=u.then?(await u)():u;const d=5,f=2.5,p="M0,-10L5,-5A7.071,7.071,0,1,1,-5,-5L0,-10Z",m=4;function y(t){let{watercolor:e=!1}=t;const{current:n}=(0,c.useRef)(Object.keys(s.jx)),r=(0,c.useRef)(),[u,h]=(0,c.useState)(!1),y=(0,c.useRef)(),x=(0,c.useMemo)((()=>{const t={},e={},r=Object.keys(s.jx[n[0]][s.Vk]).filter(((t,e)=>e%8==0));n.forEach((e=>t[e]=(0,i.Yb)("median",s.jx,e).filter((t=>r.includes(t))).reverse()));const c=Math.floor(t[n[0]].length/2);return n.sort(((e,n)=>a.JZy(s.jx[e][s.Vk][t[e][c]][s.Zl])-a.JZy(s.jx[n][s.Vk][t[n][c]][s.Zl]))).forEach((n=>{e[n]=t[n]})),e}),[]),v=(0,c.useMemo)((()=>{const t={};return n.forEach((e=>{t[e]=x[e].map((t=>{const n=(0,i.cv)(e,t,s.jx);return(0,o.kd)(0,1,d+1).map(((t,e)=>n(t)))}))})),t}),[]);return(0,c.useLayoutEffect)((()=>{r.current={width:window.innerWidth,height:window.innerHeight},y.current.attr("width",window.innerWidth).attr("height",window.innerHeight)}),[]),(0,c.useLayoutEffect)((()=>{r.current.width,r.current.height;const t=Object.keys(v).map((t=>(0,i.hh)(0,0,v[t].map(((t,e)=>({r:Math.max(1,1*(u?1:t[0])*f*2.5),id:e})))).map((e=>{let{id:n,x:r,y:a}=e;return{levs:v[t][n].map((e=>1*e*(u?1/Math.max(v[t][n][0],.1):1))),maxLev:u?1:1*Math.max(v[t][n][0],.1),tilt:50*Math.random()-25,dur:100*Math.random()+400,startX:r,startY:a}}))));y.current.selectAll(".largeDrop").data(t,((t,e)=>e)).join("g").attr("class","largeDrop").attr("transform",((t,e)=>"translate(".concat(e%20*f*25+60*f,", ").concat(Math.floor(e/20)*f*30+40*f,")"))).each((function(t,e){a.Ltv(this).selectAll(".smallDrop").data(t,((t,e)=>e)).join((t=>t.append("g").attr("class","smallDrop").each((function(t,n){let{levs:r}=t;a.Ltv(this).append("defs").append("clipPath").attr("id","drop-mask-".concat(e,"-").concat(n)).append("path").attr("d",p),a.Ltv(this).append("g").attr("clip-path","url(#drop-mask-".concat(e,"-").concat(n,")")).selectAll("rect").data(r,((t,e)=>e)).join("rect").attr("fill",((t,e)=>(0,o.YW)(e/d)))})))).attr("transform",(t=>{let{startX:e,startY:n,tilt:r}=t;return"translate(".concat(e,", ").concat(n,") rotate(").concat(r,")")})).each((function(t){let{levs:e,maxLev:n}=t;a.Ltv(this).selectAll("rect").data(e,((t,e)=>e)).attr("width",n*f*2).attr("height",n*f*2).attr("x",-n*f*2/2).attr("y",(t=>n*f*2/2-(0,i.si)(t/n)*(n*f*2))),a.Ltv(this).select("path").attr("transform","scale(".concat(n*f/2/Math.SQRT2/m,")"))}))}))}),[v,u]),(0,l.jsxs)("div",{className:"bubbles-wrapper",children:[(0,l.jsx)("input",{type:"checkbox",checked:u,onChange:()=>{h((t=>!t))}}),(0,l.jsx)("label",{htmlFor:"html",children:"normalize"}),(0,l.jsx)("div",{className:"bubbles-svg-wrapper"+(e?"-painter":""),children:(0,l.jsx)("svg",{className:"bubbles-svg"+(e?"-painter":""),ref:t=>{y.current=a.Ltv(t)}})})]})}r()}catch(h){r(h)}}))},684:(t,e,n)=>{n.d(e,{Q2:()=>s,YW:()=>l,ZC:()=>i,kd:()=>c,wh:()=>o});var r=n(243),a=n(43);function c(t,e,n){return r.y17(n).map((r=>r/(n-1)*(e-t)+t))}function o(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,c=t*a+t*(1-a)/2,o=t*(1-a)/2,s=[{x:r.GWP(c,t)(n),y:r.GWP(e,0)(n)},{x:c,y:e},{x:o,y:e},{x:r.GWP(o,0)(n),y:r.GWP(e,0)(n)}];return r.n8j().x((function(t){return t.x})).y((function(t){return t.y}))(s)+"z"}function s(t,e,n){let a=t.map((t=>Math.round(t.length/e))),c=r.czq(a);for(;c>n;)a[r.z94(t,((t,n)=>0!==t.length?t.length/e-a[n]:1/0))]-=1,c=r.czq(a);for(;c<n;)a[r.P2Z(t,((t,n)=>0!==t.length?t.length/e-a[n]:-1/0))]+=1,c=r.czq(a);return a}function i(t,e){const n=(0,a.useRef)({value:t,prev:null}),r=n.current.value;return(e?e(t,r):t===r)||(n.current={value:t,prev:r}),n.current.prev}const l=t=>r.dM(r.m4Y([.2,1])(t))},63:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{Vk:()=>s,Zl:()=>i,jx:()=>l,pk:()=>o});var a=n(829),c=t([a]);a=(c.then?(await c)():c)[0];const o=1200,s="scens",i="delivs",l=await async function(){const t=await(await fetch("./all_objectives.json")).json();for(const e of t){e[s]=e[s];for(const t of e[s])t[i]=t[i].map((t=>Math.min(Math.max(0,t),o))).sort(((t,e)=>e-t));e[s]=(0,a.Et)(e[s],(t=>{let{name:e}=t;return e}))}return console.log("DATA: loading objectives data"),(0,a.Et)(t,(t=>{let{obj:e}=t;return e}))}();r()}catch(o){r(o)}}),1)},829:(t,e,n)=>{n.a(t,(async(t,r)=>{try{n.d(e,{C5:()=>m,Et:()=>d,XC:()=>f,Yb:()=>P,cv:()=>w,hh:()=>b,nC:()=>j,si:()=>p,xC:()=>y});var a=n(243),c=n(783),o=n.n(c),s=n(43),i=n(63),l=n(684),u=t([i]);function d(t,e){const n=Object.groupBy(t,e);for(const r of Object.keys(n))n[r]=n[r][0];return n}i=(u.then?(await u)():u)[0];const f={draw:function(t,e){t.moveTo(0,-e/2),t.lineTo(e/4,-e/4),t.arc(0,0,e/Math.sqrt(2)/2,-Math.PI/4,5*Math.PI/4),t.lineTo(0,-e/2),t.closePath()}};function p(t){return(3.1304*t**3-4.2384*t**2+3.3471*t+.0298)/2.4}function m(t,e){return function(n){return e.map((function(e){return[e,a.i2o(n,(function(n){return t(e-n)}))]}))}}function y(t){return function(e){return Math.abs(e/=t)<=1?.75*(1-e*e)/t:0}}function x(t){const e=t/2,n=3*Math.PI/2/20,r=[{x:Math.cos(5*Math.PI/4)*e,y:Math.sin(5*Math.PI/4)*e},{x:0,y:-Math.SQRT2*e}];for(let a=0;a<=20;a++)r.push({x:Math.cos(a*n-Math.PI/4)*e,y:Math.sin(a*n-Math.PI/4)*e});return r}function v(t,e){const n=o().Bounds.create(t),r=n.min.x,c=n.max.x,s=n.min.y,i=n.max.y,l=a.m4Y([r,c]),u=a.m4Y([s,i]),h=[];for(let a=0;a<e;a++)for(;;){const e=l(Math.random()),n=u(Math.random());if(o().Vertices.contains(t,{x:e,y:n})){h.push([e,n]);break}}return h}const M=function(){const t=x(3),e=x(1),n=[];for(let r=0;r<t.length-2;r++)n.push([t[r],t[r+(r<2?1:2)],e[r+(r<2?1:2)],e[r]]);return n}();let g,k;function b(t,e,n){g&&n.length===k||(g=a.y17(4).map((()=>v(x(1),k=n.length))));const r=a.czq(n.map((t=>{let{r:e}=t;return e**2*3.14}))),c=Math.floor(2*Math.sqrt(r/3.14)/2),s=g[Math.floor(Math.random()*g.length)].map((t=>{let[e,n]=t;return[e*c,n*c]})),i=o().Engine,l=o().Bodies,u=o().Composite,h=i.create(),d=s.sort(((t,e)=>e[1]-t[1])),f=n.map(((t,e)=>{let{r:n,id:r}=t;const[a,c]=d[e];return l.circle(a,c,n,{restitution:0,id:r})})),p=M.map((t=>o().Body.create({position:o().Vertices.centre(t),vertices:t,isStatic:!0}))),m=o().Body.create({isStatic:!0});o().Body.setParts(m,p),o().Body.setCentre(m,{x:0,y:0}),o().Body.scale(m,1.1*c,1.1*c),u.add(h.world,[...f,m]);for(let a=0,o=60,y=.1;a<o*y;a++)i.update(h,1e3/o);return f.map((n=>{let{position:r,id:a}=n;return{id:a,x:r.x+t,y:r.y+e+.1*c}}))}function j(t,e){const[n,r]=(0,s.useState)(t);return[(0,s.useMemo)((()=>e(n)),[n]),(0,s.useCallback)((t=>{r(e(t))}),[])]}function w(t,e,n){const r=n[t][i.Vk][e][i.Zl];return a.m4Y().domain((0,l.kd)(0,1,r.length)).range(r.map((t=>Math.min(1,t/1200)||0))).clamp(!0)}function P(t,e,n){return"median"===t?Object.keys(e[n][i.Vk]).sort(((t,r)=>a.i2o(e[n][i.Vk][t][i.Zl])-a.i2o(e[n][i.Vk][r][i.Zl]))):"deliveries"===t?Object.keys(e[n][i.Vk]).sort(((t,r)=>a.T9B(e[n][i.Vk][t][i.Zl])-a.T9B(e[n][i.Vk][r][i.Zl]))):void 0}r()}catch(h){r(h)}}))}}]);
//# sourceMappingURL=594.03d2769d.chunk.js.map