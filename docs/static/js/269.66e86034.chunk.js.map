{"version":3,"file":"static/js/269.66e86034.chunk.js","mappings":"qQAce,SAASA,IACtB,MAAOC,EAAcC,IAAmBC,EAAAA,EAAAA,UAASC,EAAAA,EAAUC,mBAErDC,GAAgBC,EAAAA,EAAAA,GAAiBN,GACjCO,GAASC,EAAAA,EAAAA,GAAaH,EAAeL,IAE3CS,EAAAA,EAAAA,YACE,YACEC,EAAAA,EAAAA,IACE,4HAGFL,EAAcM,cAAcC,GAAOA,EAAK,GAC1C,GACA,CAACZ,IAaH,OACEa,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,UAC5BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wBAAuBC,SAAA,EACpCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,SAC/B,CAAC,EAAG,EAAG,EAAG,GAAGE,KAAKC,IAEfF,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBC,UAChCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKM,GAAG,mBACRN,EAAAA,EAAAA,KAACO,EAAAA,EAAW,CACVC,YAAahB,EAAciB,yBAAyBJ,GACpDK,MAAO,IACPC,OAAQrB,EAAAA,EAAUsB,iBAClBC,YAAavB,EAAAA,EAAUwB,gBAEzBd,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6BAA4BC,SACtCZ,EAAAA,EAAUyB,WAAWV,GAAGW,iBAK/Bb,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UAC7BF,EAAAA,EAAAA,KAACiB,EAAAA,EAAc,CACbT,YAAahB,EAAc0B,uBAAuBb,GAClDK,MAAO,IACPC,OAAQrB,EAAAA,EAAUsB,iBAClBC,YAAavB,EAAAA,EAAUwB,kBAG3Bd,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kCAAiCC,UAC9CF,EAAAA,EAAAA,KAACmB,EAAAA,EAAY,CACXT,MAAO,IACPC,OAAQ,IACRS,KAAM5B,EAAc6B,yBAAyBhB,GAC7CiB,OAAQ,CAAC,EAAG,WAGhBtB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6BAA4BC,SACtCZ,EAAAA,EAAUyB,WAAWV,GAAGW,gBAlCCX,QAyCtCF,EAAAA,EAAAA,MAACoB,EAAAA,EAAS,CACRC,OAAQ,GACRC,YA3DYC,UAAgC,IAADC,EAAA,IAAxB,KAAEP,EAAI,UAAEQ,GAAWC,EAC1B,OAAdD,IACY,QAAhBD,EAAAP,EAAKU,mBAAW,IAAAH,GAAhBA,EAAkBI,KAAI,EA0DhBC,WAvDWN,UAAgC,IAADO,EAAA,IAAxB,KAAEb,EAAI,UAAEQ,GAAWM,EACzB,SAAdN,IACY,QAAhBK,EAAAb,EAAKU,mBAAW,IAAAG,GAAhBA,EAAkBE,OAAM,EAqDKjC,SAAA,CAEtBR,EAAOU,KAAI,CAACgC,EAAO/B,KAClBL,EAAAA,EAAAA,KAACqC,EAAAA,EAAI,CAASjB,KAAMgB,EAAMlC,UACxBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAAEkC,EAAME,QAD7BjC,MAIbL,EAAAA,EAAAA,KAACqC,EAAAA,EAAI,CAAcjB,KAAM,CAAC,EAAElB,UAC1BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAgBsC,MAAO,CAAEC,aAAc,QAAStC,UAC7DF,EAAAA,EAAAA,KAAA,UACEyC,QAASA,KACPC,OAAOC,SAAS,EAAG,GACnB,IAAK,IAAItC,EAAIX,EAAOkD,OAAS,EAAGvC,GAAK,EAAGA,IAAK,CAAC,IAADwC,EACtB,QAArBA,EAAAnD,EAAOW,GAAGyB,mBAAW,IAAAe,GAArBA,EAAuBV,MACzB,GACAjC,SACH,mBATM,eAkBrB,E,+LCjHO,MAAM4C,EAAa,KACbC,EAAsB,QACtBC,EAAmB,SACnBC,EAAyB,eAEzBC,QAAwBxB,iBACnC,MAAMyB,EAAO,CACX,CACEC,IAAK,aACLC,MAAO,CACL,CACEC,KAAM,kBACNC,OAAQC,EAAAA,MAAS,IAAIpD,KAAI,IAAM0C,KAEjC,CACEQ,KAAM,gBACNC,OAAQC,EAAAA,MAAS,IAAIpD,KAAI,IAAM,KAEjC,CACEkD,KAAM,iBACNC,OAAQC,EAAAA,MAAS,IAAIpD,KAAI,IAAM0C,EAAa,KAE9C,CACEQ,KAAM,kBACNC,OAAQC,EAAAA,MAAS,IAAIpD,KAAI,CAACqD,EAAGpD,IAAOA,EAAI,GAAMyC,QAMtD,IAAK,MAAMM,KAAOD,EAAM,CACtB,IAAK,MAAMO,KAAQN,EAAIL,GACrBW,EAAKT,GAA0BU,MAAMC,KAAKF,EAAKV,IAC/CU,EAAKV,GAAoBW,MAAMC,KAAKF,EAAKV,IAAmBa,MAC1D,CAACC,EAAGC,IAAMA,EAAID,IAGlBV,EAAIL,IAAuBiB,EAAAA,EAAAA,IACzBZ,EAAIL,IACJlB,IAAA,IAAC,KAAEyB,GAAMzB,EAAA,OAAKyB,CAAI,GAEtB,CAEAW,QAAQC,IAAI,iCAGZ,MAAM9C,GAAO4C,EAAAA,EAAAA,IAAMb,GAAMjB,IAAA,IAAC,IAAEkB,GAAKlB,EAAA,OAAKkB,CAAG,IAEzC,OADAa,QAAQC,IAAI9C,GACLA,CACT,CA5CqCM,GA8CTyC,OAAOC,KAAKlB,GACbiB,OAAOC,KAChCD,OAAOE,OAAOnB,GAAgB,GAAGH,I,uCClBnC,SAASuB,EAAYzC,EAAqB0C,GAAM,IAA1B,SAAEvD,EAAQ,KAAEwD,GAAM3C,EACtC,MAAO,CACL0C,MACAvD,WACAwD,OACAC,KAAK,OAADC,OAASH,EAAM,GAEvB,C,iBAEO,MAAMjF,EAnBJ,CACLqF,gBA1BsB,IA2BtB/D,iBA1BmB,IA2BnBE,a,OAzBmB8D,GA0BnBrF,kBAxBwB,aAyBxBsF,kBAxBwB,WAyBxB9D,WAvBkB,CAClB,CACEC,SAAU,mBAEZ,CACEA,SAAU,iBAEZ,CACEA,SAAU,kBAEZ,CACEA,SAAU,oBAIiBZ,IAAIkE,G,sICoV9B,MAAMQ,EARJ,CACLC,mBAzVF,SAA2BlD,GAAuB,IAC5CmD,EACAC,EACAC,EACAC,GAJsB,KAAEC,EAAI,UAAEC,GAAWxD,EAM7C,MAAMyD,EAA0B,GAA1BA,EAAqC,GAArCA,EAAiD,GAAjDA,EAA2D,GA+OjE,OA7OA,WACE,CACE9B,EAAAA,UAAa,sBAAsB+B,SAEnC,MAAMC,EAAWhC,EAAAA,UACJ,kBACViC,KACC,QACAnG,EAAAA,EAAUqF,gBACRW,EACAA,GAEHG,KACC,SACAnG,EAAAA,EAAUsB,iBACR0E,EACAA,GAEHG,KAAK,UAAW,GAChBC,OAAO,KACPD,KAAK,QAAS,aACdA,KACC,YAAY,aAADf,OACEY,EAAqB,KAAAZ,OAAIY,EAAoB,MAGxDK,EAAYrG,EAAAA,EAAUyB,WAAWX,KACrC8B,IAAA,IAAC,SAAElB,GAAUkB,EAAA,OACXgB,EAAAA,GAAemC,GAAWtC,EAAAA,IAAqB/B,GAC7CiC,EAAAA,GACD,IAGLkC,EAAa3B,EAAAA,IAAOmC,EAAU,IAE9B,MAAMC,EAAkBD,EAAUvF,KAAKmD,GACrCA,EACGnD,KAAI,CAACyF,EAAKC,KAAa,CACtBD,MACAC,gBACAC,KAAMD,EAAgB,MAEvBjC,MAAK,CAACC,EAAGC,IAAMA,EAAE8B,IAAM/B,EAAE+B,QAGxBG,EAAIxC,EAAAA,YAEPlC,OACCsE,EAAgB,GAAGxF,KAAI6F,IAAA,IAAC,KAAEF,GAAME,EAAA,OAAKF,CAAI,IAAElC,MAAK,CAACC,EAAGC,IAAMD,EAAIC,KAE/DmC,MAAM,CAAC,EAAG5G,EAAAA,EAAUqF,kBACpBwB,QAAQ,IACLC,EAAI5C,EAAAA,cAEPlC,OAAO,CAAC,EAAG6D,IACXe,MAAM,CAAC5G,EAAAA,EAAUsB,iBAAkB,IAEhCyF,EAAQ7C,EAAAA,WACAwC,GACXM,SAAS,GACTC,YAAYC,GAAC,QAAA9B,OAAa8B,KAC1BC,WACCT,EAAE1E,SAASoF,QAAO,CAACjD,EAAGpD,IAAY,IAANA,IAAYA,EAAI,GAAK,KAAO,KAG5DmF,EAASE,OAAO,KAAKD,KAAK,QAAS,cACnCD,EAASE,OAAO,KAAKD,KAAK,QAAS,UACnCD,EACGmB,UAAU,eACVlB,KAAK,UAAW,GAChBA,KAAK,YAAY,gBAADf,OAAkBpF,EAAAA,EAAUsB,iBAAgB,MAC5DgG,KAAKP,GACLM,UAAU,QACVlB,KAAK,YAAa,+BAClBlD,MAAM,cAAe,OACxBiD,EACGmB,UAAU,WACVC,KAAKpD,EAAAA,SAAY4C,GAAGG,WAAW/C,EAAAA,OAAU,SACzCkC,OAAO,QACPpD,KAAK,oBACLmD,KAAK,OAAQ,SACbA,KAAK,cAAe,QACpBA,KACC,YAAY,kBAADf,OACOpF,EAAAA,EAAUsB,iBAAmB,EAAC,kBAGpDoE,EAAWgB,EACXf,EAASoB,EACTnB,EAAmBU,CACrB,CACF,CAgJAiB,GAEO,CACLC,WAAY,CACV/E,GAlJJ,WACE,CACE,MAAMqE,EAAI5C,EAAAA,cAEPlC,OAAO,CAAC,EAAG6D,IACXe,MAAM,CAAC5G,EAAAA,EAAUsB,iBAAkB,IAEtC4C,EAAAA,UAAa,6BAA6BuD,MAAK,SAAUtD,EAAGpD,GAChDmD,EAAAA,OAAUwD,MAElBL,UAAU,SACTvF,KAAK8D,EAAiB7E,IAAKmG,GAAMA,EAAEV,gBACnCmB,KAAK,QACLxB,KAAK,QAAS,QACdA,KAAK,KAAMe,GAAMxB,EAASwB,EAAET,QAC5BN,KAAK,IAAKnG,EAAAA,EAAUsB,kBACpB6E,KAAK,QAAST,EAASkC,aACvBzB,KAAK,SAAU,GACfA,KAAK,UAAW,GAChBA,KAAK,OAAQ,aACb0B,aACAC,SAAS,KACTC,OAAOb,GAAwB,GAAlBA,EAAEV,gBACfL,KAAK,KAAMe,GAAMJ,EAAEI,EAAEX,OACrBJ,KAAK,UAAWe,GAAMlH,EAAAA,EAAUsB,iBAAmBwF,EAAEI,EAAEX,MAC5D,GACF,CACF,EAwHI1D,KAtHJ,WAEIqB,EAAAA,UAAa,6BACVmD,UAAU,SAEVQ,aACAC,SAAS,KACTC,OAAOb,GAA2D,IAApDtB,EAAiB,GAAGtC,OAAS4D,EAAEV,cAAgB,KAC7DL,KAAK,IAAKnG,EAAAA,EAAUsB,kBACpB6E,KAAK,SAAU,EAEtB,GA6GE6B,aAAc,CACZvF,GA5GJL,iBACE,CACE,MAAM6F,EAAWjI,EAAAA,EAAUqF,gBAAkB,EACvCa,EAAWhC,EAAAA,UAAa,6BAE9BgC,EAASmB,UAAU,eAAeC,KAAK3B,EAAOsB,WAAW,KAEzD,MAAMiB,EAAOhC,EAASmB,UAAU,SAEhCa,EACGjF,MAAM,iBAAkB,YACxB4E,aACAC,SAAS,KACT3B,KAAK,UAAW,KAChB0B,aACAE,OACEb,GACC,IAEE,KADD,GAAK,EAAIA,EAAEV,cAAgBZ,EAAiB,GAAGtC,SAAW,KAG9DwE,SAAS,KACT3B,KAAK,QAAS8B,GACd9B,KAAK,IAAKnG,EAAAA,EAAUqF,gBAAkB,EAAI4C,EAAW,GACrDE,MACAC,OAAM,SACNC,MAAK,KACJnC,EACGmB,UAAU,eACVQ,aACAA,WAAW,KACX1B,KACC,YAAY,gBAADf,OACKpF,EAAAA,EAAUsB,iBAAmB,GAAE,MAEhD6E,KAAK,UAAW,GAEnB+B,EAAKL,aAAaE,MAAM,KAAK5B,KAAK,IAAK,GAEvCD,EACG2B,aACAE,MAAM,KACN5B,KACC,YAAY,aAADf,OAETY,EACAhG,EAAAA,EAAUqF,gBAAkB,EAC5B4C,EAAW,EAAC,KAAA7C,OACVY,EAAoB,KACzB,GAET,CACF,EAyDInD,KAvDJ,WACE,CACE,MAAMqD,EAAWhC,EAAAA,UAAa,6BAExBgE,EAAOhC,EAASmB,UAAU,SAEhCnB,EACGmB,UAAU,eACVQ,aACAA,WAAW,KACX1B,KAAK,YAAY,gBAADf,OAAkBpF,EAAAA,EAAUsB,iBAAgB,MAC5D6E,KAAK,UAAW,GAEnBD,EACGmB,UAAU,eACVC,KAAK3B,EAAOsB,YAAYC,GAAC,QAAA9B,OAAa8B,MAEzChB,EACG2B,aACAE,MAAM,KACN5B,KACC,YAAY,aAADf,OACEY,EAAqB,KAAAZ,OAAIY,EAAoB,MAG9DkC,EACGL,aACAE,OACEb,GACC,IAC4D,KAA3D,GAAKA,EAAEV,cAAgBZ,EAAiB,GAAGtC,SAAW,KAE1DwE,SAAS,KACT3B,KAAK,KAAMe,GAAMxB,EAASwB,EAAET,QAC5BN,KAAK,QAAST,EAASkC,aACvBC,aACAC,SAAS,KACT3B,KAAK,UAAW,GAChBgC,MACAC,OAAM,SACNC,MAAK,KACJH,EAAKjF,MAAM,iBAAkB,SAAS,GAE5C,CACF,GAcF,EA2FEqF,oBAzFF,SAA4BC,GAAuB,IAAtB,KAAEzC,EAAI,UAAEC,GAAWwC,EAuB9C,MAAO,CACL9F,GAvBF,WACEyB,EAAAA,UAAa,sCAAsCjB,MACjD,UACA,WAEFiB,EAAAA,UAAa,kBAAkBiC,KAAK,UAAW,GAE/CL,EAAK0C,4BAA4B1C,EAAK2C,kCACxC,EAgBE5F,KAdF,WACEiD,EAAK0C,6BAA4B,IAC/BxI,EAAAA,EAAUyB,WAAWX,KAAI,IAAMoD,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,QAG5D1C,EAAAA,UAAa,sCAAsCjB,MACjD,UACA,QAEFiB,EAAAA,UAAa,kBAAkB2D,aAAa1B,KAAK,UAAW,EAC9D,EAMF,EA+DEuC,iBA7DF,SAAyBC,GAAuB,IAAtB,KAAE7C,EAAI,UAAEC,GAAW4C,EAkB3C,MAAO,CACLlG,GAlBF,YACEmG,EAAAA,EAAAA,IAAU,oBACVA,EAAAA,EAAAA,IAAU,6BAA8B1E,EAAI,SAC5C3D,EAAAA,EAAAA,IAAU,uCAEVuF,EAAK+C,0BAA0B/C,EAAKgD,gCACtC,EAaEjG,KAXF,YACEtC,EAAAA,EAAAA,IAAU,gDACVqI,EAAAA,EAAAA,IAAU,oBACVA,EAAAA,EAAAA,IAAU,qBAAsB1E,EAAI,QACpC4B,EAAK+C,2BAA0B,IAC7B7I,EAAAA,EAAUyB,WAAWX,KAAI,IAAMoD,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,OAE9D,EAMF,EAwCEmC,uBAtCF,SAA+BC,GAAY,IAAX,KAAElD,GAAMkD,EACtC,MAAO,CACLvG,GAAI,WAGFyB,EAAAA,UAAa,mBAAmBjB,MAAM,UAAW,KAEjDiB,EAAAA,UAAa,mBACV2D,aACA5E,MAAM,YAAa,sBAEtBiB,EAAAA,UAAa,mBAAmBjB,MAAM,UAAW,WACjDiB,EAAAA,UAAa,mCAAmCjB,MAC9C,UACA,UAEJ,EACAJ,KAAM,WAEJqB,EAAAA,UAAa,mBAAmB2D,aAAa5E,MAAM,YAAa,QAEhEiB,EAAAA,UAAa,mCACV2D,aACA5E,MAAM,YAAa,QAEtBiB,EAAAA,UAAa,mBAAmBjB,MAAM,UAAW,QACjDiB,EAAAA,UAAa,mCAAmCjB,MAC9C,UACA,OAEJ,EAEJ,G,4GCjWK,SAAS5C,EAAayF,EAAMC,EAAWkD,GAU5C,MAAO7I,EAAQ8I,IAAanJ,EAAAA,EAAAA,UAAS,IA8CrC,OA5CAO,EAAAA,EAAAA,YACE,WACE,GAAuB,IAAnBwF,EAAKqD,UAAiB,OAE1B,MAAMC,EAAU,CAAEtD,OAAMC,YAAWkD,YAE7BI,EAAiBC,EAAAA,EAAM7D,mBAAmB2D,GAC1CG,EAAkBD,EAAAA,EAAMhB,oBAAoBc,GAC5CI,EAAeF,EAAAA,EAAMZ,iBAAiBU,GACtCK,EAAqBH,EAAAA,EAAMP,uBAAuBK,GAElDM,EAAU,CACd,CACE1F,KAAM,aACNxB,YAAa6G,EAAe7B,WAC5BxE,KAAM,aAER,CACEgB,KAAM,eACNxB,YAAa6G,EAAerB,aAC5BhF,KAAM,YAER,CACEgB,KAAM,cACNxB,YAAa+G,EACbvG,KAAM,UAER,CACEgB,KAAM,kBACNxB,YAAagH,EACbxG,KAAM,aAER,CACEgB,KAAM,kBACNxB,YAAaiH,EACbzG,KAAM,wBAIVkG,EAAUQ,EACZ,GACA,CAAC5D,EAAKqD,YAGD/I,CACT,C,8KC/Ce,SAASD,EAAiB4F,GACvC,MAAOoD,EAAW3I,IAAgBT,EAAAA,EAAAA,UAAS,IAEpC4J,EAAgBC,IAAqB7J,EAAAA,EAAAA,WAAS,IACnDmE,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,OAEtBiD,EAAcC,IAAmB/J,EAAAA,EAAAA,WAAS,IAC/CmE,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,OAGtBhF,EAAwBiH,IAA6B9I,EAAAA,EAAAA,WAAS,IACnEC,EAAAA,EAAUyB,WAAWX,KAAI,IAAMoD,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,SAGrDzF,EAA0BqH,IAA+BzI,EAAAA,EAAAA,WAAS,IACvEC,EAAAA,EAAUyB,WAAWX,KAAI,IAAMoD,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,SAGrDmD,EAAiBC,IAAsBjK,EAAAA,EAAAA,WAAS,IAAM,MACtDgC,EAA0BkI,IAA+BlK,EAAAA,EAAAA,WAAS,IACvEC,EAAAA,EAAUyB,WAAWX,KAAI,IAAM,QAE1BoJ,EAA+BC,IACpCpK,EAAAA,EAAAA,WAAS,IAAMC,EAAAA,EAAUyB,WAAWX,KAAI,IAAM,QAE9C2H,EACA2B,IACErK,EAAAA,EAAAA,WAAS,IACXC,EAAAA,EAAUyB,WAAWX,KAAI,IAAMoD,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,SAErDkC,EAAiCuB,IACtCtK,EAAAA,EAAAA,WAAS,IACPC,EAAAA,EAAUyB,WAAWX,KAAI,IAAMoD,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,QAuE9D,OApEAtG,EAAAA,EAAAA,YAAU,KACRsJ,GAAkB,IAAM1F,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,MACnDkD,GAAgB,IAAM5F,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,MACjD4B,GAA4B,IAC1BxI,EAAAA,EAAUyB,WAAWX,KAAI,IAAMoD,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,QAE5DiC,GAA0B,IACxB7I,EAAAA,EAAUyB,WAAWX,KAAI,IAAMoD,EAAAA,cAAiB0C,MAAM,CAAC,EAAG,QAG5D,MAAM0D,EACJ1G,EAAAA,GAAemC,GAAWtC,EAAAA,IAAsC,gBAC9DC,EAAAA,IAEE6G,EAAoBrG,EAAAA,IAAOoG,GAEjCN,GAAmB,IAAMM,IAEzB,MAAME,EAAexK,EAAAA,EAAUyB,WAAWX,KACxCyB,IAAA,IAAC,SAAEb,GAAUa,EAAA,OACXqB,EAAAA,GAAemC,GAAWtC,EAAAA,IAAqB/B,GAC7CgC,EAAAA,GACD,IAGC+G,EAAoBzK,EAAAA,EAAUyB,WAAWX,KAC7C8B,IAAA,IAAC,SAAElB,GAAUkB,EAAA,OACXgB,EAAAA,GAAemC,GAAWtC,EAAAA,IAAqB/B,GAC7CiC,EAAAA,GACD,IAGC+G,EAAsBF,EAAa1J,KACtC6J,GAAepE,GACdrC,EAAAA,cAEGlC,QAAO4I,EAAAA,EAAAA,IAAW,EAAG,EAAGD,EAAUrH,SAClCsD,MACC+D,EACG7J,KAAK+J,GAAMA,EAAIN,IACfhG,OACAuG,WAEJC,OAAM,EATT7G,CASeqC,KAGbyE,EAAoBR,EAAa1J,KACpC6J,GAAepE,IACd0E,EAAAA,EAAAA,IACE/G,EAAAA,cAEGlC,QAAO4I,EAAAA,EAAAA,IAAW,EAAG,EAAGD,EAAUrH,SAClCsD,MACC+D,EACG7J,KAAK+J,GAAMA,EAAIN,IACfhG,OACAuG,WAEJC,OAAM,EATT7G,CASeqC,MAIrB0D,GAA4B,IAAMO,IAClCL,GAAiC,IAAMM,IACvCL,GAAqC,IAAMM,IAC3CL,GAAmC,IAAMW,GAAkB,GAC1D,CAACjF,IAEG,CACLoD,YACA3I,eACAmJ,iBACAC,oBACAC,eACAC,kBACAlI,yBACAiH,4BACA1H,2BACAqH,8BACAuB,kBACAhI,2BACAmI,gCACAzB,oCACAK,kCAEJ,E","sources":["ExplanationAnim2App.jsx","data/exampleObjectivesData.jsx","utils/explanation-anim-2/constants.jsx","utils/explanation-anim-2/data-story-anims.jsx","utils/explanation-anim-2/useDataStory.jsx","utils/explanation-anim-2/useTutorialState.jsx"],"sourcesContent":["import * as d3 from \"d3\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Scrollama, Step } from \"react-scrollama\";\r\n\r\nimport BucketGlyph from \"./bucket-lib/BucketGlyph\";\r\n\r\nimport DotHistogram from \"./utils/explanation-anim/DotHistogram\";\r\nimport WaterdropGlyph from \"./utils/explanation-anim/WaterdropGlyph\";\r\nimport { hideElems } from \"./utils/explanation-anim/render-utils\";\r\n\r\nimport { constants } from \"./utils/explanation-anim-2/constants\";\r\nimport { useDataStory } from \"./utils/explanation-anim-2/useDataStory\";\r\nimport useTutorialState from \"./utils/explanation-anim-2/useTutorialState\";\r\n\r\nexport default function ExplanationAnim2App() {\r\n  const [curObjective, setCurObjective] = useState(constants.DEFAULT_OBJECTIVE);\r\n\r\n  const tutorialState = useTutorialState(curObjective);\r\n  const slides = useDataStory(tutorialState, curObjective);\r\n\r\n  useEffect(\r\n    function changeObjective() {\r\n      hideElems(\r\n        \".bucket-wrapper, .vardrop, .var-scen-label, .vardrop .dot-histogram-wrapper, .main-histogram, .tut-drop-graphics-wrapper\"\r\n      );\r\n\r\n      tutorialState.setReadyHash((rh) => rh + 1);\r\n    },\r\n    [curObjective]\r\n  );\r\n\r\n  const onStepEnter = async ({ data, direction }) => {\r\n    if (direction === \"up\") return;\r\n    data.animHandler?.do();\r\n  };\r\n\r\n  const onStepExit = async ({ data, direction }) => {\r\n    if (direction === \"down\") return;\r\n    data.animHandler?.undo();\r\n  };\r\n\r\n  return (\r\n    <div className=\"tutorial-view\">\r\n      <div className=\"scrollama scrollama-1\">\r\n        <div className=\"tut-panel-wrapper\">\r\n          {[0, 1, 2, 3].map((i) => {\r\n            return (\r\n              <div className=\"tut-panel\" key={i}>\r\n                <div className=\"tut-graph-wrapper\">\r\n                  <div className=\"tut-graph\">\r\n                    <svg id=\"pag-bar-graph\"></svg>\r\n                    <BucketGlyph\r\n                      levelInterp={tutorialState.variationBucketInterpers[i]}\r\n                      width={300}\r\n                      height={constants.BAR_CHART_HEIGHT}\r\n                      colorInterp={constants.INTERP_COLOR}\r\n                    />\r\n                    <p className=\"fancy-font objective-label\">\r\n                      {constants.VARIATIONS[i].scen_str}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"tut-drop-graphics-wrapper\">\r\n                  <div className=\"main-waterdrop\">\r\n                    <WaterdropGlyph\r\n                      levelInterp={tutorialState.variationDropInterpers[i]}\r\n                      width={400}\r\n                      height={constants.BAR_CHART_HEIGHT}\r\n                      colorInterp={constants.INTERP_COLOR}\r\n                    />\r\n                  </div>\r\n                  <div className=\"main-histogram example-drops-hg\">\r\n                    <DotHistogram\r\n                      width={600}\r\n                      height={400}\r\n                      data={tutorialState.objectiveVariationDelivs[i]}\r\n                      domain={[0, 1200]}\r\n                    />\r\n                  </div>\r\n                  <p className=\"fancy-font objective-label\">\r\n                    {constants.VARIATIONS[i].scen_str}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <Scrollama\r\n          offset={0.9}\r\n          onStepEnter={onStepEnter}\r\n          onStepExit={onStepExit}\r\n        >\r\n          {slides.map((slide, i) => (\r\n            <Step key={i} data={slide}>\r\n              <div className=\"tut-text-card\">{slide.text}</div>\r\n            </Step>\r\n          ))}\r\n          <Step key={\"last\"} data={{}}>\r\n            <div className=\"tut-text-card\" style={{ marginBottom: \"40vh\" }}>\r\n              <button\r\n                onClick={() => {\r\n                  window.scrollTo(0, 0);\r\n                  for (let i = slides.length - 1; i >= 0; i--) {\r\n                    slides[i].animHandler?.undo();\r\n                  }\r\n                }}\r\n              >\r\n                Back to Top\r\n              </button>\r\n            </div>\r\n          </Step>\r\n        </Scrollama>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as d3 from \"d3\";\r\nimport { mapBy } from \"../utils/utils\";\r\n\r\nexport const MAX_DELIVS = 1200;\r\nexport const SCENARIO_KEY_STRING = \"scens\";\r\nexport const DELIV_KEY_STRING = \"delivs\";\r\nexport const DELIV_KEY_STRING_UNORD = \"delivs_unord\";\r\n\r\nexport const objectivesData = await (async function () {\r\n  const objs = [\r\n    {\r\n      obj: \"exampleObj\",\r\n      scens: [\r\n        {\r\n          name: \"always_100_perc\",\r\n          delivs: d3.range(83).map(() => MAX_DELIVS),\r\n        },\r\n        {\r\n          name: \"always_0_perc\",\r\n          delivs: d3.range(83).map(() => 0),\r\n        },\r\n        {\r\n          name: \"always_50_perc\",\r\n          delivs: d3.range(83).map(() => MAX_DELIVS / 2),\r\n        },\r\n        {\r\n          name: \"uniform_50_perc\",\r\n          delivs: d3.range(83).map((_, i) => (i / 83) * MAX_DELIVS),\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  for (const obj of objs) {\r\n    for (const scen of obj[SCENARIO_KEY_STRING]) {\r\n      scen[DELIV_KEY_STRING_UNORD] = Array.from(scen[DELIV_KEY_STRING]);\r\n      scen[DELIV_KEY_STRING] = Array.from(scen[DELIV_KEY_STRING]).sort(\r\n        (a, b) => b - a\r\n      );\r\n    }\r\n    obj[SCENARIO_KEY_STRING] = mapBy(\r\n      obj[SCENARIO_KEY_STRING],\r\n      ({ name }) => name\r\n    );\r\n  }\r\n\r\n  console.log(\"DATA: loading objectives data\");\r\n\r\n  // return addAdditionalMetrics(mapBy(objs, ({ obj }) => obj));\r\n  const data = mapBy(objs, ({ obj }) => obj);\r\n  console.log(data);\r\n  return data;\r\n})();\r\n\r\nexport const objectiveIDs = Object.keys(objectivesData);\r\nexport const scenarioIDs = Object.keys(\r\n  Object.values(objectivesData)[0][SCENARIO_KEY_STRING]\r\n);\r\n","import { interpolateWatercolorBlue } from \"../../bucket-lib/utils\";\r\n\r\nfunction initConstants() {\r\n  const BAR_CHART_WIDTH = 500,\r\n    BAR_CHART_HEIGHT = 400;\r\n\r\n  const INTERP_COLOR = interpolateWatercolorBlue;\r\n\r\n  const DEFAULT_OBJECTIVE = \"exampleObj\";\r\n  const BASELINE_SCENARIO = \"expl0000\";\r\n\r\n  const _VARIATIONS = [\r\n    {\r\n      scen_str: \"always_100_perc\",\r\n    },\r\n    {\r\n      scen_str: \"always_0_perc\",\r\n    },\r\n    {\r\n      scen_str: \"always_50_perc\",\r\n    },\r\n    {\r\n      scen_str: \"uniform_50_perc\",\r\n    },\r\n  ];\r\n\r\n  const VARIATIONS = _VARIATIONS.map(extendVarObj);\r\n\r\n  return {\r\n    BAR_CHART_WIDTH,\r\n    BAR_CHART_HEIGHT,\r\n    INTERP_COLOR,\r\n    DEFAULT_OBJECTIVE,\r\n    BASELINE_SCENARIO,\r\n    VARIATIONS,\r\n  };\r\n}\r\n\r\nfunction extendVarObj({ scen_str, desc }, idx) {\r\n  return {\r\n    idx,\r\n    scen_str,\r\n    desc,\r\n    clas: `drop${idx + 1}`,\r\n  };\r\n}\r\n\r\nexport const constants = initConstants();\r\n","import * as d3 from \"d3\";\r\n\r\nimport { objectivesData } from \"../../data/exampleObjectivesData\";\r\n\r\nimport { constants } from \"./constants\";\r\nimport { hideElems, showElems } from \"../explanation-anim/render-utils\";\r\nimport {\r\n  DELIV_KEY_STRING_UNORD,\r\n  SCENARIO_KEY_STRING,\r\n} from \"../../data/exampleObjectivesData\";\r\n\r\nconst BASELINE_SCENARIO = \"expl0000\";\r\n\r\nfunction initAllAnims() {\r\n  function initChartAnimGroup({ deps, objective }) {\r\n    let _XInterp;\r\n    let _XAxis;\r\n    let _dataDescendings;\r\n    let _maxDelivs;\r\n\r\n    const BAR_CHART_MARGIN = { top: 40, right: 30, bottom: 40, left: 60 };\r\n\r\n    function prepareSVG() {\r\n      {\r\n        d3.selectAll(\"#pag-bar-graph > *\").remove();\r\n\r\n        const svgGroup = d3\r\n          .selectAll(\"#pag-bar-graph\")\r\n          .attr(\r\n            \"width\",\r\n            constants.BAR_CHART_WIDTH +\r\n              BAR_CHART_MARGIN.left +\r\n              BAR_CHART_MARGIN.right\r\n          )\r\n          .attr(\r\n            \"height\",\r\n            constants.BAR_CHART_HEIGHT +\r\n              BAR_CHART_MARGIN.top +\r\n              BAR_CHART_MARGIN.bottom\r\n          )\r\n          .attr(\"opacity\", 1)\r\n          .append(\"g\")\r\n          .attr(\"class\", \"svg-group\")\r\n          .attr(\r\n            \"transform\",\r\n            `translate(${BAR_CHART_MARGIN.left},${BAR_CHART_MARGIN.top})`\r\n          );\r\n\r\n        const allDelivs = constants.VARIATIONS.map(\r\n          ({ scen_str }) =>\r\n            objectivesData[objective][SCENARIO_KEY_STRING][scen_str][\r\n              DELIV_KEY_STRING_UNORD\r\n            ]\r\n        );\r\n\r\n        _maxDelivs = d3.max(allDelivs[0]);\r\n\r\n        const dataDescendings = allDelivs.map((delivs) =>\r\n          delivs\r\n            .map((val, placeFromLeft) => ({\r\n              val,\r\n              placeFromLeft,\r\n              year: placeFromLeft + 1,\r\n            }))\r\n            .sort((a, b) => b.val - a.val)\r\n        );\r\n\r\n        const x = d3\r\n          .scaleBand()\r\n          .domain(\r\n            dataDescendings[0].map(({ year }) => year).sort((a, b) => a - b)\r\n          )\r\n          .range([0, constants.BAR_CHART_WIDTH])\r\n          .padding(0.4);\r\n        const y = d3\r\n          .scaleLinear()\r\n          .domain([0, _maxDelivs])\r\n          .range([constants.BAR_CHART_HEIGHT, 0]);\r\n\r\n        const xaxis = d3\r\n          .axisBottom(x)\r\n          .tickSize(0)\r\n          .tickFormat((d) => `year ${d}`)\r\n          .tickValues(\r\n            x.domain().filter((_, i) => i === 0 || (i + 1) % 10 === 0)\r\n          );\r\n\r\n        svgGroup.append(\"g\").attr(\"class\", \"anim-xaxis\");\r\n        svgGroup.append(\"g\").attr(\"class\", \"axis-y\");\r\n        svgGroup\r\n          .selectAll(\".anim-xaxis\")\r\n          .attr(\"opacity\", 1)\r\n          .attr(\"transform\", `translate(0, ${constants.BAR_CHART_HEIGHT})`)\r\n          .call(xaxis)\r\n          .selectAll(\"text\")\r\n          .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\r\n          .style(\"text-anchor\", \"end\");\r\n        svgGroup\r\n          .selectAll(\".axis-y\")\r\n          .call(d3.axisLeft(y).tickFormat(d3.format(\".2s\")))\r\n          .append(\"text\")\r\n          .text(\"Deliveries (TAF)\")\r\n          .attr(\"fill\", \"black\")\r\n          .attr(\"font-weight\", \"bold\")\r\n          .attr(\r\n            \"transform\",\r\n            `translate(-50, ${constants.BAR_CHART_HEIGHT / 2}) rotate(-90)`\r\n          );\r\n\r\n        _XInterp = x;\r\n        _XAxis = xaxis;\r\n        _dataDescendings = dataDescendings;\r\n      }\r\n    }\r\n\r\n    function barsAppearDo() {\r\n      {\r\n        const y = d3\r\n          .scaleLinear()\r\n          .domain([0, _maxDelivs])\r\n          .range([constants.BAR_CHART_HEIGHT, 0]);\r\n\r\n        d3.selectAll(\"#pag-bar-graph .svg-group\").each(function (_, i) {\r\n          const s = d3.select(this);\r\n\r\n          s.selectAll(\".bars\")\r\n            .data(_dataDescendings[i], (d) => d.placeFromLeft)\r\n            .join(\"rect\")\r\n            .attr(\"class\", \"bars\")\r\n            .attr(\"x\", (d) => _XInterp(d.year))\r\n            .attr(\"y\", constants.BAR_CHART_HEIGHT)\r\n            .attr(\"width\", _XInterp.bandwidth())\r\n            .attr(\"height\", 0)\r\n            .attr(\"opacity\", 1)\r\n            .attr(\"fill\", \"steelblue\")\r\n            .transition()\r\n            .duration(500)\r\n            .delay((d) => d.placeFromLeft * 10)\r\n            .attr(\"y\", (d) => y(d.val))\r\n            .attr(\"height\", (d) => constants.BAR_CHART_HEIGHT - y(d.val));\r\n        });\r\n      }\r\n    }\r\n\r\n    function barsAppearUndo() {\r\n      {\r\n        d3.selectAll(\"#pag-bar-graph .svg-group\")\r\n          .selectAll(\".bars\")\r\n          // .data(_dataDescendings, (d) => d.placeFromLeft)\r\n          .transition()\r\n          .duration(500)\r\n          .delay((d) => (_dataDescendings[0].length - d.placeFromLeft - 1) * 10)\r\n          .attr(\"y\", constants.BAR_CHART_HEIGHT)\r\n          .attr(\"height\", 0);\r\n      }\r\n    }\r\n\r\n    async function barsCondenseDo() {\r\n      {\r\n        const newWidth = constants.BAR_CHART_WIDTH / 8;\r\n        const svgGroup = d3.selectAll(\"#pag-bar-graph .svg-group\");\r\n\r\n        svgGroup.selectAll(\".anim-xaxis\").call(_XAxis.tickFormat(\"\"));\r\n\r\n        const bars = svgGroup.selectAll(\".bars\");\r\n\r\n        bars\r\n          .style(\"mix-blend-mode\", \"multiply\")\r\n          .transition()\r\n          .duration(500)\r\n          .attr(\"opacity\", 0.05)\r\n          .transition()\r\n          .delay(\r\n            (d) =>\r\n              100 +\r\n              (1 - (1 - d.placeFromLeft / _dataDescendings[0].length) ** 4) *\r\n                1000\r\n          )\r\n          .duration(500)\r\n          .attr(\"width\", newWidth)\r\n          .attr(\"x\", constants.BAR_CHART_WIDTH / 2 - newWidth / 2)\r\n          .end()\r\n          .catch(() => {})\r\n          .then(() => {\r\n            svgGroup\r\n              .selectAll(\".anim-xaxis\")\r\n              .transition()\r\n              .transition(500)\r\n              .attr(\r\n                \"transform\",\r\n                `translate(0, ${constants.BAR_CHART_HEIGHT + 50})`\r\n              )\r\n              .attr(\"opacity\", 0);\r\n\r\n            bars.transition().delay(500).attr(\"x\", 0);\r\n\r\n            svgGroup\r\n              .transition()\r\n              .delay(500)\r\n              .attr(\r\n                \"transform\",\r\n                `translate(${\r\n                  BAR_CHART_MARGIN.left +\r\n                  constants.BAR_CHART_WIDTH / 2 -\r\n                  newWidth / 2\r\n                },${BAR_CHART_MARGIN.top})`\r\n              );\r\n          });\r\n      }\r\n    }\r\n\r\n    function barsCondenseUndo() {\r\n      {\r\n        const svgGroup = d3.selectAll(\"#pag-bar-graph .svg-group\");\r\n\r\n        const bars = svgGroup.selectAll(\".bars\");\r\n\r\n        svgGroup\r\n          .selectAll(\".anim-xaxis\")\r\n          .transition()\r\n          .transition(500)\r\n          .attr(\"transform\", `translate(0, ${constants.BAR_CHART_HEIGHT})`)\r\n          .attr(\"opacity\", 1);\r\n\r\n        svgGroup\r\n          .selectAll(\".anim-xaxis\")\r\n          .call(_XAxis.tickFormat((d) => `year ${d}`));\r\n\r\n        svgGroup\r\n          .transition()\r\n          .delay(500)\r\n          .attr(\r\n            \"transform\",\r\n            `translate(${BAR_CHART_MARGIN.left},${BAR_CHART_MARGIN.top})`\r\n          );\r\n\r\n        bars\r\n          .transition()\r\n          .delay(\r\n            (d) =>\r\n              100 +\r\n              (1 - (d.placeFromLeft / _dataDescendings[0].length) ** 4) * 1000\r\n          )\r\n          .duration(500)\r\n          .attr(\"x\", (d) => _XInterp(d.year))\r\n          .attr(\"width\", _XInterp.bandwidth())\r\n          .transition()\r\n          .duration(500)\r\n          .attr(\"opacity\", 1)\r\n          .end()\r\n          .catch(() => {})\r\n          .then(() => {\r\n            bars.style(\"mix-blend-mode\", \"normal\");\r\n          });\r\n      }\r\n    }\r\n\r\n    prepareSVG();\r\n\r\n    return {\r\n      barsAppear: {\r\n        do: barsAppearDo,\r\n        undo: barsAppearUndo,\r\n      },\r\n      barsCondense: {\r\n        do: barsCondenseDo,\r\n        undo: barsCondenseUndo,\r\n      },\r\n    };\r\n  }\r\n\r\n  function initBucketsFillAnim({ deps, objective }) {\r\n    function animDo() {\r\n      d3.selectAll(\".tut-graph-wrapper .bucket-wrapper\").style(\r\n        \"display\",\r\n        \"initial\"\r\n      );\r\n      d3.selectAll(\"#pag-bar-graph\").attr(\"opacity\", 0);\r\n\r\n      deps.setVariationBucketInterpers(deps.objectiveVariationBucketInterpers);\r\n    }\r\n\r\n    function animUndo() {\r\n      deps.setVariationBucketInterpers(() =>\r\n        constants.VARIATIONS.map(() => d3.scaleLinear().range([0, 0]))\r\n      );\r\n\r\n      d3.selectAll(\".tut-graph-wrapper .bucket-wrapper\").style(\r\n        \"display\",\r\n        \"none\"\r\n      );\r\n      d3.selectAll(\"#pag-bar-graph\").transition().attr(\"opacity\", 1);\r\n    }\r\n\r\n    return {\r\n      do: animDo,\r\n      undo: animUndo,\r\n    };\r\n  }\r\n\r\n  function initDropFillAnim({ deps, objective }) {\r\n    function animDo() {\r\n      showElems(\".main-waterdrop\");\r\n      showElems(\".tut-drop-graphics-wrapper\", d3, \"grid\");\r\n      hideElems(\".tut-graph-wrapper, .bucket-wrapper\");\r\n\r\n      deps.setVariationDropInterpers(deps.objectiveVariationDropInterpers);\r\n    }\r\n\r\n    function animUndo() {\r\n      hideElems(\".tut-drop-graphics-wrapper, .main-waterdrop\");\r\n      showElems(\".bucket-wrapper\");\r\n      showElems(\".tut-graph-wrapper\", d3, \"flex\");\r\n      deps.setVariationDropInterpers(() =>\r\n        constants.VARIATIONS.map(() => d3.scaleLinear().range([0, 0]))\r\n      );\r\n    }\r\n\r\n    return {\r\n      do: animDo,\r\n      undo: animUndo,\r\n    };\r\n  }\r\n\r\n  function initShowVariationsAnim({ deps }) {\r\n    return {\r\n      do: function () {\r\n        // quantiles\r\n\r\n        d3.selectAll(\".var-scen-label\").style(\"opacity\", \"1\");\r\n\r\n        d3.selectAll(\".main-waterdrop\")\r\n          .transition()\r\n          .style(\"transform\", \"translateX(-200px)\");\r\n\r\n        d3.selectAll(\".main-histogram\").style(\"display\", \"initial\");\r\n        d3.selectAll(\".vardrop .dot-histogram-wrapper\").style(\r\n          \"display\",\r\n          \"initial\"\r\n        );\r\n      },\r\n      undo: function () {\r\n        // quantiles\r\n        d3.selectAll(\".main-waterdrop\").transition().style(\"transform\", \"none\");\r\n        // undo scaling of label due to shrinking div\r\n        d3.selectAll(\".main-waterdrop .var-scen-label\")\r\n          .transition()\r\n          .style(\"transform\", \"none\");\r\n\r\n        d3.selectAll(\".main-histogram\").style(\"display\", \"none\");\r\n        d3.selectAll(\".vardrop .dot-histogram-wrapper\").style(\r\n          \"display\",\r\n          \"none\"\r\n        );\r\n      },\r\n    };\r\n  }\r\n\r\n  return {\r\n    initChartAnimGroup,\r\n    initBucketsFillAnim,\r\n    initDropFillAnim,\r\n    initShowVariationsAnim,\r\n  };\r\n}\r\n\r\nexport const animations = initAllAnims();\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport { animations as anims } from \"./data-story-anims\";\r\n\r\nexport function useDataStory(deps, objective, scenario) {\r\n  /*\r\n    slides = [\r\n        name: string,\r\n        animHandler: {\r\n            do: someFunctionToDoAnimation,\r\n            undo: someFunctionToReverseAnimation,\r\n        }\r\n    ]\r\n     */\r\n  const [slides, setSlides] = useState([]);\r\n\r\n  useEffect(\r\n    function initialize() {\r\n      if (deps.readyHash === 0) return;\r\n\r\n      const context = { deps, objective, scenario };\r\n\r\n      const chartAnimGroup = anims.initChartAnimGroup(context);\r\n      const bucketsFillAnim = anims.initBucketsFillAnim(context);\r\n      const dropFillAnim = anims.initDropFillAnim(context);\r\n      const showVariationsAnim = anims.initShowVariationsAnim(context);\r\n\r\n      const _slides = [\r\n        {\r\n          name: \"barsAppear\",\r\n          animHandler: chartAnimGroup.barsAppear,\r\n          text: \"Bar Graph\",\r\n        },\r\n        {\r\n          name: \"barsCondense\",\r\n          animHandler: chartAnimGroup.barsCondense,\r\n          text: \"Gradient\",\r\n        },\r\n        {\r\n          name: \"bucketsFill\",\r\n          animHandler: bucketsFillAnim,\r\n          text: \"Bucket\",\r\n        },\r\n        {\r\n          name: \"forNowLetsFocus\",\r\n          animHandler: dropFillAnim,\r\n          text: \"Waterdrop\",\r\n        },\r\n        {\r\n          name: \"ifChangeReality\",\r\n          animHandler: showVariationsAnim,\r\n          text: \"Different Scenarios\",\r\n        },\r\n      ];\r\n\r\n      setSlides(_slides);\r\n    },\r\n    [deps.readyHash]\r\n  );\r\n\r\n  return slides;\r\n}\r\n","import * as d3 from \"d3\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport { ticksExact } from \"../../bucket-lib/utils\";\r\nimport {\r\n  DELIV_KEY_STRING,\r\n  DELIV_KEY_STRING_UNORD,\r\n  SCENARIO_KEY_STRING,\r\n  objectivesData,\r\n} from \"../../data/exampleObjectivesData\";\r\nimport { constants } from \"./constants\";\r\nimport { percentToRatioFilled } from \"../utils\";\r\n\r\nexport default function useTutorialState(objective) {\r\n  const [readyHash, setReadyHash] = useState(0);\r\n\r\n  const [bucketInterper, setBucketInterper] = useState(() =>\r\n    d3.scaleLinear().range([0, 0])\r\n  );\r\n  const [dropInterper, setDropInterper] = useState(() =>\r\n    d3.scaleLinear().range([0, 0])\r\n  );\r\n\r\n  const [variationDropInterpers, setVariationDropInterpers] = useState(() =>\r\n    constants.VARIATIONS.map(() => d3.scaleLinear().range([0, 0]))\r\n  );\r\n\r\n  const [variationBucketInterpers, setVariationBucketInterpers] = useState(() =>\r\n    constants.VARIATIONS.map(() => d3.scaleLinear().range([0, 0]))\r\n  );\r\n\r\n  const [objectiveDelivs, setObjectiveDelivs] = useState(() => []);\r\n  const [objectiveVariationDelivs, setObjectiveVariationDelivs] = useState(() =>\r\n    constants.VARIATIONS.map(() => [])\r\n  );\r\n  const [objectiveVariationDelivsUnord, setObjectiveVariationDelivsUnord] =\r\n    useState(() => constants.VARIATIONS.map(() => []));\r\n  const [\r\n    objectiveVariationBucketInterpers,\r\n    setObjectiveVariationBucketInterpers,\r\n  ] = useState(() =>\r\n    constants.VARIATIONS.map(() => d3.scaleLinear().range([0, 0]))\r\n  );\r\n  const [objectiveVariationDropInterpers, setObjectiveVariationDropInterpers] =\r\n    useState(() =>\r\n      constants.VARIATIONS.map(() => d3.scaleLinear().range([0, 0]))\r\n    );\r\n\r\n  useEffect(() => {\r\n    setBucketInterper(() => d3.scaleLinear().range([0, 0]));\r\n    setDropInterper(() => d3.scaleLinear().range([0, 0]));\r\n    setVariationBucketInterpers(() =>\r\n      constants.VARIATIONS.map(() => d3.scaleLinear().range([0, 0]))\r\n    );\r\n    setVariationDropInterpers(() =>\r\n      constants.VARIATIONS.map(() => d3.scaleLinear().range([0, 0]))\r\n    );\r\n\r\n    const objDelivs =\r\n      objectivesData[objective][SCENARIO_KEY_STRING][\"uniform_50_perc\"][\r\n        DELIV_KEY_STRING\r\n      ];\r\n    const baselineMaxDelivs = d3.max(objDelivs);\r\n\r\n    setObjectiveDelivs(() => objDelivs);\r\n\r\n    const varDelivsArr = constants.VARIATIONS.map(\r\n      ({ scen_str }) =>\r\n        objectivesData[objective][SCENARIO_KEY_STRING][scen_str][\r\n          DELIV_KEY_STRING\r\n        ]\r\n    );\r\n\r\n    const varDelivsArrUnord = constants.VARIATIONS.map(\r\n      ({ scen_str }) =>\r\n        objectivesData[objective][SCENARIO_KEY_STRING][scen_str][\r\n          DELIV_KEY_STRING_UNORD\r\n        ]\r\n    );\r\n\r\n    const objVarBucketInterps = varDelivsArr.map(\r\n      (varDelivs) => (val) =>\r\n        d3\r\n          .scaleLinear()\r\n          .domain(ticksExact(0, 1, varDelivs.length))\r\n          .range(\r\n            varDelivs\r\n              .map((v) => v / baselineMaxDelivs)\r\n              .sort()\r\n              .reverse()\r\n          )\r\n          .clamp(true)(val)\r\n    );\r\n\r\n    const objVarDropInterps = varDelivsArr.map(\r\n      (varDelivs) => (val) =>\r\n        percentToRatioFilled(\r\n          d3\r\n            .scaleLinear()\r\n            .domain(ticksExact(0, 1, varDelivs.length))\r\n            .range(\r\n              varDelivs\r\n                .map((v) => v / baselineMaxDelivs)\r\n                .sort()\r\n                .reverse()\r\n            )\r\n            .clamp(true)(val)\r\n        )\r\n    );\r\n\r\n    setObjectiveVariationDelivs(() => varDelivsArr);\r\n    setObjectiveVariationDelivsUnord(() => varDelivsArrUnord);\r\n    setObjectiveVariationBucketInterpers(() => objVarBucketInterps);\r\n    setObjectiveVariationDropInterpers(() => objVarDropInterps);\r\n  }, [objective]);\r\n\r\n  return {\r\n    readyHash,\r\n    setReadyHash,\r\n    bucketInterper,\r\n    setBucketInterper,\r\n    dropInterper,\r\n    setDropInterper,\r\n    variationDropInterpers,\r\n    setVariationDropInterpers,\r\n    variationBucketInterpers,\r\n    setVariationBucketInterpers,\r\n    objectiveDelivs,\r\n    objectiveVariationDelivs,\r\n    objectiveVariationDelivsUnord,\r\n    objectiveVariationBucketInterpers,\r\n    objectiveVariationDropInterpers,\r\n  };\r\n}\r\n"],"names":["ExplanationAnim2App","curObjective","setCurObjective","useState","constants","DEFAULT_OBJECTIVE","tutorialState","useTutorialState","slides","useDataStory","useEffect","hideElems","setReadyHash","rh","_jsx","className","children","_jsxs","map","i","id","BucketGlyph","levelInterp","variationBucketInterpers","width","height","BAR_CHART_HEIGHT","colorInterp","INTERP_COLOR","VARIATIONS","scen_str","WaterdropGlyph","variationDropInterpers","DotHistogram","data","objectiveVariationDelivs","domain","Scrollama","offset","onStepEnter","async","_data$animHandler","direction","_ref","animHandler","do","onStepExit","_data$animHandler2","_ref2","undo","slide","Step","text","style","marginBottom","onClick","window","scrollTo","length","_slides$i$animHandler","MAX_DELIVS","SCENARIO_KEY_STRING","DELIV_KEY_STRING","DELIV_KEY_STRING_UNORD","objectivesData","objs","obj","scens","name","delivs","d3","_","scen","Array","from","sort","a","b","mapBy","console","log","Object","keys","values","extendVarObj","idx","desc","clas","concat","BAR_CHART_WIDTH","interpolateWatercolorBlue","BASELINE_SCENARIO","animations","initChartAnimGroup","_XInterp","_XAxis","_dataDescendings","_maxDelivs","deps","objective","BAR_CHART_MARGIN","remove","svgGroup","attr","append","allDelivs","dataDescendings","val","placeFromLeft","year","x","_ref3","range","padding","y","xaxis","tickSize","tickFormat","d","tickValues","filter","selectAll","call","prepareSVG","barsAppear","each","this","join","bandwidth","transition","duration","delay","barsCondense","newWidth","bars","end","catch","then","initBucketsFillAnim","_ref4","setVariationBucketInterpers","objectiveVariationBucketInterpers","initDropFillAnim","_ref5","showElems","setVariationDropInterpers","objectiveVariationDropInterpers","initShowVariationsAnim","_ref6","scenario","setSlides","readyHash","context","chartAnimGroup","anims","bucketsFillAnim","dropFillAnim","showVariationsAnim","_slides","bucketInterper","setBucketInterper","dropInterper","setDropInterper","objectiveDelivs","setObjectiveDelivs","setObjectiveVariationDelivs","objectiveVariationDelivsUnord","setObjectiveVariationDelivsUnord","setObjectiveVariationBucketInterpers","setObjectiveVariationDropInterpers","objDelivs","baselineMaxDelivs","varDelivsArr","varDelivsArrUnord","objVarBucketInterps","varDelivs","ticksExact","v","reverse","clamp","objVarDropInterps","percentToRatioFilled"],"sourceRoot":""}