{"version":3,"file":"static/js/973.71d3427f.chunk.js","mappings":"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","sources":["../node_modules/matter-js/build/matter.js","../node_modules/d3-array/src/array.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/descending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/constant.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-array/src/identity.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/threshold/sturges.js","../node_modules/d3-array/src/count.js","../node_modules/d3-array/src/bin.js","../node_modules/d3-array/src/nice.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/maxIndex.js","../node_modules/d3-array/src/mean.js","../node_modules/d3-array/src/minIndex.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/sum.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-brush/src/brush.js","../node_modules/d3-ease/src/linear.js","../node_modules/d3-ease/src/quad.js","../node_modules/d3-ease/src/math.js","../node_modules/d3-ease/src/exp.js","../node_modules/d3-ease/src/elastic.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-scale/src/init.js","../node_modules/internmap/src/index.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/quantize.js","../node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","../node_modules/d3-scale-chromatic/src/colors.js","../node_modules/d3-scale-chromatic/src/ramp.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/path.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/symbol/asterisk.js","../node_modules/d3-shape/src/symbol/circle.js","../node_modules/d3-shape/src/symbol/star.js","../node_modules/d3-shape/src/symbol/diamond.js","../node_modules/d3-shape/src/symbol/triangle.js","../node_modules/d3-shape/src/symbol/triangle2.js","../node_modules/d3-shape/src/symbol/wye.js","../node_modules/d3-shape/src/symbol.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-zoom/src/transform.js"],"sourcesContent":["/*!\n * matter-js 0.19.0 by @liabru\n * http://brm.io/matter-js/\n * License MIT\n * \n * The MIT License (MIT)\n * \n * Copyright (c) Liam Brummitt and contributors.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Matter\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Matter\"] = factory();\n\telse\n\t\troot[\"Matter\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 20);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Common` module contains utility functions that are common to all modules.\n*\n* @class Common\n*/\n\nvar Common = {};\n\nmodule.exports = Common;\n\n(function() {\n\n    Common._baseDelta = 1000 / 60;\n    Common._nextId = 0;\n    Common._seed = 0;\n    Common._nowStartTime = +(new Date());\n    Common._warnedOnce = {};\n    Common._decomp = null;\n    \n    /**\n     * Extends the object in the first argument using the object in the second argument.\n     * @method extend\n     * @param {} obj\n     * @param {boolean} deep\n     * @return {} obj extended\n     */\n    Common.extend = function(obj, deep) {\n        var argsStart,\n            args,\n            deepClone;\n\n        if (typeof deep === 'boolean') {\n            argsStart = 2;\n            deepClone = deep;\n        } else {\n            argsStart = 1;\n            deepClone = true;\n        }\n\n        for (var i = argsStart; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            if (source) {\n                for (var prop in source) {\n                    if (deepClone && source[prop] && source[prop].constructor === Object) {\n                        if (!obj[prop] || obj[prop].constructor === Object) {\n                            obj[prop] = obj[prop] || {};\n                            Common.extend(obj[prop], deepClone, source[prop]);\n                        } else {\n                            obj[prop] = source[prop];\n                        }\n                    } else {\n                        obj[prop] = source[prop];\n                    }\n                }\n            }\n        }\n        \n        return obj;\n    };\n\n    /**\n     * Creates a new clone of the object, if deep is true references will also be cloned.\n     * @method clone\n     * @param {} obj\n     * @param {bool} deep\n     * @return {} obj cloned\n     */\n    Common.clone = function(obj, deep) {\n        return Common.extend({}, deep, obj);\n    };\n\n    /**\n     * Returns the list of keys for the given object.\n     * @method keys\n     * @param {} obj\n     * @return {string[]} keys\n     */\n    Common.keys = function(obj) {\n        if (Object.keys)\n            return Object.keys(obj);\n\n        // avoid hasOwnProperty for performance\n        var keys = [];\n        for (var key in obj)\n            keys.push(key);\n        return keys;\n    };\n\n    /**\n     * Returns the list of values for the given object.\n     * @method values\n     * @param {} obj\n     * @return {array} Array of the objects property values\n     */\n    Common.values = function(obj) {\n        var values = [];\n        \n        if (Object.keys) {\n            var keys = Object.keys(obj);\n            for (var i = 0; i < keys.length; i++) {\n                values.push(obj[keys[i]]);\n            }\n            return values;\n        }\n        \n        // avoid hasOwnProperty for performance\n        for (var key in obj)\n            values.push(obj[key]);\n        return values;\n    };\n\n    /**\n     * Gets a value from `base` relative to the `path` string.\n     * @method get\n     * @param {} obj The base object\n     * @param {string} path The path relative to `base`, e.g. 'Foo.Bar.baz'\n     * @param {number} [begin] Path slice begin\n     * @param {number} [end] Path slice end\n     * @return {} The object at the given path\n     */\n    Common.get = function(obj, path, begin, end) {\n        path = path.split('.').slice(begin, end);\n\n        for (var i = 0; i < path.length; i += 1) {\n            obj = obj[path[i]];\n        }\n\n        return obj;\n    };\n\n    /**\n     * Sets a value on `base` relative to the given `path` string.\n     * @method set\n     * @param {} obj The base object\n     * @param {string} path The path relative to `base`, e.g. 'Foo.Bar.baz'\n     * @param {} val The value to set\n     * @param {number} [begin] Path slice begin\n     * @param {number} [end] Path slice end\n     * @return {} Pass through `val` for chaining\n     */\n    Common.set = function(obj, path, val, begin, end) {\n        var parts = path.split('.').slice(begin, end);\n        Common.get(obj, path, 0, -1)[parts[parts.length - 1]] = val;\n        return val;\n    };\n\n    /**\n     * Shuffles the given array in-place.\n     * The function uses a seeded random generator.\n     * @method shuffle\n     * @param {array} array\n     * @return {array} array shuffled randomly\n     */\n    Common.shuffle = function(array) {\n        for (var i = array.length - 1; i > 0; i--) {\n            var j = Math.floor(Common.random() * (i + 1));\n            var temp = array[i];\n            array[i] = array[j];\n            array[j] = temp;\n        }\n        return array;\n    };\n\n    /**\n     * Randomly chooses a value from a list with equal probability.\n     * The function uses a seeded random generator.\n     * @method choose\n     * @param {array} choices\n     * @return {object} A random choice object from the array\n     */\n    Common.choose = function(choices) {\n        return choices[Math.floor(Common.random() * choices.length)];\n    };\n\n    /**\n     * Returns true if the object is a HTMLElement, otherwise false.\n     * @method isElement\n     * @param {object} obj\n     * @return {boolean} True if the object is a HTMLElement, otherwise false\n     */\n    Common.isElement = function(obj) {\n        if (typeof HTMLElement !== 'undefined') {\n            return obj instanceof HTMLElement;\n        }\n\n        return !!(obj && obj.nodeType && obj.nodeName);\n    };\n\n    /**\n     * Returns true if the object is an array.\n     * @method isArray\n     * @param {object} obj\n     * @return {boolean} True if the object is an array, otherwise false\n     */\n    Common.isArray = function(obj) {\n        return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n\n    /**\n     * Returns true if the object is a function.\n     * @method isFunction\n     * @param {object} obj\n     * @return {boolean} True if the object is a function, otherwise false\n     */\n    Common.isFunction = function(obj) {\n        return typeof obj === \"function\";\n    };\n\n    /**\n     * Returns true if the object is a plain object.\n     * @method isPlainObject\n     * @param {object} obj\n     * @return {boolean} True if the object is a plain object, otherwise false\n     */\n    Common.isPlainObject = function(obj) {\n        return typeof obj === 'object' && obj.constructor === Object;\n    };\n\n    /**\n     * Returns true if the object is a string.\n     * @method isString\n     * @param {object} obj\n     * @return {boolean} True if the object is a string, otherwise false\n     */\n    Common.isString = function(obj) {\n        return toString.call(obj) === '[object String]';\n    };\n    \n    /**\n     * Returns the given value clamped between a minimum and maximum value.\n     * @method clamp\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @return {number} The value clamped between min and max inclusive\n     */\n    Common.clamp = function(value, min, max) {\n        if (value < min)\n            return min;\n        if (value > max)\n            return max;\n        return value;\n    };\n    \n    /**\n     * Returns the sign of the given value.\n     * @method sign\n     * @param {number} value\n     * @return {number} -1 if negative, +1 if 0 or positive\n     */\n    Common.sign = function(value) {\n        return value < 0 ? -1 : 1;\n    };\n    \n    /**\n     * Returns the current timestamp since the time origin (e.g. from page load).\n     * The result is in milliseconds and will use high-resolution timing if available.\n     * @method now\n     * @return {number} the current timestamp in milliseconds\n     */\n    Common.now = function() {\n        if (typeof window !== 'undefined' && window.performance) {\n            if (window.performance.now) {\n                return window.performance.now();\n            } else if (window.performance.webkitNow) {\n                return window.performance.webkitNow();\n            }\n        }\n\n        if (Date.now) {\n            return Date.now();\n        }\n\n        return (new Date()) - Common._nowStartTime;\n    };\n    \n    /**\n     * Returns a random value between a minimum and a maximum value inclusive.\n     * The function uses a seeded random generator.\n     * @method random\n     * @param {number} min\n     * @param {number} max\n     * @return {number} A random number between min and max inclusive\n     */\n    Common.random = function(min, max) {\n        min = (typeof min !== \"undefined\") ? min : 0;\n        max = (typeof max !== \"undefined\") ? max : 1;\n        return min + _seededRandom() * (max - min);\n    };\n\n    var _seededRandom = function() {\n        // https://en.wikipedia.org/wiki/Linear_congruential_generator\n        Common._seed = (Common._seed * 9301 + 49297) % 233280;\n        return Common._seed / 233280;\n    };\n\n    /**\n     * Converts a CSS hex colour string into an integer.\n     * @method colorToNumber\n     * @param {string} colorString\n     * @return {number} An integer representing the CSS hex string\n     */\n    Common.colorToNumber = function(colorString) {\n        colorString = colorString.replace('#','');\n\n        if (colorString.length == 3) {\n            colorString = colorString.charAt(0) + colorString.charAt(0)\n                        + colorString.charAt(1) + colorString.charAt(1)\n                        + colorString.charAt(2) + colorString.charAt(2);\n        }\n\n        return parseInt(colorString, 16);\n    };\n\n    /**\n     * The console logging level to use, where each level includes all levels above and excludes the levels below.\n     * The default level is 'debug' which shows all console messages.  \n     *\n     * Possible level values are:\n     * - 0 = None\n     * - 1 = Debug\n     * - 2 = Info\n     * - 3 = Warn\n     * - 4 = Error\n     * @static\n     * @property logLevel\n     * @type {Number}\n     * @default 1\n     */\n    Common.logLevel = 1;\n\n    /**\n     * Shows a `console.log` message only if the current `Common.logLevel` allows it.\n     * The message will be prefixed with 'matter-js' to make it easily identifiable.\n     * @method log\n     * @param ...objs {} The objects to log.\n     */\n    Common.log = function() {\n        if (console && Common.logLevel > 0 && Common.logLevel <= 3) {\n            console.log.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));\n        }\n    };\n\n    /**\n     * Shows a `console.info` message only if the current `Common.logLevel` allows it.\n     * The message will be prefixed with 'matter-js' to make it easily identifiable.\n     * @method info\n     * @param ...objs {} The objects to log.\n     */\n    Common.info = function() {\n        if (console && Common.logLevel > 0 && Common.logLevel <= 2) {\n            console.info.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));\n        }\n    };\n\n    /**\n     * Shows a `console.warn` message only if the current `Common.logLevel` allows it.\n     * The message will be prefixed with 'matter-js' to make it easily identifiable.\n     * @method warn\n     * @param ...objs {} The objects to log.\n     */\n    Common.warn = function() {\n        if (console && Common.logLevel > 0 && Common.logLevel <= 3) {\n            console.warn.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));\n        }\n    };\n\n    /**\n     * Uses `Common.warn` to log the given message one time only.\n     * @method warnOnce\n     * @param ...objs {} The objects to log.\n     */\n    Common.warnOnce = function() {\n        var message = Array.prototype.slice.call(arguments).join(' ');\n\n        if (!Common._warnedOnce[message]) {\n            Common.warn(message);\n            Common._warnedOnce[message] = true;\n        }\n    };\n\n    /**\n     * Shows a deprecated console warning when the function on the given object is called.\n     * The target function will be replaced with a new function that first shows the warning\n     * and then calls the original function.\n     * @method deprecated\n     * @param {object} obj The object or module\n     * @param {string} name The property name of the function on obj\n     * @param {string} warning The one-time message to show if the function is called\n     */\n    Common.deprecated = function(obj, prop, warning) {\n        obj[prop] = Common.chain(function() {\n            Common.warnOnce(' deprecated ', warning);\n        }, obj[prop]);\n    };\n\n    /**\n     * Returns the next unique sequential ID.\n     * @method nextId\n     * @return {Number} Unique sequential ID\n     */\n    Common.nextId = function() {\n        return Common._nextId++;\n    };\n\n    /**\n     * A cross browser compatible indexOf implementation.\n     * @method indexOf\n     * @param {array} haystack\n     * @param {object} needle\n     * @return {number} The position of needle in haystack, otherwise -1.\n     */\n    Common.indexOf = function(haystack, needle) {\n        if (haystack.indexOf)\n            return haystack.indexOf(needle);\n\n        for (var i = 0; i < haystack.length; i++) {\n            if (haystack[i] === needle)\n                return i;\n        }\n\n        return -1;\n    };\n\n    /**\n     * A cross browser compatible array map implementation.\n     * @method map\n     * @param {array} list\n     * @param {function} func\n     * @return {array} Values from list transformed by func.\n     */\n    Common.map = function(list, func) {\n        if (list.map) {\n            return list.map(func);\n        }\n\n        var mapped = [];\n\n        for (var i = 0; i < list.length; i += 1) {\n            mapped.push(func(list[i]));\n        }\n\n        return mapped;\n    };\n\n    /**\n     * Takes a directed graph and returns the partially ordered set of vertices in topological order.\n     * Circular dependencies are allowed.\n     * @method topologicalSort\n     * @param {object} graph\n     * @return {array} Partially ordered set of vertices in topological order.\n     */\n    Common.topologicalSort = function(graph) {\n        // https://github.com/mgechev/javascript-algorithms\n        // Copyright (c) Minko Gechev (MIT license)\n        // Modifications: tidy formatting and naming\n        var result = [],\n            visited = [],\n            temp = [];\n\n        for (var node in graph) {\n            if (!visited[node] && !temp[node]) {\n                Common._topologicalSort(node, visited, temp, graph, result);\n            }\n        }\n\n        return result;\n    };\n\n    Common._topologicalSort = function(node, visited, temp, graph, result) {\n        var neighbors = graph[node] || [];\n        temp[node] = true;\n\n        for (var i = 0; i < neighbors.length; i += 1) {\n            var neighbor = neighbors[i];\n\n            if (temp[neighbor]) {\n                // skip circular dependencies\n                continue;\n            }\n\n            if (!visited[neighbor]) {\n                Common._topologicalSort(neighbor, visited, temp, graph, result);\n            }\n        }\n\n        temp[node] = false;\n        visited[node] = true;\n\n        result.push(node);\n    };\n\n    /**\n     * Takes _n_ functions as arguments and returns a new function that calls them in order.\n     * The arguments applied when calling the new function will also be applied to every function passed.\n     * The value of `this` refers to the last value returned in the chain that was not `undefined`.\n     * Therefore if a passed function does not return a value, the previously returned value is maintained.\n     * After all passed functions have been called the new function returns the last returned value (if any).\n     * If any of the passed functions are a chain, then the chain will be flattened.\n     * @method chain\n     * @param ...funcs {function} The functions to chain.\n     * @return {function} A new function that calls the passed functions in order.\n     */\n    Common.chain = function() {\n        var funcs = [];\n\n        for (var i = 0; i < arguments.length; i += 1) {\n            var func = arguments[i];\n\n            if (func._chained) {\n                // flatten already chained functions\n                funcs.push.apply(funcs, func._chained);\n            } else {\n                funcs.push(func);\n            }\n        }\n\n        var chain = function() {\n            // https://github.com/GoogleChrome/devtools-docs/issues/53#issuecomment-51941358\n            var lastResult,\n                args = new Array(arguments.length);\n\n            for (var i = 0, l = arguments.length; i < l; i++) {\n                args[i] = arguments[i];\n            }\n\n            for (i = 0; i < funcs.length; i += 1) {\n                var result = funcs[i].apply(lastResult, args);\n\n                if (typeof result !== 'undefined') {\n                    lastResult = result;\n                }\n            }\n\n            return lastResult;\n        };\n\n        chain._chained = funcs;\n\n        return chain;\n    };\n\n    /**\n     * Chains a function to excute before the original function on the given `path` relative to `base`.\n     * See also docs for `Common.chain`.\n     * @method chainPathBefore\n     * @param {} base The base object\n     * @param {string} path The path relative to `base`\n     * @param {function} func The function to chain before the original\n     * @return {function} The chained function that replaced the original\n     */\n    Common.chainPathBefore = function(base, path, func) {\n        return Common.set(base, path, Common.chain(\n            func,\n            Common.get(base, path)\n        ));\n    };\n\n    /**\n     * Chains a function to excute after the original function on the given `path` relative to `base`.\n     * See also docs for `Common.chain`.\n     * @method chainPathAfter\n     * @param {} base The base object\n     * @param {string} path The path relative to `base`\n     * @param {function} func The function to chain after the original\n     * @return {function} The chained function that replaced the original\n     */\n    Common.chainPathAfter = function(base, path, func) {\n        return Common.set(base, path, Common.chain(\n            Common.get(base, path),\n            func\n        ));\n    };\n\n    /**\n     * Provide the [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module to enable\n     * concave vertex decomposition support when using `Bodies.fromVertices` e.g. `Common.setDecomp(require('poly-decomp'))`.\n     * @method setDecomp\n     * @param {} decomp The [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module.\n     */\n    Common.setDecomp = function(decomp) {\n        Common._decomp = decomp;\n    };\n\n    /**\n     * Returns the [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module provided through `Common.setDecomp`,\n     * otherwise returns the global `decomp` if set.\n     * @method getDecomp\n     * @return {} The [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module if provided.\n     */\n    Common.getDecomp = function() {\n        // get user provided decomp if set\n        var decomp = Common._decomp;\n\n        try {\n            // otherwise from window global\n            if (!decomp && typeof window !== 'undefined') {\n                decomp = window.decomp;\n            }\n    \n            // otherwise from node global\n            if (!decomp && typeof global !== 'undefined') {\n                decomp = global.decomp;\n            }\n        } catch (e) {\n            // decomp not available\n            decomp = null;\n        }\n\n        return decomp;\n    };\n})();\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Bounds` module contains methods for creating and manipulating axis-aligned bounding boxes (AABB).\n*\n* @class Bounds\n*/\n\nvar Bounds = {};\n\nmodule.exports = Bounds;\n\n(function() {\n\n    /**\n     * Creates a new axis-aligned bounding box (AABB) for the given vertices.\n     * @method create\n     * @param {vertices} vertices\n     * @return {bounds} A new bounds object\n     */\n    Bounds.create = function(vertices) {\n        var bounds = { \n            min: { x: 0, y: 0 }, \n            max: { x: 0, y: 0 }\n        };\n\n        if (vertices)\n            Bounds.update(bounds, vertices);\n        \n        return bounds;\n    };\n\n    /**\n     * Updates bounds using the given vertices and extends the bounds given a velocity.\n     * @method update\n     * @param {bounds} bounds\n     * @param {vertices} vertices\n     * @param {vector} velocity\n     */\n    Bounds.update = function(bounds, vertices, velocity) {\n        bounds.min.x = Infinity;\n        bounds.max.x = -Infinity;\n        bounds.min.y = Infinity;\n        bounds.max.y = -Infinity;\n\n        for (var i = 0; i < vertices.length; i++) {\n            var vertex = vertices[i];\n            if (vertex.x > bounds.max.x) bounds.max.x = vertex.x;\n            if (vertex.x < bounds.min.x) bounds.min.x = vertex.x;\n            if (vertex.y > bounds.max.y) bounds.max.y = vertex.y;\n            if (vertex.y < bounds.min.y) bounds.min.y = vertex.y;\n        }\n        \n        if (velocity) {\n            if (velocity.x > 0) {\n                bounds.max.x += velocity.x;\n            } else {\n                bounds.min.x += velocity.x;\n            }\n            \n            if (velocity.y > 0) {\n                bounds.max.y += velocity.y;\n            } else {\n                bounds.min.y += velocity.y;\n            }\n        }\n    };\n\n    /**\n     * Returns true if the bounds contains the given point.\n     * @method contains\n     * @param {bounds} bounds\n     * @param {vector} point\n     * @return {boolean} True if the bounds contain the point, otherwise false\n     */\n    Bounds.contains = function(bounds, point) {\n        return point.x >= bounds.min.x && point.x <= bounds.max.x \n               && point.y >= bounds.min.y && point.y <= bounds.max.y;\n    };\n\n    /**\n     * Returns true if the two bounds intersect.\n     * @method overlaps\n     * @param {bounds} boundsA\n     * @param {bounds} boundsB\n     * @return {boolean} True if the bounds overlap, otherwise false\n     */\n    Bounds.overlaps = function(boundsA, boundsB) {\n        return (boundsA.min.x <= boundsB.max.x && boundsA.max.x >= boundsB.min.x\n                && boundsA.max.y >= boundsB.min.y && boundsA.min.y <= boundsB.max.y);\n    };\n\n    /**\n     * Translates the bounds by the given vector.\n     * @method translate\n     * @param {bounds} bounds\n     * @param {vector} vector\n     */\n    Bounds.translate = function(bounds, vector) {\n        bounds.min.x += vector.x;\n        bounds.max.x += vector.x;\n        bounds.min.y += vector.y;\n        bounds.max.y += vector.y;\n    };\n\n    /**\n     * Shifts the bounds to the given position.\n     * @method shift\n     * @param {bounds} bounds\n     * @param {vector} position\n     */\n    Bounds.shift = function(bounds, position) {\n        var deltaX = bounds.max.x - bounds.min.x,\n            deltaY = bounds.max.y - bounds.min.y;\n            \n        bounds.min.x = position.x;\n        bounds.max.x = position.x + deltaX;\n        bounds.min.y = position.y;\n        bounds.max.y = position.y + deltaY;\n    };\n    \n})();\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Vector` module contains methods for creating and manipulating vectors.\n* Vectors are the basis of all the geometry related operations in the engine.\n* A `Matter.Vector` object is of the form `{ x: 0, y: 0 }`.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Vector\n*/\n\n// TODO: consider params for reusing vector objects\n\nvar Vector = {};\n\nmodule.exports = Vector;\n\n(function() {\n\n    /**\n     * Creates a new vector.\n     * @method create\n     * @param {number} x\n     * @param {number} y\n     * @return {vector} A new vector\n     */\n    Vector.create = function(x, y) {\n        return { x: x || 0, y: y || 0 };\n    };\n\n    /**\n     * Returns a new vector with `x` and `y` copied from the given `vector`.\n     * @method clone\n     * @param {vector} vector\n     * @return {vector} A new cloned vector\n     */\n    Vector.clone = function(vector) {\n        return { x: vector.x, y: vector.y };\n    };\n\n    /**\n     * Returns the magnitude (length) of a vector.\n     * @method magnitude\n     * @param {vector} vector\n     * @return {number} The magnitude of the vector\n     */\n    Vector.magnitude = function(vector) {\n        return Math.sqrt((vector.x * vector.x) + (vector.y * vector.y));\n    };\n\n    /**\n     * Returns the magnitude (length) of a vector (therefore saving a `sqrt` operation).\n     * @method magnitudeSquared\n     * @param {vector} vector\n     * @return {number} The squared magnitude of the vector\n     */\n    Vector.magnitudeSquared = function(vector) {\n        return (vector.x * vector.x) + (vector.y * vector.y);\n    };\n\n    /**\n     * Rotates the vector about (0, 0) by specified angle.\n     * @method rotate\n     * @param {vector} vector\n     * @param {number} angle\n     * @param {vector} [output]\n     * @return {vector} The vector rotated about (0, 0)\n     */\n    Vector.rotate = function(vector, angle, output) {\n        var cos = Math.cos(angle), sin = Math.sin(angle);\n        if (!output) output = {};\n        var x = vector.x * cos - vector.y * sin;\n        output.y = vector.x * sin + vector.y * cos;\n        output.x = x;\n        return output;\n    };\n\n    /**\n     * Rotates the vector about a specified point by specified angle.\n     * @method rotateAbout\n     * @param {vector} vector\n     * @param {number} angle\n     * @param {vector} point\n     * @param {vector} [output]\n     * @return {vector} A new vector rotated about the point\n     */\n    Vector.rotateAbout = function(vector, angle, point, output) {\n        var cos = Math.cos(angle), sin = Math.sin(angle);\n        if (!output) output = {};\n        var x = point.x + ((vector.x - point.x) * cos - (vector.y - point.y) * sin);\n        output.y = point.y + ((vector.x - point.x) * sin + (vector.y - point.y) * cos);\n        output.x = x;\n        return output;\n    };\n\n    /**\n     * Normalises a vector (such that its magnitude is `1`).\n     * @method normalise\n     * @param {vector} vector\n     * @return {vector} A new vector normalised\n     */\n    Vector.normalise = function(vector) {\n        var magnitude = Vector.magnitude(vector);\n        if (magnitude === 0)\n            return { x: 0, y: 0 };\n        return { x: vector.x / magnitude, y: vector.y / magnitude };\n    };\n\n    /**\n     * Returns the dot-product of two vectors.\n     * @method dot\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @return {number} The dot product of the two vectors\n     */\n    Vector.dot = function(vectorA, vectorB) {\n        return (vectorA.x * vectorB.x) + (vectorA.y * vectorB.y);\n    };\n\n    /**\n     * Returns the cross-product of two vectors.\n     * @method cross\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @return {number} The cross product of the two vectors\n     */\n    Vector.cross = function(vectorA, vectorB) {\n        return (vectorA.x * vectorB.y) - (vectorA.y * vectorB.x);\n    };\n\n    /**\n     * Returns the cross-product of three vectors.\n     * @method cross3\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @param {vector} vectorC\n     * @return {number} The cross product of the three vectors\n     */\n    Vector.cross3 = function(vectorA, vectorB, vectorC) {\n        return (vectorB.x - vectorA.x) * (vectorC.y - vectorA.y) - (vectorB.y - vectorA.y) * (vectorC.x - vectorA.x);\n    };\n\n    /**\n     * Adds the two vectors.\n     * @method add\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @param {vector} [output]\n     * @return {vector} A new vector of vectorA and vectorB added\n     */\n    Vector.add = function(vectorA, vectorB, output) {\n        if (!output) output = {};\n        output.x = vectorA.x + vectorB.x;\n        output.y = vectorA.y + vectorB.y;\n        return output;\n    };\n\n    /**\n     * Subtracts the two vectors.\n     * @method sub\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @param {vector} [output]\n     * @return {vector} A new vector of vectorA and vectorB subtracted\n     */\n    Vector.sub = function(vectorA, vectorB, output) {\n        if (!output) output = {};\n        output.x = vectorA.x - vectorB.x;\n        output.y = vectorA.y - vectorB.y;\n        return output;\n    };\n\n    /**\n     * Multiplies a vector and a scalar.\n     * @method mult\n     * @param {vector} vector\n     * @param {number} scalar\n     * @return {vector} A new vector multiplied by scalar\n     */\n    Vector.mult = function(vector, scalar) {\n        return { x: vector.x * scalar, y: vector.y * scalar };\n    };\n\n    /**\n     * Divides a vector and a scalar.\n     * @method div\n     * @param {vector} vector\n     * @param {number} scalar\n     * @return {vector} A new vector divided by scalar\n     */\n    Vector.div = function(vector, scalar) {\n        return { x: vector.x / scalar, y: vector.y / scalar };\n    };\n\n    /**\n     * Returns the perpendicular vector. Set `negate` to true for the perpendicular in the opposite direction.\n     * @method perp\n     * @param {vector} vector\n     * @param {bool} [negate=false]\n     * @return {vector} The perpendicular vector\n     */\n    Vector.perp = function(vector, negate) {\n        negate = negate === true ? -1 : 1;\n        return { x: negate * -vector.y, y: negate * vector.x };\n    };\n\n    /**\n     * Negates both components of a vector such that it points in the opposite direction.\n     * @method neg\n     * @param {vector} vector\n     * @return {vector} The negated vector\n     */\n    Vector.neg = function(vector) {\n        return { x: -vector.x, y: -vector.y };\n    };\n\n    /**\n     * Returns the angle between the vector `vectorB - vectorA` and the x-axis in radians.\n     * @method angle\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @return {number} The angle in radians\n     */\n    Vector.angle = function(vectorA, vectorB) {\n        return Math.atan2(vectorB.y - vectorA.y, vectorB.x - vectorA.x);\n    };\n\n    /**\n     * Temporary vector pool (not thread-safe).\n     * @property _temp\n     * @type {vector[]}\n     * @private\n     */\n    Vector._temp = [\n        Vector.create(), Vector.create(), \n        Vector.create(), Vector.create(), \n        Vector.create(), Vector.create()\n    ];\n\n})();\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Vertices` module contains methods for creating and manipulating sets of vertices.\n* A set of vertices is an array of `Matter.Vector` with additional indexing properties inserted by `Vertices.create`.\n* A `Matter.Body` maintains a set of vertices to represent the shape of the object (its convex hull).\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Vertices\n*/\n\nvar Vertices = {};\n\nmodule.exports = Vertices;\n\nvar Vector = __webpack_require__(2);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a new set of `Matter.Body` compatible vertices.\n     * The `points` argument accepts an array of `Matter.Vector` points orientated around the origin `(0, 0)`, for example:\n     *\n     *     [{ x: 0, y: 0 }, { x: 25, y: 50 }, { x: 50, y: 0 }]\n     *\n     * The `Vertices.create` method returns a new array of vertices, which are similar to Matter.Vector objects,\n     * but with some additional references required for efficient collision detection routines.\n     *\n     * Vertices must be specified in clockwise order.\n     *\n     * Note that the `body` argument is not optional, a `Matter.Body` reference must be provided.\n     *\n     * @method create\n     * @param {vector[]} points\n     * @param {body} body\n     */\n    Vertices.create = function(points, body) {\n        var vertices = [];\n\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i],\n                vertex = {\n                    x: point.x,\n                    y: point.y,\n                    index: i,\n                    body: body,\n                    isInternal: false\n                };\n\n            vertices.push(vertex);\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Parses a string containing ordered x y pairs separated by spaces (and optionally commas), \n     * into a `Matter.Vertices` object for the given `Matter.Body`.\n     * For parsing SVG paths, see `Svg.pathToVertices`.\n     * @method fromPath\n     * @param {string} path\n     * @param {body} body\n     * @return {vertices} vertices\n     */\n    Vertices.fromPath = function(path, body) {\n        var pathPattern = /L?\\s*([-\\d.e]+)[\\s,]*([-\\d.e]+)*/ig,\n            points = [];\n\n        path.replace(pathPattern, function(match, x, y) {\n            points.push({ x: parseFloat(x), y: parseFloat(y) });\n        });\n\n        return Vertices.create(points, body);\n    };\n\n    /**\n     * Returns the centre (centroid) of the set of vertices.\n     * @method centre\n     * @param {vertices} vertices\n     * @return {vector} The centre point\n     */\n    Vertices.centre = function(vertices) {\n        var area = Vertices.area(vertices, true),\n            centre = { x: 0, y: 0 },\n            cross,\n            temp,\n            j;\n\n        for (var i = 0; i < vertices.length; i++) {\n            j = (i + 1) % vertices.length;\n            cross = Vector.cross(vertices[i], vertices[j]);\n            temp = Vector.mult(Vector.add(vertices[i], vertices[j]), cross);\n            centre = Vector.add(centre, temp);\n        }\n\n        return Vector.div(centre, 6 * area);\n    };\n\n    /**\n     * Returns the average (mean) of the set of vertices.\n     * @method mean\n     * @param {vertices} vertices\n     * @return {vector} The average point\n     */\n    Vertices.mean = function(vertices) {\n        var average = { x: 0, y: 0 };\n\n        for (var i = 0; i < vertices.length; i++) {\n            average.x += vertices[i].x;\n            average.y += vertices[i].y;\n        }\n\n        return Vector.div(average, vertices.length);\n    };\n\n    /**\n     * Returns the area of the set of vertices.\n     * @method area\n     * @param {vertices} vertices\n     * @param {bool} signed\n     * @return {number} The area\n     */\n    Vertices.area = function(vertices, signed) {\n        var area = 0,\n            j = vertices.length - 1;\n\n        for (var i = 0; i < vertices.length; i++) {\n            area += (vertices[j].x - vertices[i].x) * (vertices[j].y + vertices[i].y);\n            j = i;\n        }\n\n        if (signed)\n            return area / 2;\n\n        return Math.abs(area) / 2;\n    };\n\n    /**\n     * Returns the moment of inertia (second moment of area) of the set of vertices given the total mass.\n     * @method inertia\n     * @param {vertices} vertices\n     * @param {number} mass\n     * @return {number} The polygon's moment of inertia\n     */\n    Vertices.inertia = function(vertices, mass) {\n        var numerator = 0,\n            denominator = 0,\n            v = vertices,\n            cross,\n            j;\n\n        // find the polygon's moment of inertia, using second moment of area\n        // from equations at http://www.physicsforums.com/showthread.php?t=25293\n        for (var n = 0; n < v.length; n++) {\n            j = (n + 1) % v.length;\n            cross = Math.abs(Vector.cross(v[j], v[n]));\n            numerator += cross * (Vector.dot(v[j], v[j]) + Vector.dot(v[j], v[n]) + Vector.dot(v[n], v[n]));\n            denominator += cross;\n        }\n\n        return (mass / 6) * (numerator / denominator);\n    };\n\n    /**\n     * Translates the set of vertices in-place.\n     * @method translate\n     * @param {vertices} vertices\n     * @param {vector} vector\n     * @param {number} scalar\n     */\n    Vertices.translate = function(vertices, vector, scalar) {\n        scalar = typeof scalar !== 'undefined' ? scalar : 1;\n\n        var verticesLength = vertices.length,\n            translateX = vector.x * scalar,\n            translateY = vector.y * scalar,\n            i;\n        \n        for (i = 0; i < verticesLength; i++) {\n            vertices[i].x += translateX;\n            vertices[i].y += translateY;\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Rotates the set of vertices in-place.\n     * @method rotate\n     * @param {vertices} vertices\n     * @param {number} angle\n     * @param {vector} point\n     */\n    Vertices.rotate = function(vertices, angle, point) {\n        if (angle === 0)\n            return;\n\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            pointX = point.x,\n            pointY = point.y,\n            verticesLength = vertices.length,\n            vertex,\n            dx,\n            dy,\n            i;\n\n        for (i = 0; i < verticesLength; i++) {\n            vertex = vertices[i];\n            dx = vertex.x - pointX;\n            dy = vertex.y - pointY;\n            vertex.x = pointX + (dx * cos - dy * sin);\n            vertex.y = pointY + (dx * sin + dy * cos);\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Returns `true` if the `point` is inside the set of `vertices`.\n     * @method contains\n     * @param {vertices} vertices\n     * @param {vector} point\n     * @return {boolean} True if the vertices contains point, otherwise false\n     */\n    Vertices.contains = function(vertices, point) {\n        var pointX = point.x,\n            pointY = point.y,\n            verticesLength = vertices.length,\n            vertex = vertices[verticesLength - 1],\n            nextVertex;\n\n        for (var i = 0; i < verticesLength; i++) {\n            nextVertex = vertices[i];\n\n            if ((pointX - vertex.x) * (nextVertex.y - vertex.y) \n                + (pointY - vertex.y) * (vertex.x - nextVertex.x) > 0) {\n                return false;\n            }\n\n            vertex = nextVertex;\n        }\n\n        return true;\n    };\n\n    /**\n     * Scales the vertices from a point (default is centre) in-place.\n     * @method scale\n     * @param {vertices} vertices\n     * @param {number} scaleX\n     * @param {number} scaleY\n     * @param {vector} point\n     */\n    Vertices.scale = function(vertices, scaleX, scaleY, point) {\n        if (scaleX === 1 && scaleY === 1)\n            return vertices;\n\n        point = point || Vertices.centre(vertices);\n\n        var vertex,\n            delta;\n\n        for (var i = 0; i < vertices.length; i++) {\n            vertex = vertices[i];\n            delta = Vector.sub(vertex, point);\n            vertices[i].x = point.x + delta.x * scaleX;\n            vertices[i].y = point.y + delta.y * scaleY;\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Chamfers a set of vertices by giving them rounded corners, returns a new set of vertices.\n     * The radius parameter is a single number or an array to specify the radius for each vertex.\n     * @method chamfer\n     * @param {vertices} vertices\n     * @param {number[]} radius\n     * @param {number} quality\n     * @param {number} qualityMin\n     * @param {number} qualityMax\n     */\n    Vertices.chamfer = function(vertices, radius, quality, qualityMin, qualityMax) {\n        if (typeof radius === 'number') {\n            radius = [radius];\n        } else {\n            radius = radius || [8];\n        }\n\n        // quality defaults to -1, which is auto\n        quality = (typeof quality !== 'undefined') ? quality : -1;\n        qualityMin = qualityMin || 2;\n        qualityMax = qualityMax || 14;\n\n        var newVertices = [];\n\n        for (var i = 0; i < vertices.length; i++) {\n            var prevVertex = vertices[i - 1 >= 0 ? i - 1 : vertices.length - 1],\n                vertex = vertices[i],\n                nextVertex = vertices[(i + 1) % vertices.length],\n                currentRadius = radius[i < radius.length ? i : radius.length - 1];\n\n            if (currentRadius === 0) {\n                newVertices.push(vertex);\n                continue;\n            }\n\n            var prevNormal = Vector.normalise({ \n                x: vertex.y - prevVertex.y, \n                y: prevVertex.x - vertex.x\n            });\n\n            var nextNormal = Vector.normalise({ \n                x: nextVertex.y - vertex.y, \n                y: vertex.x - nextVertex.x\n            });\n\n            var diagonalRadius = Math.sqrt(2 * Math.pow(currentRadius, 2)),\n                radiusVector = Vector.mult(Common.clone(prevNormal), currentRadius),\n                midNormal = Vector.normalise(Vector.mult(Vector.add(prevNormal, nextNormal), 0.5)),\n                scaledVertex = Vector.sub(vertex, Vector.mult(midNormal, diagonalRadius));\n\n            var precision = quality;\n\n            if (quality === -1) {\n                // automatically decide precision\n                precision = Math.pow(currentRadius, 0.32) * 1.75;\n            }\n\n            precision = Common.clamp(precision, qualityMin, qualityMax);\n\n            // use an even value for precision, more likely to reduce axes by using symmetry\n            if (precision % 2 === 1)\n                precision += 1;\n\n            var alpha = Math.acos(Vector.dot(prevNormal, nextNormal)),\n                theta = alpha / precision;\n\n            for (var j = 0; j < precision; j++) {\n                newVertices.push(Vector.add(Vector.rotate(radiusVector, theta * j), scaledVertex));\n            }\n        }\n\n        return newVertices;\n    };\n\n    /**\n     * Sorts the input vertices into clockwise order in place.\n     * @method clockwiseSort\n     * @param {vertices} vertices\n     * @return {vertices} vertices\n     */\n    Vertices.clockwiseSort = function(vertices) {\n        var centre = Vertices.mean(vertices);\n\n        vertices.sort(function(vertexA, vertexB) {\n            return Vector.angle(centre, vertexA) - Vector.angle(centre, vertexB);\n        });\n\n        return vertices;\n    };\n\n    /**\n     * Returns true if the vertices form a convex shape (vertices must be in clockwise order).\n     * @method isConvex\n     * @param {vertices} vertices\n     * @return {bool} `true` if the `vertices` are convex, `false` if not (or `null` if not computable).\n     */\n    Vertices.isConvex = function(vertices) {\n        // http://paulbourke.net/geometry/polygonmesh/\n        // Copyright (c) Paul Bourke (use permitted)\n\n        var flag = 0,\n            n = vertices.length,\n            i,\n            j,\n            k,\n            z;\n\n        if (n < 3)\n            return null;\n\n        for (i = 0; i < n; i++) {\n            j = (i + 1) % n;\n            k = (i + 2) % n;\n            z = (vertices[j].x - vertices[i].x) * (vertices[k].y - vertices[j].y);\n            z -= (vertices[j].y - vertices[i].y) * (vertices[k].x - vertices[j].x);\n\n            if (z < 0) {\n                flag |= 1;\n            } else if (z > 0) {\n                flag |= 2;\n            }\n\n            if (flag === 3) {\n                return false;\n            }\n        }\n\n        if (flag !== 0){\n            return true;\n        } else {\n            return null;\n        }\n    };\n\n    /**\n     * Returns the convex hull of the input vertices as a new array of points.\n     * @method hull\n     * @param {vertices} vertices\n     * @return [vertex] vertices\n     */\n    Vertices.hull = function(vertices) {\n        // http://geomalgorithms.com/a10-_hull-1.html\n\n        var upper = [],\n            lower = [], \n            vertex,\n            i;\n\n        // sort vertices on x-axis (y-axis for ties)\n        vertices = vertices.slice(0);\n        vertices.sort(function(vertexA, vertexB) {\n            var dx = vertexA.x - vertexB.x;\n            return dx !== 0 ? dx : vertexA.y - vertexB.y;\n        });\n\n        // build lower hull\n        for (i = 0; i < vertices.length; i += 1) {\n            vertex = vertices[i];\n\n            while (lower.length >= 2 \n                   && Vector.cross3(lower[lower.length - 2], lower[lower.length - 1], vertex) <= 0) {\n                lower.pop();\n            }\n\n            lower.push(vertex);\n        }\n\n        // build upper hull\n        for (i = vertices.length - 1; i >= 0; i -= 1) {\n            vertex = vertices[i];\n\n            while (upper.length >= 2 \n                   && Vector.cross3(upper[upper.length - 2], upper[upper.length - 1], vertex) <= 0) {\n                upper.pop();\n            }\n\n            upper.push(vertex);\n        }\n\n        // concatenation of the lower and upper hulls gives the convex hull\n        // omit last points because they are repeated at the beginning of the other list\n        upper.pop();\n        lower.pop();\n\n        return upper.concat(lower);\n    };\n\n})();\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Body` module contains methods for creating and manipulating rigid bodies.\n* For creating bodies with common configurations such as rectangles, circles and other polygons see the module `Matter.Bodies`.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n\n* @class Body\n*/\n\nvar Body = {};\n\nmodule.exports = Body;\n\nvar Vertices = __webpack_require__(3);\nvar Vector = __webpack_require__(2);\nvar Sleeping = __webpack_require__(7);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\nvar Axes = __webpack_require__(11);\n\n(function() {\n\n    Body._timeCorrection = true;\n    Body._inertiaScale = 4;\n    Body._nextCollidingGroupId = 1;\n    Body._nextNonCollidingGroupId = -1;\n    Body._nextCategory = 0x0001;\n    Body._baseDelta = 1000 / 60;\n\n    /**\n     * Creates a new rigid body model. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * Vertices must be specified in clockwise order.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {} options\n     * @return {body} body\n     */\n    Body.create = function(options) {\n        var defaults = {\n            id: Common.nextId(),\n            type: 'body',\n            label: 'Body',\n            parts: [],\n            plugin: {},\n            angle: 0,\n            vertices: Vertices.fromPath('L 0 0 L 40 0 L 40 40 L 0 40'),\n            position: { x: 0, y: 0 },\n            force: { x: 0, y: 0 },\n            torque: 0,\n            positionImpulse: { x: 0, y: 0 },\n            constraintImpulse: { x: 0, y: 0, angle: 0 },\n            totalContacts: 0,\n            speed: 0,\n            angularSpeed: 0,\n            velocity: { x: 0, y: 0 },\n            angularVelocity: 0,\n            isSensor: false,\n            isStatic: false,\n            isSleeping: false,\n            motion: 0,\n            sleepThreshold: 60,\n            density: 0.001,\n            restitution: 0,\n            friction: 0.1,\n            frictionStatic: 0.5,\n            frictionAir: 0.01,\n            collisionFilter: {\n                category: 0x0001,\n                mask: 0xFFFFFFFF,\n                group: 0\n            },\n            slop: 0.05,\n            timeScale: 1,\n            render: {\n                visible: true,\n                opacity: 1,\n                strokeStyle: null,\n                fillStyle: null,\n                lineWidth: null,\n                sprite: {\n                    xScale: 1,\n                    yScale: 1,\n                    xOffset: 0,\n                    yOffset: 0\n                }\n            },\n            events: null,\n            bounds: null,\n            chamfer: null,\n            circleRadius: 0,\n            positionPrev: null,\n            anglePrev: 0,\n            parent: null,\n            axes: null,\n            area: 0,\n            mass: 0,\n            inertia: 0,\n            deltaTime: 1000 / 60,\n            _original: null\n        };\n\n        var body = Common.extend(defaults, options);\n\n        _initProperties(body, options);\n\n        return body;\n    };\n\n    /**\n     * Returns the next unique group index for which bodies will collide.\n     * If `isNonColliding` is `true`, returns the next unique group index for which bodies will _not_ collide.\n     * See `body.collisionFilter` for more information.\n     * @method nextGroup\n     * @param {bool} [isNonColliding=false]\n     * @return {Number} Unique group index\n     */\n    Body.nextGroup = function(isNonColliding) {\n        if (isNonColliding)\n            return Body._nextNonCollidingGroupId--;\n\n        return Body._nextCollidingGroupId++;\n    };\n\n    /**\n     * Returns the next unique category bitfield (starting after the initial default category `0x0001`).\n     * There are 32 available. See `body.collisionFilter` for more information.\n     * @method nextCategory\n     * @return {Number} Unique category bitfield\n     */\n    Body.nextCategory = function() {\n        Body._nextCategory = Body._nextCategory << 1;\n        return Body._nextCategory;\n    };\n\n    /**\n     * Initialises body properties.\n     * @method _initProperties\n     * @private\n     * @param {body} body\n     * @param {} [options]\n     */\n    var _initProperties = function(body, options) {\n        options = options || {};\n\n        // init required properties (order is important)\n        Body.set(body, {\n            bounds: body.bounds || Bounds.create(body.vertices),\n            positionPrev: body.positionPrev || Vector.clone(body.position),\n            anglePrev: body.anglePrev || body.angle,\n            vertices: body.vertices,\n            parts: body.parts || [body],\n            isStatic: body.isStatic,\n            isSleeping: body.isSleeping,\n            parent: body.parent || body\n        });\n\n        Vertices.rotate(body.vertices, body.angle, body.position);\n        Axes.rotate(body.axes, body.angle);\n        Bounds.update(body.bounds, body.vertices, body.velocity);\n\n        // allow options to override the automatically calculated properties\n        Body.set(body, {\n            axes: options.axes || body.axes,\n            area: options.area || body.area,\n            mass: options.mass || body.mass,\n            inertia: options.inertia || body.inertia\n        });\n\n        // render properties\n        var defaultFillStyle = (body.isStatic ? '#14151f' : Common.choose(['#f19648', '#f5d259', '#f55a3c', '#063e7b', '#ececd1'])),\n            defaultStrokeStyle = body.isStatic ? '#555' : '#ccc',\n            defaultLineWidth = body.isStatic && body.render.fillStyle === null ? 1 : 0;\n        body.render.fillStyle = body.render.fillStyle || defaultFillStyle;\n        body.render.strokeStyle = body.render.strokeStyle || defaultStrokeStyle;\n        body.render.lineWidth = body.render.lineWidth || defaultLineWidth;\n        body.render.sprite.xOffset += -(body.bounds.min.x - body.position.x) / (body.bounds.max.x - body.bounds.min.x);\n        body.render.sprite.yOffset += -(body.bounds.min.y - body.position.y) / (body.bounds.max.y - body.bounds.min.y);\n    };\n\n    /**\n     * Given a property and a value (or map of), sets the property(s) on the body, using the appropriate setter functions if they exist.\n     * Prefer to use the actual setter functions in performance critical situations.\n     * @method set\n     * @param {body} body\n     * @param {} settings A property name (or map of properties and values) to set on the body.\n     * @param {} value The value to set if `settings` is a single property name.\n     */\n    Body.set = function(body, settings, value) {\n        var property;\n\n        if (typeof settings === 'string') {\n            property = settings;\n            settings = {};\n            settings[property] = value;\n        }\n\n        for (property in settings) {\n            if (!Object.prototype.hasOwnProperty.call(settings, property))\n                continue;\n\n            value = settings[property];\n            switch (property) {\n\n            case 'isStatic':\n                Body.setStatic(body, value);\n                break;\n            case 'isSleeping':\n                Sleeping.set(body, value);\n                break;\n            case 'mass':\n                Body.setMass(body, value);\n                break;\n            case 'density':\n                Body.setDensity(body, value);\n                break;\n            case 'inertia':\n                Body.setInertia(body, value);\n                break;\n            case 'vertices':\n                Body.setVertices(body, value);\n                break;\n            case 'position':\n                Body.setPosition(body, value);\n                break;\n            case 'angle':\n                Body.setAngle(body, value);\n                break;\n            case 'velocity':\n                Body.setVelocity(body, value);\n                break;\n            case 'angularVelocity':\n                Body.setAngularVelocity(body, value);\n                break;\n            case 'speed':\n                Body.setSpeed(body, value);\n                break;\n            case 'angularSpeed':\n                Body.setAngularSpeed(body, value);\n                break;\n            case 'parts':\n                Body.setParts(body, value);\n                break;\n            case 'centre':\n                Body.setCentre(body, value);\n                break;\n            default:\n                body[property] = value;\n\n            }\n        }\n    };\n\n    /**\n     * Sets the body as static, including isStatic flag and setting mass and inertia to Infinity.\n     * @method setStatic\n     * @param {body} body\n     * @param {bool} isStatic\n     */\n    Body.setStatic = function(body, isStatic) {\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n            part.isStatic = isStatic;\n\n            if (isStatic) {\n                part._original = {\n                    restitution: part.restitution,\n                    friction: part.friction,\n                    mass: part.mass,\n                    inertia: part.inertia,\n                    density: part.density,\n                    inverseMass: part.inverseMass,\n                    inverseInertia: part.inverseInertia\n                };\n\n                part.restitution = 0;\n                part.friction = 1;\n                part.mass = part.inertia = part.density = Infinity;\n                part.inverseMass = part.inverseInertia = 0;\n\n                part.positionPrev.x = part.position.x;\n                part.positionPrev.y = part.position.y;\n                part.anglePrev = part.angle;\n                part.angularVelocity = 0;\n                part.speed = 0;\n                part.angularSpeed = 0;\n                part.motion = 0;\n            } else if (part._original) {\n                part.restitution = part._original.restitution;\n                part.friction = part._original.friction;\n                part.mass = part._original.mass;\n                part.inertia = part._original.inertia;\n                part.density = part._original.density;\n                part.inverseMass = part._original.inverseMass;\n                part.inverseInertia = part._original.inverseInertia;\n\n                part._original = null;\n            }\n        }\n    };\n\n    /**\n     * Sets the mass of the body. Inverse mass, density and inertia are automatically updated to reflect the change.\n     * @method setMass\n     * @param {body} body\n     * @param {number} mass\n     */\n    Body.setMass = function(body, mass) {\n        var moment = body.inertia / (body.mass / 6);\n        body.inertia = moment * (mass / 6);\n        body.inverseInertia = 1 / body.inertia;\n\n        body.mass = mass;\n        body.inverseMass = 1 / body.mass;\n        body.density = body.mass / body.area;\n    };\n\n    /**\n     * Sets the density of the body. Mass and inertia are automatically updated to reflect the change.\n     * @method setDensity\n     * @param {body} body\n     * @param {number} density\n     */\n    Body.setDensity = function(body, density) {\n        Body.setMass(body, density * body.area);\n        body.density = density;\n    };\n\n    /**\n     * Sets the moment of inertia of the body. This is the second moment of area in two dimensions.\n     * Inverse inertia is automatically updated to reflect the change. Mass is not changed.\n     * @method setInertia\n     * @param {body} body\n     * @param {number} inertia\n     */\n    Body.setInertia = function(body, inertia) {\n        body.inertia = inertia;\n        body.inverseInertia = 1 / body.inertia;\n    };\n\n    /**\n     * Sets the body's vertices and updates body properties accordingly, including inertia, area and mass (with respect to `body.density`).\n     * Vertices will be automatically transformed to be orientated around their centre of mass as the origin.\n     * They are then automatically translated to world space based on `body.position`.\n     *\n     * The `vertices` argument should be passed as an array of `Matter.Vector` points (or a `Matter.Vertices` array).\n     * Vertices must form a convex hull. Concave vertices must be decomposed into convex parts.\n     * \n     * @method setVertices\n     * @param {body} body\n     * @param {vector[]} vertices\n     */\n    Body.setVertices = function(body, vertices) {\n        // change vertices\n        if (vertices[0].body === body) {\n            body.vertices = vertices;\n        } else {\n            body.vertices = Vertices.create(vertices, body);\n        }\n\n        // update properties\n        body.axes = Axes.fromVertices(body.vertices);\n        body.area = Vertices.area(body.vertices);\n        Body.setMass(body, body.density * body.area);\n\n        // orient vertices around the centre of mass at origin (0, 0)\n        var centre = Vertices.centre(body.vertices);\n        Vertices.translate(body.vertices, centre, -1);\n\n        // update inertia while vertices are at origin (0, 0)\n        Body.setInertia(body, Body._inertiaScale * Vertices.inertia(body.vertices, body.mass));\n\n        // update geometry\n        Vertices.translate(body.vertices, body.position);\n        Bounds.update(body.bounds, body.vertices, body.velocity);\n    };\n\n    /**\n     * Sets the parts of the `body` and updates mass, inertia and centroid.\n     * Each part will have its parent set to `body`.\n     * By default the convex hull will be automatically computed and set on `body`, unless `autoHull` is set to `false.`\n     * Note that this method will ensure that the first part in `body.parts` will always be the `body`.\n     * @method setParts\n     * @param {body} body\n     * @param {body[]} parts\n     * @param {bool} [autoHull=true]\n     */\n    Body.setParts = function(body, parts, autoHull) {\n        var i;\n\n        // add all the parts, ensuring that the first part is always the parent body\n        parts = parts.slice(0);\n        body.parts.length = 0;\n        body.parts.push(body);\n        body.parent = body;\n\n        for (i = 0; i < parts.length; i++) {\n            var part = parts[i];\n            if (part !== body) {\n                part.parent = body;\n                body.parts.push(part);\n            }\n        }\n\n        if (body.parts.length === 1)\n            return;\n\n        autoHull = typeof autoHull !== 'undefined' ? autoHull : true;\n\n        // find the convex hull of all parts to set on the parent body\n        if (autoHull) {\n            var vertices = [];\n            for (i = 0; i < parts.length; i++) {\n                vertices = vertices.concat(parts[i].vertices);\n            }\n\n            Vertices.clockwiseSort(vertices);\n\n            var hull = Vertices.hull(vertices),\n                hullCentre = Vertices.centre(hull);\n\n            Body.setVertices(body, hull);\n            Vertices.translate(body.vertices, hullCentre);\n        }\n\n        // sum the properties of all compound parts of the parent body\n        var total = Body._totalProperties(body);\n\n        body.area = total.area;\n        body.parent = body;\n        body.position.x = total.centre.x;\n        body.position.y = total.centre.y;\n        body.positionPrev.x = total.centre.x;\n        body.positionPrev.y = total.centre.y;\n\n        Body.setMass(body, total.mass);\n        Body.setInertia(body, total.inertia);\n        Body.setPosition(body, total.centre);\n    };\n\n    /**\n     * Set the centre of mass of the body. \n     * The `centre` is a vector in world-space unless `relative` is set, in which case it is a translation.\n     * The centre of mass is the point the body rotates about and can be used to simulate non-uniform density.\n     * This is equal to moving `body.position` but not the `body.vertices`.\n     * Invalid if the `centre` falls outside the body's convex hull.\n     * @method setCentre\n     * @param {body} body\n     * @param {vector} centre\n     * @param {bool} relative\n     */\n    Body.setCentre = function(body, centre, relative) {\n        if (!relative) {\n            body.positionPrev.x = centre.x - (body.position.x - body.positionPrev.x);\n            body.positionPrev.y = centre.y - (body.position.y - body.positionPrev.y);\n            body.position.x = centre.x;\n            body.position.y = centre.y;\n        } else {\n            body.positionPrev.x += centre.x;\n            body.positionPrev.y += centre.y;\n            body.position.x += centre.x;\n            body.position.y += centre.y;\n        }\n    };\n\n    /**\n     * Sets the position of the body. By default velocity is unchanged.\n     * If `updateVelocity` is `true` then velocity is inferred from the change in position.\n     * @method setPosition\n     * @param {body} body\n     * @param {vector} position\n     * @param {boolean} [updateVelocity=false]\n     */\n    Body.setPosition = function(body, position, updateVelocity) {\n        var delta = Vector.sub(position, body.position);\n\n        if (updateVelocity) {\n            body.positionPrev.x = body.position.x;\n            body.positionPrev.y = body.position.y;\n            body.velocity.x = delta.x;\n            body.velocity.y = delta.y;\n            body.speed = Vector.magnitude(delta);\n        } else {\n            body.positionPrev.x += delta.x;\n            body.positionPrev.y += delta.y;\n        }\n\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n            part.position.x += delta.x;\n            part.position.y += delta.y;\n            Vertices.translate(part.vertices, delta);\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n        }\n    };\n\n    /**\n     * Sets the angle of the body. By default angular velocity is unchanged.\n     * If `updateVelocity` is `true` then angular velocity is inferred from the change in angle.\n     * @method setAngle\n     * @param {body} body\n     * @param {number} angle\n     * @param {boolean} [updateVelocity=false]\n     */\n    Body.setAngle = function(body, angle, updateVelocity) {\n        var delta = angle - body.angle;\n        \n        if (updateVelocity) {\n            body.anglePrev = body.angle;\n            body.angularVelocity = delta;\n            body.angularSpeed = Math.abs(delta);\n        } else {\n            body.anglePrev += delta;\n        }\n\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n            part.angle += delta;\n            Vertices.rotate(part.vertices, delta, body.position);\n            Axes.rotate(part.axes, delta);\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n            if (i > 0) {\n                Vector.rotateAbout(part.position, delta, body.position, part.position);\n            }\n        }\n    };\n\n    /**\n     * Sets the current linear velocity of the body.  \n     * Affects body speed.\n     * @method setVelocity\n     * @param {body} body\n     * @param {vector} velocity\n     */\n    Body.setVelocity = function(body, velocity) {\n        var timeScale = body.deltaTime / Body._baseDelta;\n        body.positionPrev.x = body.position.x - velocity.x * timeScale;\n        body.positionPrev.y = body.position.y - velocity.y * timeScale;\n        body.velocity.x = (body.position.x - body.positionPrev.x) / timeScale;\n        body.velocity.y = (body.position.y - body.positionPrev.y) / timeScale;\n        body.speed = Vector.magnitude(body.velocity);\n    };\n\n    /**\n     * Gets the current linear velocity of the body.\n     * @method getVelocity\n     * @param {body} body\n     * @return {vector} velocity\n     */\n    Body.getVelocity = function(body) {\n        var timeScale = Body._baseDelta / body.deltaTime;\n\n        return {\n            x: (body.position.x - body.positionPrev.x) * timeScale,\n            y: (body.position.y - body.positionPrev.y) * timeScale\n        };\n    };\n\n    /**\n     * Gets the current linear speed of the body.  \n     * Equivalent to the magnitude of its velocity.\n     * @method getSpeed\n     * @param {body} body\n     * @return {number} speed\n     */\n    Body.getSpeed = function(body) {\n        return Vector.magnitude(Body.getVelocity(body));\n    };\n\n    /**\n     * Sets the current linear speed of the body.  \n     * Direction is maintained. Affects body velocity.\n     * @method setSpeed\n     * @param {body} body\n     * @param {number} speed\n     */\n    Body.setSpeed = function(body, speed) {\n        Body.setVelocity(body, Vector.mult(Vector.normalise(Body.getVelocity(body)), speed));\n    };\n\n    /**\n     * Sets the current rotational velocity of the body.  \n     * Affects body angular speed.\n     * @method setAngularVelocity\n     * @param {body} body\n     * @param {number} velocity\n     */\n    Body.setAngularVelocity = function(body, velocity) {\n        var timeScale = body.deltaTime / Body._baseDelta;\n        body.anglePrev = body.angle - velocity * timeScale;\n        body.angularVelocity = (body.angle - body.anglePrev) / timeScale;\n        body.angularSpeed = Math.abs(body.angularVelocity);\n    };\n\n    /**\n     * Gets the current rotational velocity of the body.\n     * @method getAngularVelocity\n     * @param {body} body\n     * @return {number} angular velocity\n     */\n    Body.getAngularVelocity = function(body) {\n        return (body.angle - body.anglePrev) * Body._baseDelta / body.deltaTime;\n    };\n\n    /**\n     * Gets the current rotational speed of the body.  \n     * Equivalent to the magnitude of its angular velocity.\n     * @method getAngularSpeed\n     * @param {body} body\n     * @return {number} angular speed\n     */\n    Body.getAngularSpeed = function(body) {\n        return Math.abs(Body.getAngularVelocity(body));\n    };\n\n    /**\n     * Sets the current rotational speed of the body.  \n     * Direction is maintained. Affects body angular velocity.\n     * @method setAngularSpeed\n     * @param {body} body\n     * @param {number} speed\n     */\n    Body.setAngularSpeed = function(body, speed) {\n        Body.setAngularVelocity(body, Common.sign(Body.getAngularVelocity(body)) * speed);\n    };\n\n    /**\n     * Moves a body by a given vector relative to its current position. By default velocity is unchanged.\n     * If `updateVelocity` is `true` then velocity is inferred from the change in position.\n     * @method translate\n     * @param {body} body\n     * @param {vector} translation\n     * @param {boolean} [updateVelocity=false]\n     */\n    Body.translate = function(body, translation, updateVelocity) {\n        Body.setPosition(body, Vector.add(body.position, translation), updateVelocity);\n    };\n\n    /**\n     * Rotates a body by a given angle relative to its current angle. By default angular velocity is unchanged.\n     * If `updateVelocity` is `true` then angular velocity is inferred from the change in angle.\n     * @method rotate\n     * @param {body} body\n     * @param {number} rotation\n     * @param {vector} [point]\n     * @param {boolean} [updateVelocity=false]\n     */\n    Body.rotate = function(body, rotation, point, updateVelocity) {\n        if (!point) {\n            Body.setAngle(body, body.angle + rotation, updateVelocity);\n        } else {\n            var cos = Math.cos(rotation),\n                sin = Math.sin(rotation),\n                dx = body.position.x - point.x,\n                dy = body.position.y - point.y;\n                \n            Body.setPosition(body, {\n                x: point.x + (dx * cos - dy * sin),\n                y: point.y + (dx * sin + dy * cos)\n            }, updateVelocity);\n\n            Body.setAngle(body, body.angle + rotation, updateVelocity);\n        }\n    };\n\n    /**\n     * Scales the body, including updating physical properties (mass, area, axes, inertia), from a world-space point (default is body centre).\n     * @method scale\n     * @param {body} body\n     * @param {number} scaleX\n     * @param {number} scaleY\n     * @param {vector} [point]\n     */\n    Body.scale = function(body, scaleX, scaleY, point) {\n        var totalArea = 0,\n            totalInertia = 0;\n\n        point = point || body.position;\n\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n\n            // scale vertices\n            Vertices.scale(part.vertices, scaleX, scaleY, point);\n\n            // update properties\n            part.axes = Axes.fromVertices(part.vertices);\n            part.area = Vertices.area(part.vertices);\n            Body.setMass(part, body.density * part.area);\n\n            // update inertia (requires vertices to be at origin)\n            Vertices.translate(part.vertices, { x: -part.position.x, y: -part.position.y });\n            Body.setInertia(part, Body._inertiaScale * Vertices.inertia(part.vertices, part.mass));\n            Vertices.translate(part.vertices, { x: part.position.x, y: part.position.y });\n\n            if (i > 0) {\n                totalArea += part.area;\n                totalInertia += part.inertia;\n            }\n\n            // scale position\n            part.position.x = point.x + (part.position.x - point.x) * scaleX;\n            part.position.y = point.y + (part.position.y - point.y) * scaleY;\n\n            // update bounds\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n        }\n\n        // handle parent body\n        if (body.parts.length > 1) {\n            body.area = totalArea;\n\n            if (!body.isStatic) {\n                Body.setMass(body, body.density * totalArea);\n                Body.setInertia(body, totalInertia);\n            }\n        }\n\n        // handle circles\n        if (body.circleRadius) { \n            if (scaleX === scaleY) {\n                body.circleRadius *= scaleX;\n            } else {\n                // body is no longer a circle\n                body.circleRadius = null;\n            }\n        }\n    };\n\n    /**\n     * Performs an update by integrating the equations of motion on the `body`.\n     * This is applied every update by `Matter.Engine` automatically.\n     * @method update\n     * @param {body} body\n     * @param {number} [deltaTime=16.666]\n     */\n    Body.update = function(body, deltaTime) {\n        deltaTime = (typeof deltaTime !== 'undefined' ? deltaTime : (1000 / 60)) * body.timeScale;\n\n        var deltaTimeSquared = deltaTime * deltaTime,\n            correction = Body._timeCorrection ? deltaTime / (body.deltaTime || deltaTime) : 1;\n\n        // from the previous step\n        var frictionAir = 1 - body.frictionAir * (deltaTime / Common._baseDelta),\n            velocityPrevX = (body.position.x - body.positionPrev.x) * correction,\n            velocityPrevY = (body.position.y - body.positionPrev.y) * correction;\n\n        // update velocity with Verlet integration\n        body.velocity.x = (velocityPrevX * frictionAir) + (body.force.x / body.mass) * deltaTimeSquared;\n        body.velocity.y = (velocityPrevY * frictionAir) + (body.force.y / body.mass) * deltaTimeSquared;\n\n        body.positionPrev.x = body.position.x;\n        body.positionPrev.y = body.position.y;\n        body.position.x += body.velocity.x;\n        body.position.y += body.velocity.y;\n        body.deltaTime = deltaTime;\n\n        // update angular velocity with Verlet integration\n        body.angularVelocity = ((body.angle - body.anglePrev) * frictionAir * correction) + (body.torque / body.inertia) * deltaTimeSquared;\n        body.anglePrev = body.angle;\n        body.angle += body.angularVelocity;\n\n        // transform the body geometry\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n\n            Vertices.translate(part.vertices, body.velocity);\n            \n            if (i > 0) {\n                part.position.x += body.velocity.x;\n                part.position.y += body.velocity.y;\n            }\n\n            if (body.angularVelocity !== 0) {\n                Vertices.rotate(part.vertices, body.angularVelocity, body.position);\n                Axes.rotate(part.axes, body.angularVelocity);\n                if (i > 0) {\n                    Vector.rotateAbout(part.position, body.angularVelocity, body.position, part.position);\n                }\n            }\n\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n        }\n    };\n\n    /**\n     * Updates properties `body.velocity`, `body.speed`, `body.angularVelocity` and `body.angularSpeed` which are normalised in relation to `Body._baseDelta`.\n     * @method updateVelocities\n     * @param {body} body\n     */\n    Body.updateVelocities = function(body) {\n        var timeScale = Body._baseDelta / body.deltaTime,\n            bodyVelocity = body.velocity;\n\n        bodyVelocity.x = (body.position.x - body.positionPrev.x) * timeScale;\n        bodyVelocity.y = (body.position.y - body.positionPrev.y) * timeScale;\n        body.speed = Math.sqrt((bodyVelocity.x * bodyVelocity.x) + (bodyVelocity.y * bodyVelocity.y));\n\n        body.angularVelocity = (body.angle - body.anglePrev) * timeScale;\n        body.angularSpeed = Math.abs(body.angularVelocity);\n    };\n\n    /**\n     * Applies the `force` to the `body` from the force origin `position` in world-space, over a single timestep, including applying any resulting angular torque.\n     * \n     * Forces are useful for effects like gravity, wind or rocket thrust, but can be difficult in practice when precise control is needed. In these cases see `Body.setVelocity` and `Body.setPosition` as an alternative.\n     * \n     * The force from this function is only applied once for the duration of a single timestep, in other words the duration depends directly on the current engine update `delta` and the rate of calls to this function.\n     * \n     * Therefore to account for time, you should apply the force constantly over as many engine updates as equivalent to the intended duration.\n     * \n     * If all or part of the force duration is some fraction of a timestep, first multiply the force by `duration / timestep`.\n     * \n     * The force origin `position` in world-space must also be specified. Passing `body.position` will result in zero angular effect as the force origin would be at the centre of mass.\n     * \n     * The `body` will take time to accelerate under a force, the resulting effect depends on duration of the force, the body mass and other forces on the body including friction combined.\n     * @method applyForce\n     * @param {body} body\n     * @param {vector} position The force origin in world-space. Pass `body.position` to avoid angular torque.\n     * @param {vector} force\n     */\n    Body.applyForce = function(body, position, force) {\n        var offset = { x: position.x - body.position.x, y: position.y - body.position.y };\n        body.force.x += force.x;\n        body.force.y += force.y;\n        body.torque += offset.x * force.y - offset.y * force.x;\n    };\n\n    /**\n     * Returns the sums of the properties of all compound parts of the parent body.\n     * @method _totalProperties\n     * @private\n     * @param {body} body\n     * @return {}\n     */\n    Body._totalProperties = function(body) {\n        // from equations at:\n        // https://ecourses.ou.edu/cgi-bin/ebook.cgi?doc=&topic=st&chap_sec=07.2&page=theory\n        // http://output.to/sideway/default.asp?qno=121100087\n\n        var properties = {\n            mass: 0,\n            area: 0,\n            inertia: 0,\n            centre: { x: 0, y: 0 }\n        };\n\n        // sum the properties of all compound parts of the parent body\n        for (var i = body.parts.length === 1 ? 0 : 1; i < body.parts.length; i++) {\n            var part = body.parts[i],\n                mass = part.mass !== Infinity ? part.mass : 1;\n\n            properties.mass += mass;\n            properties.area += part.area;\n            properties.inertia += part.inertia;\n            properties.centre = Vector.add(properties.centre, Vector.mult(part.position, mass));\n        }\n\n        properties.centre = Vector.div(properties.centre, properties.mass);\n\n        return properties;\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired when a body starts sleeping (where `this` is the body).\n    *\n    * @event sleepStart\n    * @this {body} The body that has started sleeping\n    * @param {} event An event object\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a body ends sleeping (where `this` is the body).\n    *\n    * @event sleepEnd\n    * @this {body} The body that has ended sleeping\n    * @param {} event An event object\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` uniquely identifying number generated in `Body.create` by `Common.nextId`.\n     *\n     * @property id\n     * @type number\n     */\n\n    /**\n     * _Read only_. Set by `Body.create`.\n     * \n     * A `String` denoting the type of object.\n     *\n     * @readOnly\n     * @property type\n     * @type string\n     * @default \"body\"\n     */\n\n    /**\n     * An arbitrary `String` name to help the user identify and manage bodies.\n     *\n     * @property label\n     * @type string\n     * @default \"Body\"\n     */\n\n    /**\n     * _Read only_. Use `Body.setParts` to set. \n     * \n     * An array of bodies that make up this body. \n     * The first body in the array must always be a self reference to the current body instance.\n     * All bodies in the `parts` array together form a single rigid compound body.\n     * Parts are allowed to overlap, have gaps or holes or even form concave bodies.\n     * Parts themselves should never be added to a `World`, only the parent body should be.\n     * Use `Body.setParts` when setting parts to ensure correct updates of all properties.\n     *\n     * @readOnly\n     * @property parts\n     * @type body[]\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n    /**\n     * _Read only_. Updated by `Body.setParts`.\n     * \n     * A reference to the body that this is a part of. See `body.parts`.\n     * This is a self reference if the body is not a part of another body.\n     *\n     * @readOnly\n     * @property parent\n     * @type body\n     */\n\n    /**\n     * A `Number` specifying the angle of the body, in radians.\n     *\n     * @property angle\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * _Read only_. Use `Body.setVertices` or `Body.setParts` to set. See also `Bodies.fromVertices`.\n     * \n     * An array of `Vector` objects that specify the convex hull of the rigid body.\n     * These should be provided about the origin `(0, 0)`. E.g.\n     *\n     * `[{ x: 0, y: 0 }, { x: 25, y: 50 }, { x: 50, y: 0 }]`\n     * \n     * Vertices must always be convex, in clockwise order and must not contain any duplicate points.\n     * \n     * Concave vertices should be decomposed into convex `parts`, see `Bodies.fromVertices` and `Body.setParts`.\n     *\n     * When set the vertices are translated such that `body.position` is at the centre of mass.\n     * Many other body properties are automatically calculated from these vertices when set including `density`, `area` and `inertia`.\n     * \n     * The module `Matter.Vertices` contains useful methods for working with vertices.\n     *\n     * @readOnly\n     * @property vertices\n     * @type vector[]\n     */\n\n    /**\n     * _Read only_. Use `Body.setPosition` to set. \n     * \n     * A `Vector` that specifies the current world-space position of the body.\n     * \n     * @readOnly\n     * @property position\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Vector` that accumulates the total force applied to the body for a single update.\n     * Force is zeroed after every `Engine.update`, so constant forces should be applied for every update they are needed. See also `Body.applyForce`.\n     * \n     * @property force\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Number` that accumulates the total torque (turning force) applied to the body for a single update. See also `Body.applyForce`.\n     * Torque is zeroed after every `Engine.update`, so constant torques should be applied for every update they are needed.\n     *\n     * Torques result in angular acceleration on every update, which depends on body inertia and the engine update delta.\n     * \n     * @property torque\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * _Read only_. Use `Body.setSpeed` to set. \n     * \n     * See `Body.getSpeed` for details.\n     * \n     * Equivalent to the magnitude of `body.velocity` (always positive).\n     * \n     * @readOnly\n     * @property speed\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * _Read only_. Use `Body.setVelocity` to set. \n     * \n     * See `Body.getVelocity` for details.\n     * \n     * Equivalent to the magnitude of `body.angularVelocity` (always positive).\n     * \n     * @readOnly\n     * @property velocity\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * _Read only_. Use `Body.setAngularSpeed` to set. \n     * \n     * See `Body.getAngularSpeed` for details.\n     * \n     * \n     * @readOnly\n     * @property angularSpeed\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * _Read only_. Use `Body.setAngularVelocity` to set. \n     * \n     * See `Body.getAngularVelocity` for details.\n     * \n     *\n     * @readOnly\n     * @property angularVelocity\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * _Read only_. Use `Body.setStatic` to set. \n     * \n     * A flag that indicates whether a body is considered static. A static body can never change position or angle and is completely fixed.\n     *\n     * @readOnly\n     * @property isStatic\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag that indicates whether a body is a sensor. Sensor triggers collision events, but doesn't react with colliding body physically.\n     *\n     * @property isSensor\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * _Read only_. Use `Sleeping.set` to set. \n     * \n     * A flag that indicates whether the body is considered sleeping. A sleeping body acts similar to a static body, except it is only temporary and can be awoken.\n     *\n     * @readOnly\n     * @property isSleeping\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * _Read only_. Calculated during engine update only when sleeping is enabled.\n     * \n     * A `Number` that loosely measures the amount of movement a body currently has.\n     *\n     * Derived from `body.speed^2 + body.angularSpeed^2`. See `Sleeping.update`.\n     * \n     * @readOnly\n     * @property motion\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that defines the length of time during which this body must have near-zero velocity before it is set as sleeping by the `Matter.Sleeping` module (if sleeping is enabled by the engine).\n     * \n     * @property sleepThreshold\n     * @type number\n     * @default 60\n     */\n\n    /**\n     * _Read only_. Use `Body.setDensity` to set. \n     * \n     * A `Number` that defines the density of the body (mass per unit area).\n     * \n     * Mass will also be updated when set.\n     *\n     * @readOnly\n     * @property density\n     * @type number\n     * @default 0.001\n     */\n\n    /**\n     * _Read only_. Use `Body.setMass` to set. \n     * \n     * A `Number` that defines the mass of the body.\n     * \n     * Density will also be updated when set.\n     * \n     * @readOnly\n     * @property mass\n     * @type number\n     */\n\n    /**\n     * _Read only_. Use `Body.setMass` to set. \n     * \n     * A `Number` that defines the inverse mass of the body (`1 / mass`).\n     *\n     * @readOnly\n     * @property inverseMass\n     * @type number\n     */\n\n    /**\n     * _Read only_. Automatically calculated when vertices, mass or density are set or set through `Body.setInertia`.\n     * \n     * A `Number` that defines the moment of inertia of the body. This is the second moment of area in two dimensions.\n     * \n     * Can be manually set to `Infinity` to prevent rotation of the body. See `Body.setInertia`.\n     * \n     * @readOnly\n     * @property inertia\n     * @type number\n     */\n\n    /**\n     * _Read only_. Automatically calculated when vertices, mass or density are set or calculated by `Body.setInertia`.\n     * \n     * A `Number` that defines the inverse moment of inertia of the body (`1 / inertia`).\n     * \n     * @readOnly\n     * @property inverseInertia\n     * @type number\n     */\n\n    /**\n     * A `Number` that defines the restitution (elasticity) of the body. The value is always positive and is in the range `(0, 1)`.\n     * A value of `0` means collisions may be perfectly inelastic and no bouncing may occur. \n     * A value of `0.8` means the body may bounce back with approximately 80% of its kinetic energy.\n     * Note that collision response is based on _pairs_ of bodies, and that `restitution` values are _combined_ with the following formula:\n     *\n     * `Math.max(bodyA.restitution, bodyB.restitution)`\n     *\n     * @property restitution\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that defines the friction of the body. The value is always positive and is in the range `(0, 1)`.\n     * A value of `0` means that the body may slide indefinitely.\n     * A value of `1` means the body may come to a stop almost instantly after a force is applied.\n     *\n     * The effects of the value may be non-linear. \n     * High values may be unstable depending on the body.\n     * The engine uses a Coulomb friction model including static and kinetic friction.\n     * Note that collision response is based on _pairs_ of bodies, and that `friction` values are _combined_ with the following formula:\n     *\n     * `Math.min(bodyA.friction, bodyB.friction)`\n     *\n     * @property friction\n     * @type number\n     * @default 0.1\n     */\n\n    /**\n     * A `Number` that defines the static friction of the body (in the Coulomb friction model). \n     * A value of `0` means the body will never 'stick' when it is nearly stationary and only dynamic `friction` is used.\n     * The higher the value (e.g. `10`), the more force it will take to initially get the body moving when nearly stationary.\n     * This value is multiplied with the `friction` property to make it easier to change `friction` and maintain an appropriate amount of static friction.\n     *\n     * @property frictionStatic\n     * @type number\n     * @default 0.5\n     */\n\n    /**\n     * A `Number` that defines the air friction of the body (air resistance). \n     * A value of `0` means the body will never slow as it moves through space.\n     * The higher the value, the faster a body slows when moving through space.\n     * The effects of the value are non-linear. \n     *\n     * @property frictionAir\n     * @type number\n     * @default 0.01\n     */\n\n    /**\n     * An `Object` that specifies the collision filtering properties of this body.\n     *\n     * Collisions between two bodies will obey the following rules:\n     * - If the two bodies have the same non-zero value of `collisionFilter.group`,\n     *   they will always collide if the value is positive, and they will never collide\n     *   if the value is negative.\n     * - If the two bodies have different values of `collisionFilter.group` or if one\n     *   (or both) of the bodies has a value of 0, then the category/mask rules apply as follows:\n     *\n     * Each body belongs to a collision category, given by `collisionFilter.category`. This\n     * value is used as a bit field and the category should have only one bit set, meaning that\n     * the value of this property is a power of two in the range [1, 2^31]. Thus, there are 32\n     * different collision categories available.\n     *\n     * Each body also defines a collision bitmask, given by `collisionFilter.mask` which specifies\n     * the categories it collides with (the value is the bitwise AND value of all these categories).\n     *\n     * Using the category/mask rules, two bodies `A` and `B` collide if each includes the other's\n     * category in its mask, i.e. `(categoryA & maskB) !== 0` and `(categoryB & maskA) !== 0`\n     * are both true.\n     *\n     * @property collisionFilter\n     * @type object\n     */\n\n    /**\n     * An Integer `Number`, that specifies the collision group this body belongs to.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter.group\n     * @type object\n     * @default 0\n     */\n\n    /**\n     * A bit field that specifies the collision category this body belongs to.\n     * The category value should have only one bit set, for example `0x0001`.\n     * This means there are up to 32 unique collision categories available.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter.category\n     * @type object\n     * @default 1\n     */\n\n    /**\n     * A bit mask that specifies the collision categories this body may collide with.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter.mask\n     * @type object\n     * @default -1\n     */\n\n    /**\n     * A `Number` that specifies a thin boundary around the body where it is allowed to slightly sink into other bodies.\n     * \n     * This is required for proper collision response, including friction and restitution effects.\n     * \n     * The default should generally suffice in most cases. You may need to decrease this value for very small bodies that are nearing the default value in scale.\n     *\n     * @property slop\n     * @type number\n     * @default 0.05\n     */\n\n    /**\n     * A `Number` that specifies per-body time scaling.\n     *\n     * @property timeScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * _Read only_. Updated during engine update.\n     * \n     * A `Number` that records the last delta time value used to update this body.\n     * Used to calculate speed and velocity.\n     *\n     * @readOnly\n     * @property deltaTime\n     * @type number\n     * @default 1000 / 60\n     */\n\n    /**\n     * An `Object` that defines the rendering properties to be consumed by the module `Matter.Render`.\n     *\n     * @property render\n     * @type object\n     */\n\n    /**\n     * A flag that indicates if the body should be rendered.\n     *\n     * @property render.visible\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * Sets the opacity to use when rendering.\n     *\n     * @property render.opacity\n     * @type number\n     * @default 1\n    */\n\n    /**\n     * An `Object` that defines the sprite properties to use when rendering, if any.\n     *\n     * @property render.sprite\n     * @type object\n     */\n\n    /**\n     * An `String` that defines the path to the image to use as the sprite texture, if any.\n     *\n     * @property render.sprite.texture\n     * @type string\n     */\n     \n    /**\n     * A `Number` that defines the scaling in the x-axis for the sprite, if any.\n     *\n     * @property render.sprite.xScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A `Number` that defines the scaling in the y-axis for the sprite, if any.\n     *\n     * @property render.sprite.yScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n      * A `Number` that defines the offset in the x-axis for the sprite (normalised by texture width).\n      *\n      * @property render.sprite.xOffset\n      * @type number\n      * @default 0\n      */\n\n    /**\n      * A `Number` that defines the offset in the y-axis for the sprite (normalised by texture height).\n      *\n      * @property render.sprite.yOffset\n      * @type number\n      * @default 0\n      */\n\n    /**\n     * A `Number` that defines the line width to use when rendering the body outline (if a sprite is not defined).\n     * A value of `0` means no outline will be rendered.\n     *\n     * @property render.lineWidth\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `String` that defines the fill style to use when rendering the body (if a sprite is not defined).\n     * It is the same as when using a canvas, so it accepts CSS style property values.\n     *\n     * @property render.fillStyle\n     * @type string\n     * @default a random colour\n     */\n\n    /**\n     * A `String` that defines the stroke style to use when rendering the body outline (if a sprite is not defined).\n     * It is the same as when using a canvas, so it accepts CSS style property values.\n     *\n     * @property render.strokeStyle\n     * @type string\n     * @default a random colour\n     */\n\n    /**\n     * _Read only_. Calculated automatically when vertices are set.\n     * \n     * An array of unique axis vectors (edge normals) used for collision detection.\n     * These are automatically calculated when vertices are set.\n     * They are constantly updated by `Body.update` during the simulation.\n     *\n     * @readOnly\n     * @property axes\n     * @type vector[]\n     */\n     \n    /**\n     * _Read only_. Calculated automatically when vertices are set.\n     * \n     * A `Number` that measures the area of the body's convex hull.\n     * \n     * @readOnly\n     * @property area\n     * @type string\n     * @default \n     */\n\n    /**\n     * A `Bounds` object that defines the AABB region for the body.\n     * It is automatically calculated when vertices are set and constantly updated by `Body.update` during simulation.\n     * \n     * @property bounds\n     * @type bounds\n     */\n\n})();\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Events` module contains methods to fire and listen to events on other objects.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Events\n*/\n\nvar Events = {};\n\nmodule.exports = Events;\n\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Subscribes a callback function to the given object's `eventName`.\n     * @method on\n     * @param {} object\n     * @param {string} eventNames\n     * @param {function} callback\n     */\n    Events.on = function(object, eventNames, callback) {\n        var names = eventNames.split(' '),\n            name;\n\n        for (var i = 0; i < names.length; i++) {\n            name = names[i];\n            object.events = object.events || {};\n            object.events[name] = object.events[name] || [];\n            object.events[name].push(callback);\n        }\n\n        return callback;\n    };\n\n    /**\n     * Removes the given event callback. If no callback, clears all callbacks in `eventNames`. If no `eventNames`, clears all events.\n     * @method off\n     * @param {} object\n     * @param {string} eventNames\n     * @param {function} callback\n     */\n    Events.off = function(object, eventNames, callback) {\n        if (!eventNames) {\n            object.events = {};\n            return;\n        }\n\n        // handle Events.off(object, callback)\n        if (typeof eventNames === 'function') {\n            callback = eventNames;\n            eventNames = Common.keys(object.events).join(' ');\n        }\n\n        var names = eventNames.split(' ');\n\n        for (var i = 0; i < names.length; i++) {\n            var callbacks = object.events[names[i]],\n                newCallbacks = [];\n\n            if (callback && callbacks) {\n                for (var j = 0; j < callbacks.length; j++) {\n                    if (callbacks[j] !== callback)\n                        newCallbacks.push(callbacks[j]);\n                }\n            }\n\n            object.events[names[i]] = newCallbacks;\n        }\n    };\n\n    /**\n     * Fires all the callbacks subscribed to the given object's `eventName`, in the order they subscribed, if any.\n     * @method trigger\n     * @param {} object\n     * @param {string} eventNames\n     * @param {} event\n     */\n    Events.trigger = function(object, eventNames, event) {\n        var names,\n            name,\n            callbacks,\n            eventClone;\n\n        var events = object.events;\n        \n        if (events && Common.keys(events).length > 0) {\n            if (!event)\n                event = {};\n\n            names = eventNames.split(' ');\n\n            for (var i = 0; i < names.length; i++) {\n                name = names[i];\n                callbacks = events[name];\n\n                if (callbacks) {\n                    eventClone = Common.clone(event, false);\n                    eventClone.name = name;\n                    eventClone.source = object;\n\n                    for (var j = 0; j < callbacks.length; j++) {\n                        callbacks[j].apply(object, [eventClone]);\n                    }\n                }\n            }\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* A composite is a collection of `Matter.Body`, `Matter.Constraint` and other `Matter.Composite` objects.\n*\n* They are a container that can represent complex objects made of multiple parts, even if they are not physically connected.\n* A composite could contain anything from a single body all the way up to a whole world.\n* \n* When making any changes to composites, use the included functions rather than changing their properties directly.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Composite\n*/\n\nvar Composite = {};\n\nmodule.exports = Composite;\n\nvar Events = __webpack_require__(5);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\nvar Body = __webpack_require__(4);\n\n(function() {\n\n    /**\n     * Creates a new composite. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properites section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {} [options]\n     * @return {composite} A new composite\n     */\n    Composite.create = function(options) {\n        return Common.extend({ \n            id: Common.nextId(),\n            type: 'composite',\n            parent: null,\n            isModified: false,\n            bodies: [], \n            constraints: [], \n            composites: [],\n            label: 'Composite',\n            plugin: {},\n            cache: {\n                allBodies: null,\n                allConstraints: null,\n                allComposites: null\n            }\n        }, options);\n    };\n\n    /**\n     * Sets the composite's `isModified` flag. \n     * If `updateParents` is true, all parents will be set (default: false).\n     * If `updateChildren` is true, all children will be set (default: false).\n     * @private\n     * @method setModified\n     * @param {composite} composite\n     * @param {boolean} isModified\n     * @param {boolean} [updateParents=false]\n     * @param {boolean} [updateChildren=false]\n     */\n    Composite.setModified = function(composite, isModified, updateParents, updateChildren) {\n        composite.isModified = isModified;\n\n        if (isModified && composite.cache) {\n            composite.cache.allBodies = null;\n            composite.cache.allConstraints = null;\n            composite.cache.allComposites = null;\n        }\n\n        if (updateParents && composite.parent) {\n            Composite.setModified(composite.parent, isModified, updateParents, updateChildren);\n        }\n\n        if (updateChildren) {\n            for (var i = 0; i < composite.composites.length; i++) {\n                var childComposite = composite.composites[i];\n                Composite.setModified(childComposite, isModified, updateParents, updateChildren);\n            }\n        }\n    };\n\n    /**\n     * Generic single or multi-add function. Adds a single or an array of body(s), constraint(s) or composite(s) to the given composite.\n     * Triggers `beforeAdd` and `afterAdd` events on the `composite`.\n     * @method add\n     * @param {composite} composite\n     * @param {object|array} object A single or an array of body(s), constraint(s) or composite(s)\n     * @return {composite} The original composite with the objects added\n     */\n    Composite.add = function(composite, object) {\n        var objects = [].concat(object);\n\n        Events.trigger(composite, 'beforeAdd', { object: object });\n\n        for (var i = 0; i < objects.length; i++) {\n            var obj = objects[i];\n\n            switch (obj.type) {\n\n            case 'body':\n                // skip adding compound parts\n                if (obj.parent !== obj) {\n                    Common.warn('Composite.add: skipped adding a compound body part (you must add its parent instead)');\n                    break;\n                }\n\n                Composite.addBody(composite, obj);\n                break;\n            case 'constraint':\n                Composite.addConstraint(composite, obj);\n                break;\n            case 'composite':\n                Composite.addComposite(composite, obj);\n                break;\n            case 'mouseConstraint':\n                Composite.addConstraint(composite, obj.constraint);\n                break;\n\n            }\n        }\n\n        Events.trigger(composite, 'afterAdd', { object: object });\n\n        return composite;\n    };\n\n    /**\n     * Generic remove function. Removes one or many body(s), constraint(s) or a composite(s) to the given composite.\n     * Optionally searching its children recursively.\n     * Triggers `beforeRemove` and `afterRemove` events on the `composite`.\n     * @method remove\n     * @param {composite} composite\n     * @param {object|array} object\n     * @param {boolean} [deep=false]\n     * @return {composite} The original composite with the objects removed\n     */\n    Composite.remove = function(composite, object, deep) {\n        var objects = [].concat(object);\n\n        Events.trigger(composite, 'beforeRemove', { object: object });\n\n        for (var i = 0; i < objects.length; i++) {\n            var obj = objects[i];\n\n            switch (obj.type) {\n\n            case 'body':\n                Composite.removeBody(composite, obj, deep);\n                break;\n            case 'constraint':\n                Composite.removeConstraint(composite, obj, deep);\n                break;\n            case 'composite':\n                Composite.removeComposite(composite, obj, deep);\n                break;\n            case 'mouseConstraint':\n                Composite.removeConstraint(composite, obj.constraint);\n                break;\n\n            }\n        }\n\n        Events.trigger(composite, 'afterRemove', { object: object });\n\n        return composite;\n    };\n\n    /**\n     * Adds a composite to the given composite.\n     * @private\n     * @method addComposite\n     * @param {composite} compositeA\n     * @param {composite} compositeB\n     * @return {composite} The original compositeA with the objects from compositeB added\n     */\n    Composite.addComposite = function(compositeA, compositeB) {\n        compositeA.composites.push(compositeB);\n        compositeB.parent = compositeA;\n        Composite.setModified(compositeA, true, true, false);\n        return compositeA;\n    };\n\n    /**\n     * Removes a composite from the given composite, and optionally searching its children recursively.\n     * @private\n     * @method removeComposite\n     * @param {composite} compositeA\n     * @param {composite} compositeB\n     * @param {boolean} [deep=false]\n     * @return {composite} The original compositeA with the composite removed\n     */\n    Composite.removeComposite = function(compositeA, compositeB, deep) {\n        var position = Common.indexOf(compositeA.composites, compositeB);\n        if (position !== -1) {\n            Composite.removeCompositeAt(compositeA, position);\n        }\n\n        if (deep) {\n            for (var i = 0; i < compositeA.composites.length; i++){\n                Composite.removeComposite(compositeA.composites[i], compositeB, true);\n            }\n        }\n\n        return compositeA;\n    };\n\n    /**\n     * Removes a composite from the given composite.\n     * @private\n     * @method removeCompositeAt\n     * @param {composite} composite\n     * @param {number} position\n     * @return {composite} The original composite with the composite removed\n     */\n    Composite.removeCompositeAt = function(composite, position) {\n        composite.composites.splice(position, 1);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Adds a body to the given composite.\n     * @private\n     * @method addBody\n     * @param {composite} composite\n     * @param {body} body\n     * @return {composite} The original composite with the body added\n     */\n    Composite.addBody = function(composite, body) {\n        composite.bodies.push(body);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Removes a body from the given composite, and optionally searching its children recursively.\n     * @private\n     * @method removeBody\n     * @param {composite} composite\n     * @param {body} body\n     * @param {boolean} [deep=false]\n     * @return {composite} The original composite with the body removed\n     */\n    Composite.removeBody = function(composite, body, deep) {\n        var position = Common.indexOf(composite.bodies, body);\n        if (position !== -1) {\n            Composite.removeBodyAt(composite, position);\n        }\n\n        if (deep) {\n            for (var i = 0; i < composite.composites.length; i++){\n                Composite.removeBody(composite.composites[i], body, true);\n            }\n        }\n\n        return composite;\n    };\n\n    /**\n     * Removes a body from the given composite.\n     * @private\n     * @method removeBodyAt\n     * @param {composite} composite\n     * @param {number} position\n     * @return {composite} The original composite with the body removed\n     */\n    Composite.removeBodyAt = function(composite, position) {\n        composite.bodies.splice(position, 1);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Adds a constraint to the given composite.\n     * @private\n     * @method addConstraint\n     * @param {composite} composite\n     * @param {constraint} constraint\n     * @return {composite} The original composite with the constraint added\n     */\n    Composite.addConstraint = function(composite, constraint) {\n        composite.constraints.push(constraint);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Removes a constraint from the given composite, and optionally searching its children recursively.\n     * @private\n     * @method removeConstraint\n     * @param {composite} composite\n     * @param {constraint} constraint\n     * @param {boolean} [deep=false]\n     * @return {composite} The original composite with the constraint removed\n     */\n    Composite.removeConstraint = function(composite, constraint, deep) {\n        var position = Common.indexOf(composite.constraints, constraint);\n        if (position !== -1) {\n            Composite.removeConstraintAt(composite, position);\n        }\n\n        if (deep) {\n            for (var i = 0; i < composite.composites.length; i++){\n                Composite.removeConstraint(composite.composites[i], constraint, true);\n            }\n        }\n\n        return composite;\n    };\n\n    /**\n     * Removes a body from the given composite.\n     * @private\n     * @method removeConstraintAt\n     * @param {composite} composite\n     * @param {number} position\n     * @return {composite} The original composite with the constraint removed\n     */\n    Composite.removeConstraintAt = function(composite, position) {\n        composite.constraints.splice(position, 1);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Removes all bodies, constraints and composites from the given composite.\n     * Optionally clearing its children recursively.\n     * @method clear\n     * @param {composite} composite\n     * @param {boolean} keepStatic\n     * @param {boolean} [deep=false]\n     */\n    Composite.clear = function(composite, keepStatic, deep) {\n        if (deep) {\n            for (var i = 0; i < composite.composites.length; i++){\n                Composite.clear(composite.composites[i], keepStatic, true);\n            }\n        }\n        \n        if (keepStatic) {\n            composite.bodies = composite.bodies.filter(function(body) { return body.isStatic; });\n        } else {\n            composite.bodies.length = 0;\n        }\n\n        composite.constraints.length = 0;\n        composite.composites.length = 0;\n\n        Composite.setModified(composite, true, true, false);\n\n        return composite;\n    };\n\n    /**\n     * Returns all bodies in the given composite, including all bodies in its children, recursively.\n     * @method allBodies\n     * @param {composite} composite\n     * @return {body[]} All the bodies\n     */\n    Composite.allBodies = function(composite) {\n        if (composite.cache && composite.cache.allBodies) {\n            return composite.cache.allBodies;\n        }\n\n        var bodies = [].concat(composite.bodies);\n\n        for (var i = 0; i < composite.composites.length; i++)\n            bodies = bodies.concat(Composite.allBodies(composite.composites[i]));\n\n        if (composite.cache) {\n            composite.cache.allBodies = bodies;\n        }\n\n        return bodies;\n    };\n\n    /**\n     * Returns all constraints in the given composite, including all constraints in its children, recursively.\n     * @method allConstraints\n     * @param {composite} composite\n     * @return {constraint[]} All the constraints\n     */\n    Composite.allConstraints = function(composite) {\n        if (composite.cache && composite.cache.allConstraints) {\n            return composite.cache.allConstraints;\n        }\n\n        var constraints = [].concat(composite.constraints);\n\n        for (var i = 0; i < composite.composites.length; i++)\n            constraints = constraints.concat(Composite.allConstraints(composite.composites[i]));\n\n        if (composite.cache) {\n            composite.cache.allConstraints = constraints;\n        }\n\n        return constraints;\n    };\n\n    /**\n     * Returns all composites in the given composite, including all composites in its children, recursively.\n     * @method allComposites\n     * @param {composite} composite\n     * @return {composite[]} All the composites\n     */\n    Composite.allComposites = function(composite) {\n        if (composite.cache && composite.cache.allComposites) {\n            return composite.cache.allComposites;\n        }\n\n        var composites = [].concat(composite.composites);\n\n        for (var i = 0; i < composite.composites.length; i++)\n            composites = composites.concat(Composite.allComposites(composite.composites[i]));\n\n        if (composite.cache) {\n            composite.cache.allComposites = composites;\n        }\n\n        return composites;\n    };\n\n    /**\n     * Searches the composite recursively for an object matching the type and id supplied, null if not found.\n     * @method get\n     * @param {composite} composite\n     * @param {number} id\n     * @param {string} type\n     * @return {object} The requested object, if found\n     */\n    Composite.get = function(composite, id, type) {\n        var objects,\n            object;\n\n        switch (type) {\n        case 'body':\n            objects = Composite.allBodies(composite);\n            break;\n        case 'constraint':\n            objects = Composite.allConstraints(composite);\n            break;\n        case 'composite':\n            objects = Composite.allComposites(composite).concat(composite);\n            break;\n        }\n\n        if (!objects)\n            return null;\n\n        object = objects.filter(function(object) { \n            return object.id.toString() === id.toString(); \n        });\n\n        return object.length === 0 ? null : object[0];\n    };\n\n    /**\n     * Moves the given object(s) from compositeA to compositeB (equal to a remove followed by an add).\n     * @method move\n     * @param {compositeA} compositeA\n     * @param {object[]} objects\n     * @param {compositeB} compositeB\n     * @return {composite} Returns compositeA\n     */\n    Composite.move = function(compositeA, objects, compositeB) {\n        Composite.remove(compositeA, objects);\n        Composite.add(compositeB, objects);\n        return compositeA;\n    };\n\n    /**\n     * Assigns new ids for all objects in the composite, recursively.\n     * @method rebase\n     * @param {composite} composite\n     * @return {composite} Returns composite\n     */\n    Composite.rebase = function(composite) {\n        var objects = Composite.allBodies(composite)\n            .concat(Composite.allConstraints(composite))\n            .concat(Composite.allComposites(composite));\n\n        for (var i = 0; i < objects.length; i++) {\n            objects[i].id = Common.nextId();\n        }\n\n        return composite;\n    };\n\n    /**\n     * Translates all children in the composite by a given vector relative to their current positions, \n     * without imparting any velocity.\n     * @method translate\n     * @param {composite} composite\n     * @param {vector} translation\n     * @param {bool} [recursive=true]\n     */\n    Composite.translate = function(composite, translation, recursive) {\n        var bodies = recursive ? Composite.allBodies(composite) : composite.bodies;\n\n        for (var i = 0; i < bodies.length; i++) {\n            Body.translate(bodies[i], translation);\n        }\n\n        return composite;\n    };\n\n    /**\n     * Rotates all children in the composite by a given angle about the given point, without imparting any angular velocity.\n     * @method rotate\n     * @param {composite} composite\n     * @param {number} rotation\n     * @param {vector} point\n     * @param {bool} [recursive=true]\n     */\n    Composite.rotate = function(composite, rotation, point, recursive) {\n        var cos = Math.cos(rotation),\n            sin = Math.sin(rotation),\n            bodies = recursive ? Composite.allBodies(composite) : composite.bodies;\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                dx = body.position.x - point.x,\n                dy = body.position.y - point.y;\n                \n            Body.setPosition(body, {\n                x: point.x + (dx * cos - dy * sin),\n                y: point.y + (dx * sin + dy * cos)\n            });\n\n            Body.rotate(body, rotation);\n        }\n\n        return composite;\n    };\n\n    /**\n     * Scales all children in the composite, including updating physical properties (mass, area, axes, inertia), from a world-space point.\n     * @method scale\n     * @param {composite} composite\n     * @param {number} scaleX\n     * @param {number} scaleY\n     * @param {vector} point\n     * @param {bool} [recursive=true]\n     */\n    Composite.scale = function(composite, scaleX, scaleY, point, recursive) {\n        var bodies = recursive ? Composite.allBodies(composite) : composite.bodies;\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                dx = body.position.x - point.x,\n                dy = body.position.y - point.y;\n                \n            Body.setPosition(body, {\n                x: point.x + dx * scaleX,\n                y: point.y + dy * scaleY\n            });\n\n            Body.scale(body, scaleX, scaleY);\n        }\n\n        return composite;\n    };\n\n    /**\n     * Returns the union of the bounds of all of the composite's bodies.\n     * @method bounds\n     * @param {composite} composite The composite.\n     * @returns {bounds} The composite bounds.\n     */\n    Composite.bounds = function(composite) {\n        var bodies = Composite.allBodies(composite),\n            vertices = [];\n\n        for (var i = 0; i < bodies.length; i += 1) {\n            var body = bodies[i];\n            vertices.push(body.bounds.min, body.bounds.max);\n        }\n\n        return Bounds.create(vertices);\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired when a call to `Composite.add` is made, before objects have been added.\n    *\n    * @event beforeAdd\n    * @param {} event An event object\n    * @param {} event.object The object(s) to be added (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a call to `Composite.add` is made, after objects have been added.\n    *\n    * @event afterAdd\n    * @param {} event An event object\n    * @param {} event.object The object(s) that have been added (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a call to `Composite.remove` is made, before objects have been removed.\n    *\n    * @event beforeRemove\n    * @param {} event An event object\n    * @param {} event.object The object(s) to be removed (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a call to `Composite.remove` is made, after objects have been removed.\n    *\n    * @event afterRemove\n    * @param {} event An event object\n    * @param {} event.object The object(s) that have been removed (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` uniquely identifying number generated in `Composite.create` by `Common.nextId`.\n     *\n     * @property id\n     * @type number\n     */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"composite\"\n     * @readOnly\n     */\n\n    /**\n     * An arbitrary `String` name to help the user identify and manage composites.\n     *\n     * @property label\n     * @type string\n     * @default \"Composite\"\n     */\n\n    /**\n     * A flag that specifies whether the composite has been modified during the current step.\n     * This is automatically managed when bodies, constraints or composites are added or removed.\n     *\n     * @property isModified\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * The `Composite` that is the parent of this composite. It is automatically managed by the `Matter.Composite` methods.\n     *\n     * @property parent\n     * @type composite\n     * @default null\n     */\n\n    /**\n     * An array of `Body` that are _direct_ children of this composite.\n     * To add or remove bodies you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.\n     * If you wish to recursively find all descendants, you should use the `Composite.allBodies` method.\n     *\n     * @property bodies\n     * @type body[]\n     * @default []\n     */\n\n    /**\n     * An array of `Constraint` that are _direct_ children of this composite.\n     * To add or remove constraints you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.\n     * If you wish to recursively find all descendants, you should use the `Composite.allConstraints` method.\n     *\n     * @property constraints\n     * @type constraint[]\n     * @default []\n     */\n\n    /**\n     * An array of `Composite` that are _direct_ children of this composite.\n     * To add or remove composites you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.\n     * If you wish to recursively find all descendants, you should use the `Composite.allComposites` method.\n     *\n     * @property composites\n     * @type composite[]\n     * @default []\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n    /**\n     * An object used for storing cached results for performance reasons.\n     * This is used internally only and is automatically managed.\n     *\n     * @private\n     * @property cache\n     * @type {}\n     */\n\n})();\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Sleeping` module contains methods to manage the sleeping state of bodies.\n*\n* @class Sleeping\n*/\n\nvar Sleeping = {};\n\nmodule.exports = Sleeping;\n\nvar Body = __webpack_require__(4);\nvar Events = __webpack_require__(5);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    Sleeping._motionWakeThreshold = 0.18;\n    Sleeping._motionSleepThreshold = 0.08;\n    Sleeping._minBias = 0.9;\n\n    /**\n     * Puts bodies to sleep or wakes them up depending on their motion.\n     * @method update\n     * @param {body[]} bodies\n     * @param {number} delta\n     */\n    Sleeping.update = function(bodies, delta) {\n        var timeScale = delta / Common._baseDelta,\n            motionSleepThreshold = Sleeping._motionSleepThreshold;\n        \n        // update bodies sleeping status\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                speed = Body.getSpeed(body),\n                angularSpeed = Body.getAngularSpeed(body),\n                motion = speed * speed + angularSpeed * angularSpeed;\n\n            // wake up bodies if they have a force applied\n            if (body.force.x !== 0 || body.force.y !== 0) {\n                Sleeping.set(body, false);\n                continue;\n            }\n\n            var minMotion = Math.min(body.motion, motion),\n                maxMotion = Math.max(body.motion, motion);\n        \n            // biased average motion estimation between frames\n            body.motion = Sleeping._minBias * minMotion + (1 - Sleeping._minBias) * maxMotion;\n\n            if (body.sleepThreshold > 0 && body.motion < motionSleepThreshold) {\n                body.sleepCounter += 1;\n                \n                if (body.sleepCounter >= body.sleepThreshold / timeScale) {\n                    Sleeping.set(body, true);\n                }\n            } else if (body.sleepCounter > 0) {\n                body.sleepCounter -= 1;\n            }\n        }\n    };\n\n    /**\n     * Given a set of colliding pairs, wakes the sleeping bodies involved.\n     * @method afterCollisions\n     * @param {pair[]} pairs\n     */\n    Sleeping.afterCollisions = function(pairs) {\n        var motionSleepThreshold = Sleeping._motionSleepThreshold;\n\n        // wake up bodies involved in collisions\n        for (var i = 0; i < pairs.length; i++) {\n            var pair = pairs[i];\n            \n            // don't wake inactive pairs\n            if (!pair.isActive)\n                continue;\n\n            var collision = pair.collision,\n                bodyA = collision.bodyA.parent, \n                bodyB = collision.bodyB.parent;\n        \n            // don't wake if at least one body is static\n            if ((bodyA.isSleeping && bodyB.isSleeping) || bodyA.isStatic || bodyB.isStatic)\n                continue;\n        \n            if (bodyA.isSleeping || bodyB.isSleeping) {\n                var sleepingBody = (bodyA.isSleeping && !bodyA.isStatic) ? bodyA : bodyB,\n                    movingBody = sleepingBody === bodyA ? bodyB : bodyA;\n\n                if (!sleepingBody.isStatic && movingBody.motion > motionSleepThreshold) {\n                    Sleeping.set(sleepingBody, false);\n                }\n            }\n        }\n    };\n  \n    /**\n     * Set a body as sleeping or awake.\n     * @method set\n     * @param {body} body\n     * @param {boolean} isSleeping\n     */\n    Sleeping.set = function(body, isSleeping) {\n        var wasSleeping = body.isSleeping;\n\n        if (isSleeping) {\n            body.isSleeping = true;\n            body.sleepCounter = body.sleepThreshold;\n\n            body.positionImpulse.x = 0;\n            body.positionImpulse.y = 0;\n\n            body.positionPrev.x = body.position.x;\n            body.positionPrev.y = body.position.y;\n\n            body.anglePrev = body.angle;\n            body.speed = 0;\n            body.angularSpeed = 0;\n            body.motion = 0;\n\n            if (!wasSleeping) {\n                Events.trigger(body, 'sleepStart');\n            }\n        } else {\n            body.isSleeping = false;\n            body.sleepCounter = 0;\n\n            if (wasSleeping) {\n                Events.trigger(body, 'sleepEnd');\n            }\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Collision` module contains methods for detecting collisions between a given pair of bodies.\n*\n* For efficient detection between a list of bodies, see `Matter.Detector` and `Matter.Query`.\n*\n* See `Matter.Engine` for collision events.\n*\n* @class Collision\n*/\n\nvar Collision = {};\n\nmodule.exports = Collision;\n\nvar Vertices = __webpack_require__(3);\nvar Pair = __webpack_require__(9);\n\n(function() {\n    var _supports = [];\n\n    var _overlapAB = {\n        overlap: 0,\n        axis: null\n    };\n\n    var _overlapBA = {\n        overlap: 0,\n        axis: null\n    };\n\n    /**\n     * Creates a new collision record.\n     * @method create\n     * @param {body} bodyA The first body part represented by the collision record\n     * @param {body} bodyB The second body part represented by the collision record\n     * @return {collision} A new collision record\n     */\n    Collision.create = function(bodyA, bodyB) {\n        return { \n            pair: null,\n            collided: false,\n            bodyA: bodyA,\n            bodyB: bodyB,\n            parentA: bodyA.parent,\n            parentB: bodyB.parent,\n            depth: 0,\n            normal: { x: 0, y: 0 },\n            tangent: { x: 0, y: 0 },\n            penetration: { x: 0, y: 0 },\n            supports: []\n        };\n    };\n\n    /**\n     * Detect collision between two bodies.\n     * @method collides\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @param {pairs} [pairs] Optionally reuse collision records from existing pairs.\n     * @return {collision|null} A collision record if detected, otherwise null\n     */\n    Collision.collides = function(bodyA, bodyB, pairs) {\n        Collision._overlapAxes(_overlapAB, bodyA.vertices, bodyB.vertices, bodyA.axes);\n\n        if (_overlapAB.overlap <= 0) {\n            return null;\n        }\n\n        Collision._overlapAxes(_overlapBA, bodyB.vertices, bodyA.vertices, bodyB.axes);\n\n        if (_overlapBA.overlap <= 0) {\n            return null;\n        }\n\n        // reuse collision records for gc efficiency\n        var pair = pairs && pairs.table[Pair.id(bodyA, bodyB)],\n            collision;\n\n        if (!pair) {\n            collision = Collision.create(bodyA, bodyB);\n            collision.collided = true;\n            collision.bodyA = bodyA.id < bodyB.id ? bodyA : bodyB;\n            collision.bodyB = bodyA.id < bodyB.id ? bodyB : bodyA;\n            collision.parentA = collision.bodyA.parent;\n            collision.parentB = collision.bodyB.parent;\n        } else {\n            collision = pair.collision;\n        }\n\n        bodyA = collision.bodyA;\n        bodyB = collision.bodyB;\n\n        var minOverlap;\n\n        if (_overlapAB.overlap < _overlapBA.overlap) {\n            minOverlap = _overlapAB;\n        } else {\n            minOverlap = _overlapBA;\n        }\n\n        var normal = collision.normal,\n            supports = collision.supports,\n            minAxis = minOverlap.axis,\n            minAxisX = minAxis.x,\n            minAxisY = minAxis.y;\n\n        // ensure normal is facing away from bodyA\n        if (minAxisX * (bodyB.position.x - bodyA.position.x) + minAxisY * (bodyB.position.y - bodyA.position.y) < 0) {\n            normal.x = minAxisX;\n            normal.y = minAxisY;\n        } else {\n            normal.x = -minAxisX;\n            normal.y = -minAxisY;\n        }\n        \n        collision.tangent.x = -normal.y;\n        collision.tangent.y = normal.x;\n\n        collision.depth = minOverlap.overlap;\n\n        collision.penetration.x = normal.x * collision.depth;\n        collision.penetration.y = normal.y * collision.depth;\n\n        // find support points, there is always either exactly one or two\n        var supportsB = Collision._findSupports(bodyA, bodyB, normal, 1),\n            supportCount = 0;\n\n        // find the supports from bodyB that are inside bodyA\n        if (Vertices.contains(bodyA.vertices, supportsB[0])) {\n            supports[supportCount++] = supportsB[0];\n        }\n\n        if (Vertices.contains(bodyA.vertices, supportsB[1])) {\n            supports[supportCount++] = supportsB[1];\n        }\n\n        // find the supports from bodyA that are inside bodyB\n        if (supportCount < 2) {\n            var supportsA = Collision._findSupports(bodyB, bodyA, normal, -1);\n\n            if (Vertices.contains(bodyB.vertices, supportsA[0])) {\n                supports[supportCount++] = supportsA[0];\n            }\n\n            if (supportCount < 2 && Vertices.contains(bodyB.vertices, supportsA[1])) {\n                supports[supportCount++] = supportsA[1];\n            }\n        }\n\n        // account for the edge case of overlapping but no vertex containment\n        if (supportCount === 0) {\n            supports[supportCount++] = supportsB[0];\n        }\n\n        // update supports array size\n        supports.length = supportCount;\n\n        return collision;\n    };\n\n    /**\n     * Find the overlap between two sets of vertices.\n     * @method _overlapAxes\n     * @private\n     * @param {object} result\n     * @param {vertices} verticesA\n     * @param {vertices} verticesB\n     * @param {axes} axes\n     */\n    Collision._overlapAxes = function(result, verticesA, verticesB, axes) {\n        var verticesALength = verticesA.length,\n            verticesBLength = verticesB.length,\n            verticesAX = verticesA[0].x,\n            verticesAY = verticesA[0].y,\n            verticesBX = verticesB[0].x,\n            verticesBY = verticesB[0].y,\n            axesLength = axes.length,\n            overlapMin = Number.MAX_VALUE,\n            overlapAxisNumber = 0,\n            overlap,\n            overlapAB,\n            overlapBA,\n            dot,\n            i,\n            j;\n\n        for (i = 0; i < axesLength; i++) {\n            var axis = axes[i],\n                axisX = axis.x,\n                axisY = axis.y,\n                minA = verticesAX * axisX + verticesAY * axisY,\n                minB = verticesBX * axisX + verticesBY * axisY,\n                maxA = minA,\n                maxB = minB;\n            \n            for (j = 1; j < verticesALength; j += 1) {\n                dot = verticesA[j].x * axisX + verticesA[j].y * axisY;\n\n                if (dot > maxA) { \n                    maxA = dot;\n                } else if (dot < minA) { \n                    minA = dot;\n                }\n            }\n\n            for (j = 1; j < verticesBLength; j += 1) {\n                dot = verticesB[j].x * axisX + verticesB[j].y * axisY;\n\n                if (dot > maxB) { \n                    maxB = dot;\n                } else if (dot < minB) { \n                    minB = dot;\n                }\n            }\n\n            overlapAB = maxA - minB;\n            overlapBA = maxB - minA;\n            overlap = overlapAB < overlapBA ? overlapAB : overlapBA;\n\n            if (overlap < overlapMin) {\n                overlapMin = overlap;\n                overlapAxisNumber = i;\n\n                if (overlap <= 0) {\n                    // can not be intersecting\n                    break;\n                }\n            } \n        }\n\n        result.axis = axes[overlapAxisNumber];\n        result.overlap = overlapMin;\n    };\n\n    /**\n     * Projects vertices on an axis and returns an interval.\n     * @method _projectToAxis\n     * @private\n     * @param {} projection\n     * @param {} vertices\n     * @param {} axis\n     */\n    Collision._projectToAxis = function(projection, vertices, axis) {\n        var min = vertices[0].x * axis.x + vertices[0].y * axis.y,\n            max = min;\n\n        for (var i = 1; i < vertices.length; i += 1) {\n            var dot = vertices[i].x * axis.x + vertices[i].y * axis.y;\n\n            if (dot > max) { \n                max = dot; \n            } else if (dot < min) { \n                min = dot; \n            }\n        }\n\n        projection.min = min;\n        projection.max = max;\n    };\n\n    /**\n     * Finds supporting vertices given two bodies along a given direction using hill-climbing.\n     * @method _findSupports\n     * @private\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @param {vector} normal\n     * @param {number} direction\n     * @return [vector]\n     */\n    Collision._findSupports = function(bodyA, bodyB, normal, direction) {\n        var vertices = bodyB.vertices,\n            verticesLength = vertices.length,\n            bodyAPositionX = bodyA.position.x,\n            bodyAPositionY = bodyA.position.y,\n            normalX = normal.x * direction,\n            normalY = normal.y * direction,\n            nearestDistance = Number.MAX_VALUE,\n            vertexA,\n            vertexB,\n            vertexC,\n            distance,\n            j;\n\n        // find deepest vertex relative to the axis\n        for (j = 0; j < verticesLength; j += 1) {\n            vertexB = vertices[j];\n            distance = normalX * (bodyAPositionX - vertexB.x) + normalY * (bodyAPositionY - vertexB.y);\n\n            // convex hill-climbing\n            if (distance < nearestDistance) {\n                nearestDistance = distance;\n                vertexA = vertexB;\n            }\n        }\n\n        // measure next vertex\n        vertexC = vertices[(verticesLength + vertexA.index - 1) % verticesLength];\n        nearestDistance = normalX * (bodyAPositionX - vertexC.x) + normalY * (bodyAPositionY - vertexC.y);\n\n        // compare with previous vertex\n        vertexB = vertices[(vertexA.index + 1) % verticesLength];\n        if (normalX * (bodyAPositionX - vertexB.x) + normalY * (bodyAPositionY - vertexB.y) < nearestDistance) {\n            _supports[0] = vertexA;\n            _supports[1] = vertexB;\n\n            return _supports;\n        }\n\n        _supports[0] = vertexA;\n        _supports[1] = vertexC;\n\n        return _supports;\n    };\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A reference to the pair using this collision record, if there is one.\n     *\n     * @property pair\n     * @type {pair|null}\n     * @default null\n     */\n\n    /**\n     * A flag that indicates if the bodies were colliding when the collision was last updated.\n     * \n     * @property collided\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * The first body part represented by the collision (see also `collision.parentA`).\n     * \n     * @property bodyA\n     * @type body\n     */\n\n    /**\n     * The second body part represented by the collision (see also `collision.parentB`).\n     * \n     * @property bodyB\n     * @type body\n     */\n\n    /**\n     * The first body represented by the collision (i.e. `collision.bodyA.parent`).\n     * \n     * @property parentA\n     * @type body\n     */\n\n    /**\n     * The second body represented by the collision (i.e. `collision.bodyB.parent`).\n     * \n     * @property parentB\n     * @type body\n     */\n\n    /**\n     * A `Number` that represents the minimum separating distance between the bodies along the collision normal.\n     *\n     * @readOnly\n     * @property depth\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A normalised `Vector` that represents the direction between the bodies that provides the minimum separating distance.\n     *\n     * @property normal\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A normalised `Vector` that is the tangent direction to the collision normal.\n     *\n     * @property tangent\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Vector` that represents the direction and depth of the collision.\n     *\n     * @property penetration\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * An array of body vertices that represent the support points in the collision.\n     * These are the deepest vertices (along the collision normal) of each body that are contained by the other body's vertices.\n     *\n     * @property supports\n     * @type vector[]\n     * @default []\n     */\n\n})();\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Pair` module contains methods for creating and manipulating collision pairs.\n*\n* @class Pair\n*/\n\nvar Pair = {};\n\nmodule.exports = Pair;\n\nvar Contact = __webpack_require__(16);\n\n(function() {\n    \n    /**\n     * Creates a pair.\n     * @method create\n     * @param {collision} collision\n     * @param {number} timestamp\n     * @return {pair} A new pair\n     */\n    Pair.create = function(collision, timestamp) {\n        var bodyA = collision.bodyA,\n            bodyB = collision.bodyB;\n\n        var pair = {\n            id: Pair.id(bodyA, bodyB),\n            bodyA: bodyA,\n            bodyB: bodyB,\n            collision: collision,\n            contacts: [],\n            activeContacts: [],\n            separation: 0,\n            isActive: true,\n            confirmedActive: true,\n            isSensor: bodyA.isSensor || bodyB.isSensor,\n            timeCreated: timestamp,\n            timeUpdated: timestamp,\n            inverseMass: 0,\n            friction: 0,\n            frictionStatic: 0,\n            restitution: 0,\n            slop: 0\n        };\n\n        Pair.update(pair, collision, timestamp);\n\n        return pair;\n    };\n\n    /**\n     * Updates a pair given a collision.\n     * @method update\n     * @param {pair} pair\n     * @param {collision} collision\n     * @param {number} timestamp\n     */\n    Pair.update = function(pair, collision, timestamp) {\n        var contacts = pair.contacts,\n            supports = collision.supports,\n            activeContacts = pair.activeContacts,\n            parentA = collision.parentA,\n            parentB = collision.parentB,\n            parentAVerticesLength = parentA.vertices.length;\n        \n        pair.isActive = true;\n        pair.timeUpdated = timestamp;\n        pair.collision = collision;\n        pair.separation = collision.depth;\n        pair.inverseMass = parentA.inverseMass + parentB.inverseMass;\n        pair.friction = parentA.friction < parentB.friction ? parentA.friction : parentB.friction;\n        pair.frictionStatic = parentA.frictionStatic > parentB.frictionStatic ? parentA.frictionStatic : parentB.frictionStatic;\n        pair.restitution = parentA.restitution > parentB.restitution ? parentA.restitution : parentB.restitution;\n        pair.slop = parentA.slop > parentB.slop ? parentA.slop : parentB.slop;\n\n        collision.pair = pair;\n        activeContacts.length = 0;\n        \n        for (var i = 0; i < supports.length; i++) {\n            var support = supports[i],\n                contactId = support.body === parentA ? support.index : parentAVerticesLength + support.index,\n                contact = contacts[contactId];\n\n            if (contact) {\n                activeContacts.push(contact);\n            } else {\n                activeContacts.push(contacts[contactId] = Contact.create(support));\n            }\n        }\n    };\n    \n    /**\n     * Set a pair as active or inactive.\n     * @method setActive\n     * @param {pair} pair\n     * @param {bool} isActive\n     * @param {number} timestamp\n     */\n    Pair.setActive = function(pair, isActive, timestamp) {\n        if (isActive) {\n            pair.isActive = true;\n            pair.timeUpdated = timestamp;\n        } else {\n            pair.isActive = false;\n            pair.activeContacts.length = 0;\n        }\n    };\n\n    /**\n     * Get the id for the given pair.\n     * @method id\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @return {string} Unique pairId\n     */\n    Pair.id = function(bodyA, bodyB) {\n        if (bodyA.id < bodyB.id) {\n            return 'A' + bodyA.id + 'B' + bodyB.id;\n        } else {\n            return 'A' + bodyB.id + 'B' + bodyA.id;\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Constraint` module contains methods for creating and manipulating constraints.\n* Constraints are used for specifying that a fixed distance must be maintained between two bodies (or a body and a fixed world-space position).\n* The stiffness of constraints can be modified to create springs or elastic.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Constraint\n*/\n\nvar Constraint = {};\n\nmodule.exports = Constraint;\n\nvar Vertices = __webpack_require__(3);\nvar Vector = __webpack_require__(2);\nvar Sleeping = __webpack_require__(7);\nvar Bounds = __webpack_require__(1);\nvar Axes = __webpack_require__(11);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    Constraint._warming = 0.4;\n    Constraint._torqueDampen = 1;\n    Constraint._minLength = 0.000001;\n\n    /**\n     * Creates a new constraint.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * To simulate a revolute constraint (or pin joint) set `length: 0` and a high `stiffness` value (e.g. `0.7` or above).\n     * If the constraint is unstable, try lowering the `stiffness` value and / or increasing `engine.constraintIterations`.\n     * For compound bodies, constraints must be applied to the parent body (not one of its parts).\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {} options\n     * @return {constraint} constraint\n     */\n    Constraint.create = function(options) {\n        var constraint = options;\n\n        // if bodies defined but no points, use body centre\n        if (constraint.bodyA && !constraint.pointA)\n            constraint.pointA = { x: 0, y: 0 };\n        if (constraint.bodyB && !constraint.pointB)\n            constraint.pointB = { x: 0, y: 0 };\n\n        // calculate static length using initial world space points\n        var initialPointA = constraint.bodyA ? Vector.add(constraint.bodyA.position, constraint.pointA) : constraint.pointA,\n            initialPointB = constraint.bodyB ? Vector.add(constraint.bodyB.position, constraint.pointB) : constraint.pointB,\n            length = Vector.magnitude(Vector.sub(initialPointA, initialPointB));\n    \n        constraint.length = typeof constraint.length !== 'undefined' ? constraint.length : length;\n\n        // option defaults\n        constraint.id = constraint.id || Common.nextId();\n        constraint.label = constraint.label || 'Constraint';\n        constraint.type = 'constraint';\n        constraint.stiffness = constraint.stiffness || (constraint.length > 0 ? 1 : 0.7);\n        constraint.damping = constraint.damping || 0;\n        constraint.angularStiffness = constraint.angularStiffness || 0;\n        constraint.angleA = constraint.bodyA ? constraint.bodyA.angle : constraint.angleA;\n        constraint.angleB = constraint.bodyB ? constraint.bodyB.angle : constraint.angleB;\n        constraint.plugin = {};\n\n        // render\n        var render = {\n            visible: true,\n            lineWidth: 2,\n            strokeStyle: '#ffffff',\n            type: 'line',\n            anchors: true\n        };\n\n        if (constraint.length === 0 && constraint.stiffness > 0.1) {\n            render.type = 'pin';\n            render.anchors = false;\n        } else if (constraint.stiffness < 0.9) {\n            render.type = 'spring';\n        }\n\n        constraint.render = Common.extend(render, constraint.render);\n\n        return constraint;\n    };\n\n    /**\n     * Prepares for solving by constraint warming.\n     * @private\n     * @method preSolveAll\n     * @param {body[]} bodies\n     */\n    Constraint.preSolveAll = function(bodies) {\n        for (var i = 0; i < bodies.length; i += 1) {\n            var body = bodies[i],\n                impulse = body.constraintImpulse;\n\n            if (body.isStatic || (impulse.x === 0 && impulse.y === 0 && impulse.angle === 0)) {\n                continue;\n            }\n\n            body.position.x += impulse.x;\n            body.position.y += impulse.y;\n            body.angle += impulse.angle;\n        }\n    };\n\n    /**\n     * Solves all constraints in a list of collisions.\n     * @private\n     * @method solveAll\n     * @param {constraint[]} constraints\n     * @param {number} delta\n     */\n    Constraint.solveAll = function(constraints, delta) {\n        var timeScale = Common.clamp(delta / Common._baseDelta, 0, 1);\n\n        // Solve fixed constraints first.\n        for (var i = 0; i < constraints.length; i += 1) {\n            var constraint = constraints[i],\n                fixedA = !constraint.bodyA || (constraint.bodyA && constraint.bodyA.isStatic),\n                fixedB = !constraint.bodyB || (constraint.bodyB && constraint.bodyB.isStatic);\n\n            if (fixedA || fixedB) {\n                Constraint.solve(constraints[i], timeScale);\n            }\n        }\n\n        // Solve free constraints last.\n        for (i = 0; i < constraints.length; i += 1) {\n            constraint = constraints[i];\n            fixedA = !constraint.bodyA || (constraint.bodyA && constraint.bodyA.isStatic);\n            fixedB = !constraint.bodyB || (constraint.bodyB && constraint.bodyB.isStatic);\n\n            if (!fixedA && !fixedB) {\n                Constraint.solve(constraints[i], timeScale);\n            }\n        }\n    };\n\n    /**\n     * Solves a distance constraint with Gauss-Siedel method.\n     * @private\n     * @method solve\n     * @param {constraint} constraint\n     * @param {number} timeScale\n     */\n    Constraint.solve = function(constraint, timeScale) {\n        var bodyA = constraint.bodyA,\n            bodyB = constraint.bodyB,\n            pointA = constraint.pointA,\n            pointB = constraint.pointB;\n\n        if (!bodyA && !bodyB)\n            return;\n\n        // update reference angle\n        if (bodyA && !bodyA.isStatic) {\n            Vector.rotate(pointA, bodyA.angle - constraint.angleA, pointA);\n            constraint.angleA = bodyA.angle;\n        }\n        \n        // update reference angle\n        if (bodyB && !bodyB.isStatic) {\n            Vector.rotate(pointB, bodyB.angle - constraint.angleB, pointB);\n            constraint.angleB = bodyB.angle;\n        }\n\n        var pointAWorld = pointA,\n            pointBWorld = pointB;\n\n        if (bodyA) pointAWorld = Vector.add(bodyA.position, pointA);\n        if (bodyB) pointBWorld = Vector.add(bodyB.position, pointB);\n\n        if (!pointAWorld || !pointBWorld)\n            return;\n\n        var delta = Vector.sub(pointAWorld, pointBWorld),\n            currentLength = Vector.magnitude(delta);\n\n        // prevent singularity\n        if (currentLength < Constraint._minLength) {\n            currentLength = Constraint._minLength;\n        }\n\n        // solve distance constraint with Gauss-Siedel method\n        var difference = (currentLength - constraint.length) / currentLength,\n            isRigid = constraint.stiffness >= 1 || constraint.length === 0,\n            stiffness = isRigid ? constraint.stiffness * timeScale \n                : constraint.stiffness * timeScale * timeScale,\n            damping = constraint.damping * timeScale,\n            force = Vector.mult(delta, difference * stiffness),\n            massTotal = (bodyA ? bodyA.inverseMass : 0) + (bodyB ? bodyB.inverseMass : 0),\n            inertiaTotal = (bodyA ? bodyA.inverseInertia : 0) + (bodyB ? bodyB.inverseInertia : 0),\n            resistanceTotal = massTotal + inertiaTotal,\n            torque,\n            share,\n            normal,\n            normalVelocity,\n            relativeVelocity;\n    \n        if (damping > 0) {\n            var zero = Vector.create();\n            normal = Vector.div(delta, currentLength);\n\n            relativeVelocity = Vector.sub(\n                bodyB && Vector.sub(bodyB.position, bodyB.positionPrev) || zero,\n                bodyA && Vector.sub(bodyA.position, bodyA.positionPrev) || zero\n            );\n\n            normalVelocity = Vector.dot(normal, relativeVelocity);\n        }\n\n        if (bodyA && !bodyA.isStatic) {\n            share = bodyA.inverseMass / massTotal;\n\n            // keep track of applied impulses for post solving\n            bodyA.constraintImpulse.x -= force.x * share;\n            bodyA.constraintImpulse.y -= force.y * share;\n\n            // apply forces\n            bodyA.position.x -= force.x * share;\n            bodyA.position.y -= force.y * share;\n\n            // apply damping\n            if (damping > 0) {\n                bodyA.positionPrev.x -= damping * normal.x * normalVelocity * share;\n                bodyA.positionPrev.y -= damping * normal.y * normalVelocity * share;\n            }\n\n            // apply torque\n            torque = (Vector.cross(pointA, force) / resistanceTotal) * Constraint._torqueDampen * bodyA.inverseInertia * (1 - constraint.angularStiffness);\n            bodyA.constraintImpulse.angle -= torque;\n            bodyA.angle -= torque;\n        }\n\n        if (bodyB && !bodyB.isStatic) {\n            share = bodyB.inverseMass / massTotal;\n\n            // keep track of applied impulses for post solving\n            bodyB.constraintImpulse.x += force.x * share;\n            bodyB.constraintImpulse.y += force.y * share;\n            \n            // apply forces\n            bodyB.position.x += force.x * share;\n            bodyB.position.y += force.y * share;\n\n            // apply damping\n            if (damping > 0) {\n                bodyB.positionPrev.x += damping * normal.x * normalVelocity * share;\n                bodyB.positionPrev.y += damping * normal.y * normalVelocity * share;\n            }\n\n            // apply torque\n            torque = (Vector.cross(pointB, force) / resistanceTotal) * Constraint._torqueDampen * bodyB.inverseInertia * (1 - constraint.angularStiffness);\n            bodyB.constraintImpulse.angle += torque;\n            bodyB.angle += torque;\n        }\n\n    };\n\n    /**\n     * Performs body updates required after solving constraints.\n     * @private\n     * @method postSolveAll\n     * @param {body[]} bodies\n     */\n    Constraint.postSolveAll = function(bodies) {\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                impulse = body.constraintImpulse;\n\n            if (body.isStatic || (impulse.x === 0 && impulse.y === 0 && impulse.angle === 0)) {\n                continue;\n            }\n\n            Sleeping.set(body, false);\n\n            // update geometry and reset\n            for (var j = 0; j < body.parts.length; j++) {\n                var part = body.parts[j];\n                \n                Vertices.translate(part.vertices, impulse);\n\n                if (j > 0) {\n                    part.position.x += impulse.x;\n                    part.position.y += impulse.y;\n                }\n\n                if (impulse.angle !== 0) {\n                    Vertices.rotate(part.vertices, impulse.angle, body.position);\n                    Axes.rotate(part.axes, impulse.angle);\n                    if (j > 0) {\n                        Vector.rotateAbout(part.position, impulse.angle, body.position, part.position);\n                    }\n                }\n\n                Bounds.update(part.bounds, part.vertices, body.velocity);\n            }\n\n            // dampen the cached impulse for warming next step\n            impulse.angle *= Constraint._warming;\n            impulse.x *= Constraint._warming;\n            impulse.y *= Constraint._warming;\n        }\n    };\n\n    /**\n     * Returns the world-space position of `constraint.pointA`, accounting for `constraint.bodyA`.\n     * @method pointAWorld\n     * @param {constraint} constraint\n     * @returns {vector} the world-space position\n     */\n    Constraint.pointAWorld = function(constraint) {\n        return {\n            x: (constraint.bodyA ? constraint.bodyA.position.x : 0) \n                + (constraint.pointA ? constraint.pointA.x : 0),\n            y: (constraint.bodyA ? constraint.bodyA.position.y : 0) \n                + (constraint.pointA ? constraint.pointA.y : 0)\n        };\n    };\n\n    /**\n     * Returns the world-space position of `constraint.pointB`, accounting for `constraint.bodyB`.\n     * @method pointBWorld\n     * @param {constraint} constraint\n     * @returns {vector} the world-space position\n     */\n    Constraint.pointBWorld = function(constraint) {\n        return {\n            x: (constraint.bodyB ? constraint.bodyB.position.x : 0) \n                + (constraint.pointB ? constraint.pointB.x : 0),\n            y: (constraint.bodyB ? constraint.bodyB.position.y : 0) \n                + (constraint.pointB ? constraint.pointB.y : 0)\n        };\n    };\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` uniquely identifying number generated in `Composite.create` by `Common.nextId`.\n     *\n     * @property id\n     * @type number\n     */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"constraint\"\n     * @readOnly\n     */\n\n    /**\n     * An arbitrary `String` name to help the user identify and manage bodies.\n     *\n     * @property label\n     * @type string\n     * @default \"Constraint\"\n     */\n\n    /**\n     * An `Object` that defines the rendering properties to be consumed by the module `Matter.Render`.\n     *\n     * @property render\n     * @type object\n     */\n\n    /**\n     * A flag that indicates if the constraint should be rendered.\n     *\n     * @property render.visible\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A `Number` that defines the line width to use when rendering the constraint outline.\n     * A value of `0` means no outline will be rendered.\n     *\n     * @property render.lineWidth\n     * @type number\n     * @default 2\n     */\n\n    /**\n     * A `String` that defines the stroke style to use when rendering the constraint outline.\n     * It is the same as when using a canvas, so it accepts CSS style property values.\n     *\n     * @property render.strokeStyle\n     * @type string\n     * @default a random colour\n     */\n\n    /**\n     * A `String` that defines the constraint rendering type. \n     * The possible values are 'line', 'pin', 'spring'.\n     * An appropriate render type will be automatically chosen unless one is given in options.\n     *\n     * @property render.type\n     * @type string\n     * @default 'line'\n     */\n\n    /**\n     * A `Boolean` that defines if the constraint's anchor points should be rendered.\n     *\n     * @property render.anchors\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * The first possible `Body` that this constraint is attached to.\n     *\n     * @property bodyA\n     * @type body\n     * @default null\n     */\n\n    /**\n     * The second possible `Body` that this constraint is attached to.\n     *\n     * @property bodyB\n     * @type body\n     * @default null\n     */\n\n    /**\n     * A `Vector` that specifies the offset of the constraint from center of the `constraint.bodyA` if defined, otherwise a world-space position.\n     *\n     * @property pointA\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Vector` that specifies the offset of the constraint from center of the `constraint.bodyB` if defined, otherwise a world-space position.\n     *\n     * @property pointB\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Number` that specifies the stiffness of the constraint, i.e. the rate at which it returns to its resting `constraint.length`.\n     * A value of `1` means the constraint should be very stiff.\n     * A value of `0.2` means the constraint acts like a soft spring.\n     *\n     * @property stiffness\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A `Number` that specifies the damping of the constraint, \n     * i.e. the amount of resistance applied to each body based on their velocities to limit the amount of oscillation.\n     * Damping will only be apparent when the constraint also has a very low `stiffness`.\n     * A value of `0.1` means the constraint will apply heavy damping, resulting in little to no oscillation.\n     * A value of `0` means the constraint will apply no damping.\n     *\n     * @property damping\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that specifies the target resting length of the constraint. \n     * It is calculated automatically in `Constraint.create` from initial positions of the `constraint.bodyA` and `constraint.bodyB`.\n     *\n     * @property length\n     * @type number\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n})();\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Axes` module contains methods for creating and manipulating sets of axes.\n*\n* @class Axes\n*/\n\nvar Axes = {};\n\nmodule.exports = Axes;\n\nvar Vector = __webpack_require__(2);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a new set of axes from the given vertices.\n     * @method fromVertices\n     * @param {vertices} vertices\n     * @return {axes} A new axes from the given vertices\n     */\n    Axes.fromVertices = function(vertices) {\n        var axes = {};\n\n        // find the unique axes, using edge normal gradients\n        for (var i = 0; i < vertices.length; i++) {\n            var j = (i + 1) % vertices.length, \n                normal = Vector.normalise({ \n                    x: vertices[j].y - vertices[i].y, \n                    y: vertices[i].x - vertices[j].x\n                }),\n                gradient = (normal.y === 0) ? Infinity : (normal.x / normal.y);\n            \n            // limit precision\n            gradient = gradient.toFixed(3).toString();\n            axes[gradient] = normal;\n        }\n\n        return Common.values(axes);\n    };\n\n    /**\n     * Rotates a set of axes by the given angle.\n     * @method rotate\n     * @param {axes} axes\n     * @param {number} angle\n     */\n    Axes.rotate = function(axes, angle) {\n        if (angle === 0)\n            return;\n        \n        var cos = Math.cos(angle),\n            sin = Math.sin(angle);\n\n        for (var i = 0; i < axes.length; i++) {\n            var axis = axes[i],\n                xx;\n            xx = axis.x * cos - axis.y * sin;\n            axis.y = axis.x * sin + axis.y * cos;\n            axis.x = xx;\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Bodies` module contains factory methods for creating rigid body models \n* with commonly used body configurations (such as rectangles, circles and other polygons).\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Bodies\n*/\n\n// TODO: true circle bodies\n\nvar Bodies = {};\n\nmodule.exports = Bodies;\n\nvar Vertices = __webpack_require__(3);\nvar Common = __webpack_require__(0);\nvar Body = __webpack_require__(4);\nvar Bounds = __webpack_require__(1);\nvar Vector = __webpack_require__(2);\n\n(function() {\n\n    /**\n     * Creates a new rigid body model with a rectangle hull. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method rectangle\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @param {object} [options]\n     * @return {body} A new rectangle body\n     */\n    Bodies.rectangle = function(x, y, width, height, options) {\n        options = options || {};\n\n        var rectangle = { \n            label: 'Rectangle Body',\n            position: { x: x, y: y },\n            vertices: Vertices.fromPath('L 0 0 L ' + width + ' 0 L ' + width + ' ' + height + ' L 0 ' + height)\n        };\n\n        if (options.chamfer) {\n            var chamfer = options.chamfer;\n            rectangle.vertices = Vertices.chamfer(rectangle.vertices, chamfer.radius, \n                chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);\n            delete options.chamfer;\n        }\n\n        return Body.create(Common.extend({}, rectangle, options));\n    };\n    \n    /**\n     * Creates a new rigid body model with a trapezoid hull. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method trapezoid\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @param {number} slope\n     * @param {object} [options]\n     * @return {body} A new trapezoid body\n     */\n    Bodies.trapezoid = function(x, y, width, height, slope, options) {\n        options = options || {};\n\n        slope *= 0.5;\n        var roof = (1 - (slope * 2)) * width;\n        \n        var x1 = width * slope,\n            x2 = x1 + roof,\n            x3 = x2 + x1,\n            verticesPath;\n\n        if (slope < 0.5) {\n            verticesPath = 'L 0 0 L ' + x1 + ' ' + (-height) + ' L ' + x2 + ' ' + (-height) + ' L ' + x3 + ' 0';\n        } else {\n            verticesPath = 'L 0 0 L ' + x2 + ' ' + (-height) + ' L ' + x3 + ' 0';\n        }\n\n        var trapezoid = { \n            label: 'Trapezoid Body',\n            position: { x: x, y: y },\n            vertices: Vertices.fromPath(verticesPath)\n        };\n\n        if (options.chamfer) {\n            var chamfer = options.chamfer;\n            trapezoid.vertices = Vertices.chamfer(trapezoid.vertices, chamfer.radius, \n                chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);\n            delete options.chamfer;\n        }\n\n        return Body.create(Common.extend({}, trapezoid, options));\n    };\n\n    /**\n     * Creates a new rigid body model with a circle hull. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method circle\n     * @param {number} x\n     * @param {number} y\n     * @param {number} radius\n     * @param {object} [options]\n     * @param {number} [maxSides]\n     * @return {body} A new circle body\n     */\n    Bodies.circle = function(x, y, radius, options, maxSides) {\n        options = options || {};\n\n        var circle = {\n            label: 'Circle Body',\n            circleRadius: radius\n        };\n        \n        // approximate circles with polygons until true circles implemented in SAT\n        maxSides = maxSides || 25;\n        var sides = Math.ceil(Math.max(10, Math.min(maxSides, radius)));\n\n        // optimisation: always use even number of sides (half the number of unique axes)\n        if (sides % 2 === 1)\n            sides += 1;\n\n        return Bodies.polygon(x, y, sides, radius, Common.extend({}, circle, options));\n    };\n\n    /**\n     * Creates a new rigid body model with a regular polygon hull with the given number of sides. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method polygon\n     * @param {number} x\n     * @param {number} y\n     * @param {number} sides\n     * @param {number} radius\n     * @param {object} [options]\n     * @return {body} A new regular polygon body\n     */\n    Bodies.polygon = function(x, y, sides, radius, options) {\n        options = options || {};\n\n        if (sides < 3)\n            return Bodies.circle(x, y, radius, options);\n\n        var theta = 2 * Math.PI / sides,\n            path = '',\n            offset = theta * 0.5;\n\n        for (var i = 0; i < sides; i += 1) {\n            var angle = offset + (i * theta),\n                xx = Math.cos(angle) * radius,\n                yy = Math.sin(angle) * radius;\n\n            path += 'L ' + xx.toFixed(3) + ' ' + yy.toFixed(3) + ' ';\n        }\n\n        var polygon = { \n            label: 'Polygon Body',\n            position: { x: x, y: y },\n            vertices: Vertices.fromPath(path)\n        };\n\n        if (options.chamfer) {\n            var chamfer = options.chamfer;\n            polygon.vertices = Vertices.chamfer(polygon.vertices, chamfer.radius, \n                chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);\n            delete options.chamfer;\n        }\n\n        return Body.create(Common.extend({}, polygon, options));\n    };\n\n    /**\n     * Utility to create a compound body based on set(s) of vertices.\n     * \n     * _Note:_ To optionally enable automatic concave vertices decomposition the [poly-decomp](https://github.com/schteppe/poly-decomp.js) \n     * package must be first installed and provided see `Common.setDecomp`, otherwise the convex hull of each vertex set will be used.\n     * \n     * The resulting vertices are reorientated about their centre of mass,\n     * and offset such that `body.position` corresponds to this point.\n     * \n     * The resulting offset may be found if needed by subtracting `body.bounds` from the original input bounds.\n     * To later move the centre of mass see `Body.setCentre`.\n     * \n     * Note that automatic conconcave decomposition results are not always optimal. \n     * For best results, simplify the input vertices as much as possible first.\n     * By default this function applies some addtional simplification to help.\n     * \n     * Some outputs may also require further manual processing afterwards to be robust.\n     * In particular some parts may need to be overlapped to avoid collision gaps.\n     * Thin parts and sharp points should be avoided or removed where possible.\n     *\n     * The options parameter object specifies any `Matter.Body` properties you wish to override the defaults.\n     * \n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method fromVertices\n     * @param {number} x\n     * @param {number} y\n     * @param {array} vertexSets One or more arrays of vertex points e.g. `[[{ x: 0, y: 0 }...], ...]`.\n     * @param {object} [options] The body options.\n     * @param {bool} [flagInternal=false] Optionally marks internal edges with `isInternal`.\n     * @param {number} [removeCollinear=0.01] Threshold when simplifying vertices along the same edge.\n     * @param {number} [minimumArea=10] Threshold when removing small parts.\n     * @param {number} [removeDuplicatePoints=0.01] Threshold when simplifying nearby vertices.\n     * @return {body}\n     */\n    Bodies.fromVertices = function(x, y, vertexSets, options, flagInternal, removeCollinear, minimumArea, removeDuplicatePoints) {\n        var decomp = Common.getDecomp(),\n            canDecomp,\n            body,\n            parts,\n            isConvex,\n            isConcave,\n            vertices,\n            i,\n            j,\n            k,\n            v,\n            z;\n\n        // check decomp is as expected\n        canDecomp = Boolean(decomp && decomp.quickDecomp);\n\n        options = options || {};\n        parts = [];\n\n        flagInternal = typeof flagInternal !== 'undefined' ? flagInternal : false;\n        removeCollinear = typeof removeCollinear !== 'undefined' ? removeCollinear : 0.01;\n        minimumArea = typeof minimumArea !== 'undefined' ? minimumArea : 10;\n        removeDuplicatePoints = typeof removeDuplicatePoints !== 'undefined' ? removeDuplicatePoints : 0.01;\n\n        // ensure vertexSets is an array of arrays\n        if (!Common.isArray(vertexSets[0])) {\n            vertexSets = [vertexSets];\n        }\n\n        for (v = 0; v < vertexSets.length; v += 1) {\n            vertices = vertexSets[v];\n            isConvex = Vertices.isConvex(vertices);\n            isConcave = !isConvex;\n\n            if (isConcave && !canDecomp) {\n                Common.warnOnce(\n                    'Bodies.fromVertices: Install the \\'poly-decomp\\' library and use Common.setDecomp or provide \\'decomp\\' as a global to decompose concave vertices.'\n                );\n            }\n\n            if (isConvex || !canDecomp) {\n                if (isConvex) {\n                    vertices = Vertices.clockwiseSort(vertices);\n                } else {\n                    // fallback to convex hull when decomposition is not possible\n                    vertices = Vertices.hull(vertices);\n                }\n\n                parts.push({\n                    position: { x: x, y: y },\n                    vertices: vertices\n                });\n            } else {\n                // initialise a decomposition\n                var concave = vertices.map(function(vertex) {\n                    return [vertex.x, vertex.y];\n                });\n\n                // vertices are concave and simple, we can decompose into parts\n                decomp.makeCCW(concave);\n                if (removeCollinear !== false)\n                    decomp.removeCollinearPoints(concave, removeCollinear);\n                if (removeDuplicatePoints !== false && decomp.removeDuplicatePoints)\n                    decomp.removeDuplicatePoints(concave, removeDuplicatePoints);\n\n                // use the quick decomposition algorithm (Bayazit)\n                var decomposed = decomp.quickDecomp(concave);\n\n                // for each decomposed chunk\n                for (i = 0; i < decomposed.length; i++) {\n                    var chunk = decomposed[i];\n\n                    // convert vertices into the correct structure\n                    var chunkVertices = chunk.map(function(vertices) {\n                        return {\n                            x: vertices[0],\n                            y: vertices[1]\n                        };\n                    });\n\n                    // skip small chunks\n                    if (minimumArea > 0 && Vertices.area(chunkVertices) < minimumArea)\n                        continue;\n\n                    // create a compound part\n                    parts.push({\n                        position: Vertices.centre(chunkVertices),\n                        vertices: chunkVertices\n                    });\n                }\n            }\n        }\n\n        // create body parts\n        for (i = 0; i < parts.length; i++) {\n            parts[i] = Body.create(Common.extend(parts[i], options));\n        }\n\n        // flag internal edges (coincident part edges)\n        if (flagInternal) {\n            var coincident_max_dist = 5;\n\n            for (i = 0; i < parts.length; i++) {\n                var partA = parts[i];\n\n                for (j = i + 1; j < parts.length; j++) {\n                    var partB = parts[j];\n\n                    if (Bounds.overlaps(partA.bounds, partB.bounds)) {\n                        var pav = partA.vertices,\n                            pbv = partB.vertices;\n\n                        // iterate vertices of both parts\n                        for (k = 0; k < partA.vertices.length; k++) {\n                            for (z = 0; z < partB.vertices.length; z++) {\n                                // find distances between the vertices\n                                var da = Vector.magnitudeSquared(Vector.sub(pav[(k + 1) % pav.length], pbv[z])),\n                                    db = Vector.magnitudeSquared(Vector.sub(pav[k], pbv[(z + 1) % pbv.length]));\n\n                                // if both vertices are very close, consider the edge concident (internal)\n                                if (da < coincident_max_dist && db < coincident_max_dist) {\n                                    pav[k].isInternal = true;\n                                    pbv[z].isInternal = true;\n                                }\n                            }\n                        }\n\n                    }\n                }\n            }\n        }\n\n        if (parts.length > 1) {\n            // create the parent body to be returned, that contains generated compound parts\n            body = Body.create(Common.extend({ parts: parts.slice(0) }, options));\n\n            // offset such that body.position is at the centre off mass\n            Body.setPosition(body, { x: x, y: y });\n\n            return body;\n        } else {\n            return parts[0];\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Detector` module contains methods for efficiently detecting collisions between a list of bodies using a broadphase algorithm.\n*\n* @class Detector\n*/\n\nvar Detector = {};\n\nmodule.exports = Detector;\n\nvar Common = __webpack_require__(0);\nvar Collision = __webpack_require__(8);\n\n(function() {\n\n    /**\n     * Creates a new collision detector.\n     * @method create\n     * @param {} options\n     * @return {detector} A new collision detector\n     */\n    Detector.create = function(options) {\n        var defaults = {\n            bodies: [],\n            pairs: null\n        };\n\n        return Common.extend(defaults, options);\n    };\n\n    /**\n     * Sets the list of bodies in the detector.\n     * @method setBodies\n     * @param {detector} detector\n     * @param {body[]} bodies\n     */\n    Detector.setBodies = function(detector, bodies) {\n        detector.bodies = bodies.slice(0);\n    };\n\n    /**\n     * Clears the detector including its list of bodies.\n     * @method clear\n     * @param {detector} detector\n     */\n    Detector.clear = function(detector) {\n        detector.bodies = [];\n    };\n\n    /**\n     * Efficiently finds all collisions among all the bodies in `detector.bodies` using a broadphase algorithm.\n     * \n     * _Note:_ The specific ordering of collisions returned is not guaranteed between releases and may change for performance reasons.\n     * If a specific ordering is required then apply a sort to the resulting array.\n     * @method collisions\n     * @param {detector} detector\n     * @return {collision[]} collisions\n     */\n    Detector.collisions = function(detector) {\n        var collisions = [],\n            pairs = detector.pairs,\n            bodies = detector.bodies,\n            bodiesLength = bodies.length,\n            canCollide = Detector.canCollide,\n            collides = Collision.collides,\n            i,\n            j;\n\n        bodies.sort(Detector._compareBoundsX);\n\n        for (i = 0; i < bodiesLength; i++) {\n            var bodyA = bodies[i],\n                boundsA = bodyA.bounds,\n                boundXMax = bodyA.bounds.max.x,\n                boundYMax = bodyA.bounds.max.y,\n                boundYMin = bodyA.bounds.min.y,\n                bodyAStatic = bodyA.isStatic || bodyA.isSleeping,\n                partsALength = bodyA.parts.length,\n                partsASingle = partsALength === 1;\n\n            for (j = i + 1; j < bodiesLength; j++) {\n                var bodyB = bodies[j],\n                    boundsB = bodyB.bounds;\n\n                if (boundsB.min.x > boundXMax) {\n                    break;\n                }\n\n                if (boundYMax < boundsB.min.y || boundYMin > boundsB.max.y) {\n                    continue;\n                }\n\n                if (bodyAStatic && (bodyB.isStatic || bodyB.isSleeping)) {\n                    continue;\n                }\n\n                if (!canCollide(bodyA.collisionFilter, bodyB.collisionFilter)) {\n                    continue;\n                }\n\n                var partsBLength = bodyB.parts.length;\n\n                if (partsASingle && partsBLength === 1) {\n                    var collision = collides(bodyA, bodyB, pairs);\n\n                    if (collision) {\n                        collisions.push(collision);\n                    }\n                } else {\n                    var partsAStart = partsALength > 1 ? 1 : 0,\n                        partsBStart = partsBLength > 1 ? 1 : 0;\n                    \n                    for (var k = partsAStart; k < partsALength; k++) {\n                        var partA = bodyA.parts[k],\n                            boundsA = partA.bounds;\n\n                        for (var z = partsBStart; z < partsBLength; z++) {\n                            var partB = bodyB.parts[z],\n                                boundsB = partB.bounds;\n\n                            if (boundsA.min.x > boundsB.max.x || boundsA.max.x < boundsB.min.x\n                                || boundsA.max.y < boundsB.min.y || boundsA.min.y > boundsB.max.y) {\n                                continue;\n                            }\n\n                            var collision = collides(partA, partB, pairs);\n\n                            if (collision) {\n                                collisions.push(collision);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        return collisions;\n    };\n\n    /**\n     * Returns `true` if both supplied collision filters will allow a collision to occur.\n     * See `body.collisionFilter` for more information.\n     * @method canCollide\n     * @param {} filterA\n     * @param {} filterB\n     * @return {bool} `true` if collision can occur\n     */\n    Detector.canCollide = function(filterA, filterB) {\n        if (filterA.group === filterB.group && filterA.group !== 0)\n            return filterA.group > 0;\n\n        return (filterA.mask & filterB.category) !== 0 && (filterB.mask & filterA.category) !== 0;\n    };\n\n    /**\n     * The comparison function used in the broadphase algorithm.\n     * Returns the signed delta of the bodies bounds on the x-axis.\n     * @private\n     * @method _sortCompare\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @return {number} The signed delta used for sorting\n     */\n    Detector._compareBoundsX = function(bodyA, bodyB) {\n        return bodyA.bounds.min.x - bodyB.bounds.min.x;\n    };\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * The array of `Matter.Body` between which the detector finds collisions.\n     * \n     * _Note:_ The order of bodies in this array _is not fixed_ and will be continually managed by the detector.\n     * @property bodies\n     * @type body[]\n     * @default []\n     */\n\n    /**\n     * Optional. A `Matter.Pairs` object from which previous collision objects may be reused. Intended for internal `Matter.Engine` usage.\n     * @property pairs\n     * @type {pairs|null}\n     * @default null\n     */\n\n})();\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Mouse` module contains methods for creating and manipulating mouse inputs.\n*\n* @class Mouse\n*/\n\nvar Mouse = {};\n\nmodule.exports = Mouse;\n\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a mouse input.\n     * @method create\n     * @param {HTMLElement} element\n     * @return {mouse} A new mouse\n     */\n    Mouse.create = function(element) {\n        var mouse = {};\n\n        if (!element) {\n            Common.log('Mouse.create: element was undefined, defaulting to document.body', 'warn');\n        }\n        \n        mouse.element = element || document.body;\n        mouse.absolute = { x: 0, y: 0 };\n        mouse.position = { x: 0, y: 0 };\n        mouse.mousedownPosition = { x: 0, y: 0 };\n        mouse.mouseupPosition = { x: 0, y: 0 };\n        mouse.offset = { x: 0, y: 0 };\n        mouse.scale = { x: 1, y: 1 };\n        mouse.wheelDelta = 0;\n        mouse.button = -1;\n        mouse.pixelRatio = parseInt(mouse.element.getAttribute('data-pixel-ratio'), 10) || 1;\n\n        mouse.sourceEvents = {\n            mousemove: null,\n            mousedown: null,\n            mouseup: null,\n            mousewheel: null\n        };\n        \n        mouse.mousemove = function(event) { \n            var position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n                touches = event.changedTouches;\n\n            if (touches) {\n                mouse.button = 0;\n                event.preventDefault();\n            }\n\n            mouse.absolute.x = position.x;\n            mouse.absolute.y = position.y;\n            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n            mouse.sourceEvents.mousemove = event;\n        };\n        \n        mouse.mousedown = function(event) {\n            var position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n                touches = event.changedTouches;\n\n            if (touches) {\n                mouse.button = 0;\n                event.preventDefault();\n            } else {\n                mouse.button = event.button;\n            }\n\n            mouse.absolute.x = position.x;\n            mouse.absolute.y = position.y;\n            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n            mouse.mousedownPosition.x = mouse.position.x;\n            mouse.mousedownPosition.y = mouse.position.y;\n            mouse.sourceEvents.mousedown = event;\n        };\n        \n        mouse.mouseup = function(event) {\n            var position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n                touches = event.changedTouches;\n\n            if (touches) {\n                event.preventDefault();\n            }\n            \n            mouse.button = -1;\n            mouse.absolute.x = position.x;\n            mouse.absolute.y = position.y;\n            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n            mouse.mouseupPosition.x = mouse.position.x;\n            mouse.mouseupPosition.y = mouse.position.y;\n            mouse.sourceEvents.mouseup = event;\n        };\n\n        mouse.mousewheel = function(event) {\n            mouse.wheelDelta = Math.max(-1, Math.min(1, event.wheelDelta || -event.detail));\n            event.preventDefault();\n        };\n\n        Mouse.setElement(mouse, mouse.element);\n\n        return mouse;\n    };\n\n    /**\n     * Sets the element the mouse is bound to (and relative to).\n     * @method setElement\n     * @param {mouse} mouse\n     * @param {HTMLElement} element\n     */\n    Mouse.setElement = function(mouse, element) {\n        mouse.element = element;\n\n        element.addEventListener('mousemove', mouse.mousemove);\n        element.addEventListener('mousedown', mouse.mousedown);\n        element.addEventListener('mouseup', mouse.mouseup);\n        \n        element.addEventListener('mousewheel', mouse.mousewheel);\n        element.addEventListener('DOMMouseScroll', mouse.mousewheel);\n\n        element.addEventListener('touchmove', mouse.mousemove);\n        element.addEventListener('touchstart', mouse.mousedown);\n        element.addEventListener('touchend', mouse.mouseup);\n    };\n\n    /**\n     * Clears all captured source events.\n     * @method clearSourceEvents\n     * @param {mouse} mouse\n     */\n    Mouse.clearSourceEvents = function(mouse) {\n        mouse.sourceEvents.mousemove = null;\n        mouse.sourceEvents.mousedown = null;\n        mouse.sourceEvents.mouseup = null;\n        mouse.sourceEvents.mousewheel = null;\n        mouse.wheelDelta = 0;\n    };\n\n    /**\n     * Sets the mouse position offset.\n     * @method setOffset\n     * @param {mouse} mouse\n     * @param {vector} offset\n     */\n    Mouse.setOffset = function(mouse, offset) {\n        mouse.offset.x = offset.x;\n        mouse.offset.y = offset.y;\n        mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n        mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    };\n\n    /**\n     * Sets the mouse position scale.\n     * @method setScale\n     * @param {mouse} mouse\n     * @param {vector} scale\n     */\n    Mouse.setScale = function(mouse, scale) {\n        mouse.scale.x = scale.x;\n        mouse.scale.y = scale.y;\n        mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n        mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    };\n    \n    /**\n     * Gets the mouse position relative to an element given a screen pixel ratio.\n     * @method _getRelativeMousePosition\n     * @private\n     * @param {} event\n     * @param {} element\n     * @param {number} pixelRatio\n     * @return {}\n     */\n    Mouse._getRelativeMousePosition = function(event, element, pixelRatio) {\n        var elementBounds = element.getBoundingClientRect(),\n            rootNode = (document.documentElement || document.body.parentNode || document.body),\n            scrollX = (window.pageXOffset !== undefined) ? window.pageXOffset : rootNode.scrollLeft,\n            scrollY = (window.pageYOffset !== undefined) ? window.pageYOffset : rootNode.scrollTop,\n            touches = event.changedTouches,\n            x, y;\n        \n        if (touches) {\n            x = touches[0].pageX - elementBounds.left - scrollX;\n            y = touches[0].pageY - elementBounds.top - scrollY;\n        } else {\n            x = event.pageX - elementBounds.left - scrollX;\n            y = event.pageY - elementBounds.top - scrollY;\n        }\n\n        return { \n            x: x / (element.clientWidth / (element.width || element.clientWidth) * pixelRatio),\n            y: y / (element.clientHeight / (element.height || element.clientHeight) * pixelRatio)\n        };\n    };\n\n})();\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Plugin` module contains functions for registering and installing plugins on modules.\n*\n* @class Plugin\n*/\n\nvar Plugin = {};\n\nmodule.exports = Plugin;\n\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    Plugin._registry = {};\n\n    /**\n     * Registers a plugin object so it can be resolved later by name.\n     * @method register\n     * @param plugin {} The plugin to register.\n     * @return {object} The plugin.\n     */\n    Plugin.register = function(plugin) {\n        if (!Plugin.isPlugin(plugin)) {\n            Common.warn('Plugin.register:', Plugin.toString(plugin), 'does not implement all required fields.');\n        }\n\n        if (plugin.name in Plugin._registry) {\n            var registered = Plugin._registry[plugin.name],\n                pluginVersion = Plugin.versionParse(plugin.version).number,\n                registeredVersion = Plugin.versionParse(registered.version).number;\n\n            if (pluginVersion > registeredVersion) {\n                Common.warn('Plugin.register:', Plugin.toString(registered), 'was upgraded to', Plugin.toString(plugin));\n                Plugin._registry[plugin.name] = plugin;\n            } else if (pluginVersion < registeredVersion) {\n                Common.warn('Plugin.register:', Plugin.toString(registered), 'can not be downgraded to', Plugin.toString(plugin));\n            } else if (plugin !== registered) {\n                Common.warn('Plugin.register:', Plugin.toString(plugin), 'is already registered to different plugin object');\n            }\n        } else {\n            Plugin._registry[plugin.name] = plugin;\n        }\n\n        return plugin;\n    };\n\n    /**\n     * Resolves a dependency to a plugin object from the registry if it exists. \n     * The `dependency` may contain a version, but only the name matters when resolving.\n     * @method resolve\n     * @param dependency {string} The dependency.\n     * @return {object} The plugin if resolved, otherwise `undefined`.\n     */\n    Plugin.resolve = function(dependency) {\n        return Plugin._registry[Plugin.dependencyParse(dependency).name];\n    };\n\n    /**\n     * Returns a pretty printed plugin name and version.\n     * @method toString\n     * @param plugin {} The plugin.\n     * @return {string} Pretty printed plugin name and version.\n     */\n    Plugin.toString = function(plugin) {\n        return typeof plugin === 'string' ? plugin : (plugin.name || 'anonymous') + '@' + (plugin.version || plugin.range || '0.0.0');\n    };\n\n    /**\n     * Returns `true` if the object meets the minimum standard to be considered a plugin.\n     * This means it must define the following properties:\n     * - `name`\n     * - `version`\n     * - `install`\n     * @method isPlugin\n     * @param obj {} The obj to test.\n     * @return {boolean} `true` if the object can be considered a plugin otherwise `false`.\n     */\n    Plugin.isPlugin = function(obj) {\n        return obj && obj.name && obj.version && obj.install;\n    };\n\n    /**\n     * Returns `true` if a plugin with the given `name` been installed on `module`.\n     * @method isUsed\n     * @param module {} The module.\n     * @param name {string} The plugin name.\n     * @return {boolean} `true` if a plugin with the given `name` been installed on `module`, otherwise `false`.\n     */\n    Plugin.isUsed = function(module, name) {\n        return module.used.indexOf(name) > -1;\n    };\n\n    /**\n     * Returns `true` if `plugin.for` is applicable to `module` by comparing against `module.name` and `module.version`.\n     * If `plugin.for` is not specified then it is assumed to be applicable.\n     * The value of `plugin.for` is a string of the format `'module-name'` or `'module-name@version'`.\n     * @method isFor\n     * @param plugin {} The plugin.\n     * @param module {} The module.\n     * @return {boolean} `true` if `plugin.for` is applicable to `module`, otherwise `false`.\n     */\n    Plugin.isFor = function(plugin, module) {\n        var parsed = plugin.for && Plugin.dependencyParse(plugin.for);\n        return !plugin.for || (module.name === parsed.name && Plugin.versionSatisfies(module.version, parsed.range));\n    };\n\n    /**\n     * Installs the plugins by calling `plugin.install` on each plugin specified in `plugins` if passed, otherwise `module.uses`.\n     * For installing plugins on `Matter` see the convenience function `Matter.use`.\n     * Plugins may be specified either by their name or a reference to the plugin object.\n     * Plugins themselves may specify further dependencies, but each plugin is installed only once.\n     * Order is important, a topological sort is performed to find the best resulting order of installation.\n     * This sorting attempts to satisfy every dependency's requested ordering, but may not be exact in all cases.\n     * This function logs the resulting status of each dependency in the console, along with any warnings.\n     * - A green tick  indicates a dependency was resolved and installed.\n     * - An orange diamond  indicates a dependency was resolved but a warning was thrown for it or one if its dependencies.\n     * - A red cross  indicates a dependency could not be resolved.\n     * Avoid calling this function multiple times on the same module unless you intend to manually control installation order.\n     * @method use\n     * @param module {} The module install plugins on.\n     * @param [plugins=module.uses] {} The plugins to install on module (optional, defaults to `module.uses`).\n     */\n    Plugin.use = function(module, plugins) {\n        module.uses = (module.uses || []).concat(plugins || []);\n\n        if (module.uses.length === 0) {\n            Common.warn('Plugin.use:', Plugin.toString(module), 'does not specify any dependencies to install.');\n            return;\n        }\n\n        var dependencies = Plugin.dependencies(module),\n            sortedDependencies = Common.topologicalSort(dependencies),\n            status = [];\n\n        for (var i = 0; i < sortedDependencies.length; i += 1) {\n            if (sortedDependencies[i] === module.name) {\n                continue;\n            }\n\n            var plugin = Plugin.resolve(sortedDependencies[i]);\n\n            if (!plugin) {\n                status.push(' ' + sortedDependencies[i]);\n                continue;\n            }\n\n            if (Plugin.isUsed(module, plugin.name)) {\n                continue;\n            }\n\n            if (!Plugin.isFor(plugin, module)) {\n                Common.warn('Plugin.use:', Plugin.toString(plugin), 'is for', plugin.for, 'but installed on', Plugin.toString(module) + '.');\n                plugin._warned = true;\n            }\n\n            if (plugin.install) {\n                plugin.install(module);\n            } else {\n                Common.warn('Plugin.use:', Plugin.toString(plugin), 'does not specify an install function.');\n                plugin._warned = true;\n            }\n\n            if (plugin._warned) {\n                status.push(' ' + Plugin.toString(plugin));\n                delete plugin._warned;\n            } else {\n                status.push(' ' + Plugin.toString(plugin));\n            }\n\n            module.used.push(plugin.name);\n        }\n\n        if (status.length > 0) {\n            Common.info(status.join('  '));\n        }\n    };\n\n    /**\n     * Recursively finds all of a module's dependencies and returns a flat dependency graph.\n     * @method dependencies\n     * @param module {} The module.\n     * @return {object} A dependency graph.\n     */\n    Plugin.dependencies = function(module, tracked) {\n        var parsedBase = Plugin.dependencyParse(module),\n            name = parsedBase.name;\n\n        tracked = tracked || {};\n\n        if (name in tracked) {\n            return;\n        }\n\n        module = Plugin.resolve(module) || module;\n\n        tracked[name] = Common.map(module.uses || [], function(dependency) {\n            if (Plugin.isPlugin(dependency)) {\n                Plugin.register(dependency);\n            }\n\n            var parsed = Plugin.dependencyParse(dependency),\n                resolved = Plugin.resolve(dependency);\n\n            if (resolved && !Plugin.versionSatisfies(resolved.version, parsed.range)) {\n                Common.warn(\n                    'Plugin.dependencies:', Plugin.toString(resolved), 'does not satisfy',\n                    Plugin.toString(parsed), 'used by', Plugin.toString(parsedBase) + '.'\n                );\n\n                resolved._warned = true;\n                module._warned = true;\n            } else if (!resolved) {\n                Common.warn(\n                    'Plugin.dependencies:', Plugin.toString(dependency), 'used by',\n                    Plugin.toString(parsedBase), 'could not be resolved.'\n                );\n\n                module._warned = true;\n            }\n\n            return parsed.name;\n        });\n\n        for (var i = 0; i < tracked[name].length; i += 1) {\n            Plugin.dependencies(tracked[name][i], tracked);\n        }\n\n        return tracked;\n    };\n\n    /**\n     * Parses a dependency string into its components.\n     * The `dependency` is a string of the format `'module-name'` or `'module-name@version'`.\n     * See documentation for `Plugin.versionParse` for a description of the format.\n     * This function can also handle dependencies that are already resolved (e.g. a module object).\n     * @method dependencyParse\n     * @param dependency {string} The dependency of the format `'module-name'` or `'module-name@version'`.\n     * @return {object} The dependency parsed into its components.\n     */\n    Plugin.dependencyParse = function(dependency) {\n        if (Common.isString(dependency)) {\n            var pattern = /^[\\w-]+(@(\\*|[\\^~]?\\d+\\.\\d+\\.\\d+(-[0-9A-Za-z-+]+)?))?$/;\n\n            if (!pattern.test(dependency)) {\n                Common.warn('Plugin.dependencyParse:', dependency, 'is not a valid dependency string.');\n            }\n\n            return {\n                name: dependency.split('@')[0],\n                range: dependency.split('@')[1] || '*'\n            };\n        }\n\n        return {\n            name: dependency.name,\n            range: dependency.range || dependency.version\n        };\n    };\n\n    /**\n     * Parses a version string into its components.  \n     * Versions are strictly of the format `x.y.z` (as in [semver](http://semver.org/)).\n     * Versions may optionally have a prerelease tag in the format `x.y.z-alpha`.\n     * Ranges are a strict subset of [npm ranges](https://docs.npmjs.com/misc/semver#advanced-range-syntax).\n     * Only the following range types are supported:\n     * - Tilde ranges e.g. `~1.2.3`\n     * - Caret ranges e.g. `^1.2.3`\n     * - Greater than ranges e.g. `>1.2.3`\n     * - Greater than or equal ranges e.g. `>=1.2.3`\n     * - Exact version e.g. `1.2.3`\n     * - Any version `*`\n     * @method versionParse\n     * @param range {string} The version string.\n     * @return {object} The version range parsed into its components.\n     */\n    Plugin.versionParse = function(range) {\n        var pattern = /^(\\*)|(\\^|~|>=|>)?\\s*((\\d+)\\.(\\d+)\\.(\\d+))(-[0-9A-Za-z-+]+)?$/;\n\n        if (!pattern.test(range)) {\n            Common.warn('Plugin.versionParse:', range, 'is not a valid version or range.');\n        }\n\n        var parts = pattern.exec(range);\n        var major = Number(parts[4]);\n        var minor = Number(parts[5]);\n        var patch = Number(parts[6]);\n\n        return {\n            isRange: Boolean(parts[1] || parts[2]),\n            version: parts[3],\n            range: range,\n            operator: parts[1] || parts[2] || '',\n            major: major,\n            minor: minor,\n            patch: patch,\n            parts: [major, minor, patch],\n            prerelease: parts[7],\n            number: major * 1e8 + minor * 1e4 + patch\n        };\n    };\n\n    /**\n     * Returns `true` if `version` satisfies the given `range`.\n     * See documentation for `Plugin.versionParse` for a description of the format.\n     * If a version or range is not specified, then any version (`*`) is assumed to satisfy.\n     * @method versionSatisfies\n     * @param version {string} The version string.\n     * @param range {string} The range string.\n     * @return {boolean} `true` if `version` satisfies `range`, otherwise `false`.\n     */\n    Plugin.versionSatisfies = function(version, range) {\n        range = range || '*';\n\n        var r = Plugin.versionParse(range),\n            v = Plugin.versionParse(version);\n\n        if (r.isRange) {\n            if (r.operator === '*' || version === '*') {\n                return true;\n            }\n\n            if (r.operator === '>') {\n                return v.number > r.number;\n            }\n\n            if (r.operator === '>=') {\n                return v.number >= r.number;\n            }\n\n            if (r.operator === '~') {\n                return v.major === r.major && v.minor === r.minor && v.patch >= r.patch;\n            }\n\n            if (r.operator === '^') {\n                if (r.major > 0) {\n                    return v.major === r.major && v.number >= r.number;\n                }\n\n                if (r.minor > 0) {\n                    return v.minor === r.minor && v.patch >= r.patch;\n                }\n\n                return v.patch === r.patch;\n            }\n        }\n\n        return version === range || version === '*';\n    };\n\n})();\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Contact` module contains methods for creating and manipulating collision contacts.\n*\n* @class Contact\n*/\n\nvar Contact = {};\n\nmodule.exports = Contact;\n\n(function() {\n\n    /**\n     * Creates a new contact.\n     * @method create\n     * @param {vertex} vertex\n     * @return {contact} A new contact\n     */\n    Contact.create = function(vertex) {\n        return {\n            vertex: vertex,\n            normalImpulse: 0,\n            tangentImpulse: 0\n        };\n    };\n\n})();\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Engine` module contains methods for creating and manipulating engines.\n* An engine is a controller that manages updating the simulation of the world.\n* See `Matter.Runner` for an optional game loop utility.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Engine\n*/\n\nvar Engine = {};\n\nmodule.exports = Engine;\n\nvar Sleeping = __webpack_require__(7);\nvar Resolver = __webpack_require__(18);\nvar Detector = __webpack_require__(13);\nvar Pairs = __webpack_require__(19);\nvar Events = __webpack_require__(5);\nvar Composite = __webpack_require__(6);\nvar Constraint = __webpack_require__(10);\nvar Common = __webpack_require__(0);\nvar Body = __webpack_require__(4);\n\n(function() {\n\n    /**\n     * Creates a new engine. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {object} [options]\n     * @return {engine} engine\n     */\n    Engine.create = function(options) {\n        options = options || {};\n\n        var defaults = {\n            positionIterations: 6,\n            velocityIterations: 4,\n            constraintIterations: 2,\n            enableSleeping: false,\n            events: [],\n            plugin: {},\n            gravity: {\n                x: 0,\n                y: 1,\n                scale: 0.001\n            },\n            timing: {\n                timestamp: 0,\n                timeScale: 1,\n                lastDelta: 0,\n                lastElapsed: 0\n            }\n        };\n\n        var engine = Common.extend(defaults, options);\n\n        engine.world = options.world || Composite.create({ label: 'World' });\n        engine.pairs = options.pairs || Pairs.create();\n        engine.detector = options.detector || Detector.create();\n\n        // for temporary back compatibility only\n        engine.grid = { buckets: [] };\n        engine.world.gravity = engine.gravity;\n        engine.broadphase = engine.grid;\n        engine.metrics = {};\n        \n        return engine;\n    };\n\n    /**\n     * Moves the simulation forward in time by `delta` milliseconds.\n     * Triggers `beforeUpdate` and `afterUpdate` events.\n     * Triggers `collisionStart`, `collisionActive` and `collisionEnd` events.\n     * @method update\n     * @param {engine} engine\n     * @param {number} [delta=16.666]\n     */\n    Engine.update = function(engine, delta) {\n        var startTime = Common.now();\n\n        var world = engine.world,\n            detector = engine.detector,\n            pairs = engine.pairs,\n            timing = engine.timing,\n            timestamp = timing.timestamp,\n            i;\n\n        delta = typeof delta !== 'undefined' ? delta : Common._baseDelta;\n        delta *= timing.timeScale;\n\n        // increment timestamp\n        timing.timestamp += delta;\n        timing.lastDelta = delta;\n\n        // create an event object\n        var event = {\n            timestamp: timing.timestamp,\n            delta: delta\n        };\n\n        Events.trigger(engine, 'beforeUpdate', event);\n\n        // get all bodies and all constraints in the world\n        var allBodies = Composite.allBodies(world),\n            allConstraints = Composite.allConstraints(world);\n\n        // if the world has changed\n        if (world.isModified) {\n            // update the detector bodies\n            Detector.setBodies(detector, allBodies);\n\n            // reset all composite modified flags\n            Composite.setModified(world, false, false, true);\n        }\n\n        // update sleeping if enabled\n        if (engine.enableSleeping)\n            Sleeping.update(allBodies, delta);\n\n        // apply gravity to all bodies\n        Engine._bodiesApplyGravity(allBodies, engine.gravity);\n\n        // update all body position and rotation by integration\n        if (delta > 0) {\n            Engine._bodiesUpdate(allBodies, delta);\n        }\n\n        // update all constraints (first pass)\n        Constraint.preSolveAll(allBodies);\n        for (i = 0; i < engine.constraintIterations; i++) {\n            Constraint.solveAll(allConstraints, delta);\n        }\n        Constraint.postSolveAll(allBodies);\n\n        // find all collisions\n        detector.pairs = engine.pairs;\n        var collisions = Detector.collisions(detector);\n\n        // update collision pairs\n        Pairs.update(pairs, collisions, timestamp);\n\n        // wake up bodies involved in collisions\n        if (engine.enableSleeping)\n            Sleeping.afterCollisions(pairs.list);\n\n        // trigger collision events\n        if (pairs.collisionStart.length > 0)\n            Events.trigger(engine, 'collisionStart', { pairs: pairs.collisionStart });\n\n        // iteratively resolve position between collisions\n        var positionDamping = Common.clamp(20 / engine.positionIterations, 0, 1);\n        \n        Resolver.preSolvePosition(pairs.list);\n        for (i = 0; i < engine.positionIterations; i++) {\n            Resolver.solvePosition(pairs.list, delta, positionDamping);\n        }\n        Resolver.postSolvePosition(allBodies);\n\n        // update all constraints (second pass)\n        Constraint.preSolveAll(allBodies);\n        for (i = 0; i < engine.constraintIterations; i++) {\n            Constraint.solveAll(allConstraints, delta);\n        }\n        Constraint.postSolveAll(allBodies);\n\n        // iteratively resolve velocity between collisions\n        Resolver.preSolveVelocity(pairs.list);\n        for (i = 0; i < engine.velocityIterations; i++) {\n            Resolver.solveVelocity(pairs.list, delta);\n        }\n\n        // update body speed and velocity properties\n        Engine._bodiesUpdateVelocities(allBodies);\n\n        // trigger collision events\n        if (pairs.collisionActive.length > 0)\n            Events.trigger(engine, 'collisionActive', { pairs: pairs.collisionActive });\n\n        if (pairs.collisionEnd.length > 0)\n            Events.trigger(engine, 'collisionEnd', { pairs: pairs.collisionEnd });\n\n        // clear force buffers\n        Engine._bodiesClearForces(allBodies);\n\n        Events.trigger(engine, 'afterUpdate', event);\n\n        // log the time elapsed computing this update\n        engine.timing.lastElapsed = Common.now() - startTime;\n\n        return engine;\n    };\n    \n    /**\n     * Merges two engines by keeping the configuration of `engineA` but replacing the world with the one from `engineB`.\n     * @method merge\n     * @param {engine} engineA\n     * @param {engine} engineB\n     */\n    Engine.merge = function(engineA, engineB) {\n        Common.extend(engineA, engineB);\n        \n        if (engineB.world) {\n            engineA.world = engineB.world;\n\n            Engine.clear(engineA);\n\n            var bodies = Composite.allBodies(engineA.world);\n\n            for (var i = 0; i < bodies.length; i++) {\n                var body = bodies[i];\n                Sleeping.set(body, false);\n                body.id = Common.nextId();\n            }\n        }\n    };\n\n    /**\n     * Clears the engine pairs and detector.\n     * @method clear\n     * @param {engine} engine\n     */\n    Engine.clear = function(engine) {\n        Pairs.clear(engine.pairs);\n        Detector.clear(engine.detector);\n    };\n\n    /**\n     * Zeroes the `body.force` and `body.torque` force buffers.\n     * @method _bodiesClearForces\n     * @private\n     * @param {body[]} bodies\n     */\n    Engine._bodiesClearForces = function(bodies) {\n        var bodiesLength = bodies.length;\n\n        for (var i = 0; i < bodiesLength; i++) {\n            var body = bodies[i];\n\n            // reset force buffers\n            body.force.x = 0;\n            body.force.y = 0;\n            body.torque = 0;\n        }\n    };\n\n    /**\n     * Applies gravitational acceleration to all `bodies`.\n     * This models a [uniform gravitational field](https://en.wikipedia.org/wiki/Gravity_of_Earth), similar to near the surface of a planet.\n     * \n     * @method _bodiesApplyGravity\n     * @private\n     * @param {body[]} bodies\n     * @param {vector} gravity\n     */\n    Engine._bodiesApplyGravity = function(bodies, gravity) {\n        var gravityScale = typeof gravity.scale !== 'undefined' ? gravity.scale : 0.001,\n            bodiesLength = bodies.length;\n\n        if ((gravity.x === 0 && gravity.y === 0) || gravityScale === 0) {\n            return;\n        }\n        \n        for (var i = 0; i < bodiesLength; i++) {\n            var body = bodies[i];\n\n            if (body.isStatic || body.isSleeping)\n                continue;\n\n            // add the resultant force of gravity\n            body.force.y += body.mass * gravity.y * gravityScale;\n            body.force.x += body.mass * gravity.x * gravityScale;\n        }\n    };\n\n    /**\n     * Applies `Body.update` to all given `bodies`.\n     * @method _bodiesUpdate\n     * @private\n     * @param {body[]} bodies\n     * @param {number} delta The amount of time elapsed between updates\n     */\n    Engine._bodiesUpdate = function(bodies, delta) {\n        var bodiesLength = bodies.length;\n\n        for (var i = 0; i < bodiesLength; i++) {\n            var body = bodies[i];\n\n            if (body.isStatic || body.isSleeping)\n                continue;\n\n            Body.update(body, delta);\n        }\n    };\n\n    /**\n     * Applies `Body.updateVelocities` to all given `bodies`.\n     * @method _bodiesUpdateVelocities\n     * @private\n     * @param {body[]} bodies\n     */\n    Engine._bodiesUpdateVelocities = function(bodies) {\n        var bodiesLength = bodies.length;\n\n        for (var i = 0; i < bodiesLength; i++) {\n            Body.updateVelocities(bodies[i]);\n        }\n    };\n\n    /**\n     * A deprecated alias for `Runner.run`, use `Matter.Runner.run(engine)` instead and see `Matter.Runner` for more information.\n     * @deprecated use Matter.Runner.run(engine) instead\n     * @method run\n     * @param {engine} engine\n     */\n\n    /**\n    * Fired just before an update\n    *\n    * @event beforeUpdate\n    * @param {object} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {number} event.delta The delta time in milliseconds value used in the update\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update and all collision events\n    *\n    * @event afterUpdate\n    * @param {object} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {number} event.delta The delta time in milliseconds value used in the update\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update, provides a list of all pairs that have started to collide in the current tick (if any)\n    *\n    * @event collisionStart\n    * @param {object} event An event object\n    * @param {pair[]} event.pairs List of affected pairs\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {number} event.delta The delta time in milliseconds value used in the update\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update, provides a list of all pairs that are colliding in the current tick (if any)\n    *\n    * @event collisionActive\n    * @param {object} event An event object\n    * @param {pair[]} event.pairs List of affected pairs\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {number} event.delta The delta time in milliseconds value used in the update\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update, provides a list of all pairs that have ended collision in the current tick (if any)\n    *\n    * @event collisionEnd\n    * @param {object} event An event object\n    * @param {pair[]} event.pairs List of affected pairs\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {number} event.delta The delta time in milliseconds value used in the update\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` that specifies the number of position iterations to perform each update.\n     * The higher the value, the higher quality the simulation will be at the expense of performance.\n     *\n     * @property positionIterations\n     * @type number\n     * @default 6\n     */\n\n    /**\n     * An integer `Number` that specifies the number of velocity iterations to perform each update.\n     * The higher the value, the higher quality the simulation will be at the expense of performance.\n     *\n     * @property velocityIterations\n     * @type number\n     * @default 4\n     */\n\n    /**\n     * An integer `Number` that specifies the number of constraint iterations to perform each update.\n     * The higher the value, the higher quality the simulation will be at the expense of performance.\n     * The default value of `2` is usually very adequate.\n     *\n     * @property constraintIterations\n     * @type number\n     * @default 2\n     */\n\n    /**\n     * A flag that specifies whether the engine should allow sleeping via the `Matter.Sleeping` module.\n     * Sleeping can improve stability and performance, but often at the expense of accuracy.\n     *\n     * @property enableSleeping\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * An `Object` containing properties regarding the timing systems of the engine. \n     *\n     * @property timing\n     * @type object\n     */\n\n    /**\n     * A `Number` that specifies the global scaling factor of time for all bodies.\n     * A value of `0` freezes the simulation.\n     * A value of `0.1` gives a slow-motion effect.\n     * A value of `1.2` gives a speed-up effect.\n     *\n     * @property timing.timeScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A `Number` that specifies the current simulation-time in milliseconds starting from `0`. \n     * It is incremented on every `Engine.update` by the given `delta` argument. \n     * \n     * @property timing.timestamp\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that represents the total execution time elapsed during the last `Engine.update` in milliseconds.\n     * It is updated by timing from the start of the last `Engine.update` call until it ends.\n     *\n     * This value will also include the total execution time of all event handlers directly or indirectly triggered by the engine update.\n     * \n     * @property timing.lastElapsed\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that represents the `delta` value used in the last engine update.\n     * \n     * @property timing.lastDelta\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Matter.Detector` instance.\n     *\n     * @property detector\n     * @type detector\n     * @default a Matter.Detector instance\n     */\n\n    /**\n     * A `Matter.Grid` instance.\n     *\n     * @deprecated replaced by `engine.detector`\n     * @property grid\n     * @type grid\n     * @default a Matter.Grid instance\n     */\n\n    /**\n     * Replaced by and now alias for `engine.grid`.\n     *\n     * @deprecated replaced by `engine.detector`\n     * @property broadphase\n     * @type grid\n     * @default a Matter.Grid instance\n     */\n\n    /**\n     * The root `Matter.Composite` instance that will contain all bodies, constraints and other composites to be simulated by this engine.\n     *\n     * @property world\n     * @type composite\n     * @default a Matter.Composite instance\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n    /**\n     * An optional gravitational acceleration applied to all bodies in `engine.world` on every update.\n     * \n     * This models a [uniform gravitational field](https://en.wikipedia.org/wiki/Gravity_of_Earth), similar to near the surface of a planet. For gravity in other contexts, disable this and apply forces as needed.\n     * \n     * To disable set the `scale` component to `0`.\n     * \n     * This is split into three components for ease of use:  \n     * a normalised direction (`x` and `y`) and magnitude (`scale`).\n     *\n     * @property gravity\n     * @type object\n     */\n\n    /**\n     * The gravitational direction normal `x` component, to be multiplied by `gravity.scale`.\n     * \n     * @property gravity.x\n     * @type object\n     * @default 0\n     */\n\n    /**\n     * The gravitational direction normal `y` component, to be multiplied by `gravity.scale`.\n     *\n     * @property gravity.y\n     * @type object\n     * @default 1\n     */\n\n    /**\n     * The magnitude of the gravitational acceleration.\n     * \n     * @property gravity.scale\n     * @type object\n     * @default 0.001\n     */\n\n})();\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Resolver` module contains methods for resolving collision pairs.\n*\n* @class Resolver\n*/\n\nvar Resolver = {};\n\nmodule.exports = Resolver;\n\nvar Vertices = __webpack_require__(3);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\n\n(function() {\n\n    Resolver._restingThresh = 2;\n    Resolver._restingThreshTangent = Math.sqrt(6);\n    Resolver._positionDampen = 0.9;\n    Resolver._positionWarming = 0.8;\n    Resolver._frictionNormalMultiplier = 5;\n    Resolver._frictionMaxStatic = Number.MAX_VALUE;\n\n    /**\n     * Prepare pairs for position solving.\n     * @method preSolvePosition\n     * @param {pair[]} pairs\n     */\n    Resolver.preSolvePosition = function(pairs) {\n        var i,\n            pair,\n            activeCount,\n            pairsLength = pairs.length;\n\n        // find total contacts on each body\n        for (i = 0; i < pairsLength; i++) {\n            pair = pairs[i];\n            \n            if (!pair.isActive)\n                continue;\n            \n            activeCount = pair.activeContacts.length;\n            pair.collision.parentA.totalContacts += activeCount;\n            pair.collision.parentB.totalContacts += activeCount;\n        }\n    };\n\n    /**\n     * Find a solution for pair positions.\n     * @method solvePosition\n     * @param {pair[]} pairs\n     * @param {number} delta\n     * @param {number} [damping=1]\n     */\n    Resolver.solvePosition = function(pairs, delta, damping) {\n        var i,\n            pair,\n            collision,\n            bodyA,\n            bodyB,\n            normal,\n            contactShare,\n            positionImpulse,\n            positionDampen = Resolver._positionDampen * (damping || 1),\n            slopDampen = Common.clamp(delta / Common._baseDelta, 0, 1),\n            pairsLength = pairs.length;\n\n        // find impulses required to resolve penetration\n        for (i = 0; i < pairsLength; i++) {\n            pair = pairs[i];\n            \n            if (!pair.isActive || pair.isSensor)\n                continue;\n\n            collision = pair.collision;\n            bodyA = collision.parentA;\n            bodyB = collision.parentB;\n            normal = collision.normal;\n\n            // get current separation between body edges involved in collision\n            pair.separation = \n                normal.x * (bodyB.positionImpulse.x + collision.penetration.x - bodyA.positionImpulse.x)\n                + normal.y * (bodyB.positionImpulse.y + collision.penetration.y - bodyA.positionImpulse.y);\n        }\n        \n        for (i = 0; i < pairsLength; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive || pair.isSensor)\n                continue;\n            \n            collision = pair.collision;\n            bodyA = collision.parentA;\n            bodyB = collision.parentB;\n            normal = collision.normal;\n            positionImpulse = pair.separation - pair.slop * slopDampen;\n\n            if (bodyA.isStatic || bodyB.isStatic)\n                positionImpulse *= 2;\n            \n            if (!(bodyA.isStatic || bodyA.isSleeping)) {\n                contactShare = positionDampen / bodyA.totalContacts;\n                bodyA.positionImpulse.x += normal.x * positionImpulse * contactShare;\n                bodyA.positionImpulse.y += normal.y * positionImpulse * contactShare;\n            }\n\n            if (!(bodyB.isStatic || bodyB.isSleeping)) {\n                contactShare = positionDampen / bodyB.totalContacts;\n                bodyB.positionImpulse.x -= normal.x * positionImpulse * contactShare;\n                bodyB.positionImpulse.y -= normal.y * positionImpulse * contactShare;\n            }\n        }\n    };\n\n    /**\n     * Apply position resolution.\n     * @method postSolvePosition\n     * @param {body[]} bodies\n     */\n    Resolver.postSolvePosition = function(bodies) {\n        var positionWarming = Resolver._positionWarming,\n            bodiesLength = bodies.length,\n            verticesTranslate = Vertices.translate,\n            boundsUpdate = Bounds.update;\n\n        for (var i = 0; i < bodiesLength; i++) {\n            var body = bodies[i],\n                positionImpulse = body.positionImpulse,\n                positionImpulseX = positionImpulse.x,\n                positionImpulseY = positionImpulse.y,\n                velocity = body.velocity;\n\n            // reset contact count\n            body.totalContacts = 0;\n\n            if (positionImpulseX !== 0 || positionImpulseY !== 0) {\n                // update body geometry\n                for (var j = 0; j < body.parts.length; j++) {\n                    var part = body.parts[j];\n                    verticesTranslate(part.vertices, positionImpulse);\n                    boundsUpdate(part.bounds, part.vertices, velocity);\n                    part.position.x += positionImpulseX;\n                    part.position.y += positionImpulseY;\n                }\n\n                // move the body without changing velocity\n                body.positionPrev.x += positionImpulseX;\n                body.positionPrev.y += positionImpulseY;\n\n                if (positionImpulseX * velocity.x + positionImpulseY * velocity.y < 0) {\n                    // reset cached impulse if the body has velocity along it\n                    positionImpulse.x = 0;\n                    positionImpulse.y = 0;\n                } else {\n                    // warm the next iteration\n                    positionImpulse.x *= positionWarming;\n                    positionImpulse.y *= positionWarming;\n                }\n            }\n        }\n    };\n\n    /**\n     * Prepare pairs for velocity solving.\n     * @method preSolveVelocity\n     * @param {pair[]} pairs\n     */\n    Resolver.preSolveVelocity = function(pairs) {\n        var pairsLength = pairs.length,\n            i,\n            j;\n        \n        for (i = 0; i < pairsLength; i++) {\n            var pair = pairs[i];\n            \n            if (!pair.isActive || pair.isSensor)\n                continue;\n            \n            var contacts = pair.activeContacts,\n                contactsLength = contacts.length,\n                collision = pair.collision,\n                bodyA = collision.parentA,\n                bodyB = collision.parentB,\n                normal = collision.normal,\n                tangent = collision.tangent;\n    \n            // resolve each contact\n            for (j = 0; j < contactsLength; j++) {\n                var contact = contacts[j],\n                    contactVertex = contact.vertex,\n                    normalImpulse = contact.normalImpulse,\n                    tangentImpulse = contact.tangentImpulse;\n    \n                if (normalImpulse !== 0 || tangentImpulse !== 0) {\n                    // total impulse from contact\n                    var impulseX = normal.x * normalImpulse + tangent.x * tangentImpulse,\n                        impulseY = normal.y * normalImpulse + tangent.y * tangentImpulse;\n                    \n                    // apply impulse from contact\n                    if (!(bodyA.isStatic || bodyA.isSleeping)) {\n                        bodyA.positionPrev.x += impulseX * bodyA.inverseMass;\n                        bodyA.positionPrev.y += impulseY * bodyA.inverseMass;\n                        bodyA.anglePrev += bodyA.inverseInertia * (\n                            (contactVertex.x - bodyA.position.x) * impulseY\n                            - (contactVertex.y - bodyA.position.y) * impulseX\n                        );\n                    }\n    \n                    if (!(bodyB.isStatic || bodyB.isSleeping)) {\n                        bodyB.positionPrev.x -= impulseX * bodyB.inverseMass;\n                        bodyB.positionPrev.y -= impulseY * bodyB.inverseMass;\n                        bodyB.anglePrev -= bodyB.inverseInertia * (\n                            (contactVertex.x - bodyB.position.x) * impulseY \n                            - (contactVertex.y - bodyB.position.y) * impulseX\n                        );\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n     * Find a solution for pair velocities.\n     * @method solveVelocity\n     * @param {pair[]} pairs\n     * @param {number} delta\n     */\n    Resolver.solveVelocity = function(pairs, delta) {\n        var timeScale = delta / Common._baseDelta,\n            timeScaleSquared = timeScale * timeScale,\n            timeScaleCubed = timeScaleSquared * timeScale,\n            restingThresh = -Resolver._restingThresh * timeScale,\n            restingThreshTangent = Resolver._restingThreshTangent,\n            frictionNormalMultiplier = Resolver._frictionNormalMultiplier * timeScale,\n            frictionMaxStatic = Resolver._frictionMaxStatic,\n            pairsLength = pairs.length,\n            tangentImpulse,\n            maxFriction,\n            i,\n            j;\n\n        for (i = 0; i < pairsLength; i++) {\n            var pair = pairs[i];\n            \n            if (!pair.isActive || pair.isSensor)\n                continue;\n            \n            var collision = pair.collision,\n                bodyA = collision.parentA,\n                bodyB = collision.parentB,\n                bodyAVelocity = bodyA.velocity,\n                bodyBVelocity = bodyB.velocity,\n                normalX = collision.normal.x,\n                normalY = collision.normal.y,\n                tangentX = collision.tangent.x,\n                tangentY = collision.tangent.y,\n                contacts = pair.activeContacts,\n                contactsLength = contacts.length,\n                contactShare = 1 / contactsLength,\n                inverseMassTotal = bodyA.inverseMass + bodyB.inverseMass,\n                friction = pair.friction * pair.frictionStatic * frictionNormalMultiplier;\n\n            // update body velocities\n            bodyAVelocity.x = bodyA.position.x - bodyA.positionPrev.x;\n            bodyAVelocity.y = bodyA.position.y - bodyA.positionPrev.y;\n            bodyBVelocity.x = bodyB.position.x - bodyB.positionPrev.x;\n            bodyBVelocity.y = bodyB.position.y - bodyB.positionPrev.y;\n            bodyA.angularVelocity = bodyA.angle - bodyA.anglePrev;\n            bodyB.angularVelocity = bodyB.angle - bodyB.anglePrev;\n\n            // resolve each contact\n            for (j = 0; j < contactsLength; j++) {\n                var contact = contacts[j],\n                    contactVertex = contact.vertex;\n\n                var offsetAX = contactVertex.x - bodyA.position.x,\n                    offsetAY = contactVertex.y - bodyA.position.y,\n                    offsetBX = contactVertex.x - bodyB.position.x,\n                    offsetBY = contactVertex.y - bodyB.position.y;\n \n                var velocityPointAX = bodyAVelocity.x - offsetAY * bodyA.angularVelocity,\n                    velocityPointAY = bodyAVelocity.y + offsetAX * bodyA.angularVelocity,\n                    velocityPointBX = bodyBVelocity.x - offsetBY * bodyB.angularVelocity,\n                    velocityPointBY = bodyBVelocity.y + offsetBX * bodyB.angularVelocity;\n\n                var relativeVelocityX = velocityPointAX - velocityPointBX,\n                    relativeVelocityY = velocityPointAY - velocityPointBY;\n\n                var normalVelocity = normalX * relativeVelocityX + normalY * relativeVelocityY,\n                    tangentVelocity = tangentX * relativeVelocityX + tangentY * relativeVelocityY;\n\n                // coulomb friction\n                var normalOverlap = pair.separation + normalVelocity;\n                var normalForce = Math.min(normalOverlap, 1);\n                normalForce = normalOverlap < 0 ? 0 : normalForce;\n\n                var frictionLimit = normalForce * friction;\n\n                if (tangentVelocity < -frictionLimit || tangentVelocity > frictionLimit) {\n                    maxFriction = (tangentVelocity > 0 ? tangentVelocity : -tangentVelocity);\n                    tangentImpulse = pair.friction * (tangentVelocity > 0 ? 1 : -1) * timeScaleCubed;\n                    \n                    if (tangentImpulse < -maxFriction) {\n                        tangentImpulse = -maxFriction;\n                    } else if (tangentImpulse > maxFriction) {\n                        tangentImpulse = maxFriction;\n                    }\n                } else {\n                    tangentImpulse = tangentVelocity;\n                    maxFriction = frictionMaxStatic;\n                }\n\n                // account for mass, inertia and contact offset\n                var oAcN = offsetAX * normalY - offsetAY * normalX,\n                    oBcN = offsetBX * normalY - offsetBY * normalX,\n                    share = contactShare / (inverseMassTotal + bodyA.inverseInertia * oAcN * oAcN + bodyB.inverseInertia * oBcN * oBcN);\n\n                // raw impulses\n                var normalImpulse = (1 + pair.restitution) * normalVelocity * share;\n                tangentImpulse *= share;\n\n                // handle high velocity and resting collisions separately\n                if (normalVelocity < restingThresh) {\n                    // high normal velocity so clear cached contact normal impulse\n                    contact.normalImpulse = 0;\n                } else {\n                    // solve resting collision constraints using Erin Catto's method (GDC08)\n                    // impulse constraint tends to 0\n                    var contactNormalImpulse = contact.normalImpulse;\n                    contact.normalImpulse += normalImpulse;\n                    if (contact.normalImpulse > 0) contact.normalImpulse = 0;\n                    normalImpulse = contact.normalImpulse - contactNormalImpulse;\n                }\n\n                // handle high velocity and resting collisions separately\n                if (tangentVelocity < -restingThreshTangent || tangentVelocity > restingThreshTangent) {\n                    // high tangent velocity so clear cached contact tangent impulse\n                    contact.tangentImpulse = 0;\n                } else {\n                    // solve resting collision constraints using Erin Catto's method (GDC08)\n                    // tangent impulse tends to -tangentSpeed or +tangentSpeed\n                    var contactTangentImpulse = contact.tangentImpulse;\n                    contact.tangentImpulse += tangentImpulse;\n                    if (contact.tangentImpulse < -maxFriction) contact.tangentImpulse = -maxFriction;\n                    if (contact.tangentImpulse > maxFriction) contact.tangentImpulse = maxFriction;\n                    tangentImpulse = contact.tangentImpulse - contactTangentImpulse;\n                }\n\n                // total impulse from contact\n                var impulseX = normalX * normalImpulse + tangentX * tangentImpulse,\n                    impulseY = normalY * normalImpulse + tangentY * tangentImpulse;\n                \n                // apply impulse from contact\n                if (!(bodyA.isStatic || bodyA.isSleeping)) {\n                    bodyA.positionPrev.x += impulseX * bodyA.inverseMass;\n                    bodyA.positionPrev.y += impulseY * bodyA.inverseMass;\n                    bodyA.anglePrev += (offsetAX * impulseY - offsetAY * impulseX) * bodyA.inverseInertia;\n                }\n\n                if (!(bodyB.isStatic || bodyB.isSleeping)) {\n                    bodyB.positionPrev.x -= impulseX * bodyB.inverseMass;\n                    bodyB.positionPrev.y -= impulseY * bodyB.inverseMass;\n                    bodyB.anglePrev -= (offsetBX * impulseY - offsetBY * impulseX) * bodyB.inverseInertia;\n                }\n            }\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Pairs` module contains methods for creating and manipulating collision pair sets.\n*\n* @class Pairs\n*/\n\nvar Pairs = {};\n\nmodule.exports = Pairs;\n\nvar Pair = __webpack_require__(9);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a new pairs structure.\n     * @method create\n     * @param {object} options\n     * @return {pairs} A new pairs structure\n     */\n    Pairs.create = function(options) {\n        return Common.extend({ \n            table: {},\n            list: [],\n            collisionStart: [],\n            collisionActive: [],\n            collisionEnd: []\n        }, options);\n    };\n\n    /**\n     * Updates pairs given a list of collisions.\n     * @method update\n     * @param {object} pairs\n     * @param {collision[]} collisions\n     * @param {number} timestamp\n     */\n    Pairs.update = function(pairs, collisions, timestamp) {\n        var pairsList = pairs.list,\n            pairsListLength = pairsList.length,\n            pairsTable = pairs.table,\n            collisionsLength = collisions.length,\n            collisionStart = pairs.collisionStart,\n            collisionEnd = pairs.collisionEnd,\n            collisionActive = pairs.collisionActive,\n            collision,\n            pairIndex,\n            pair,\n            i;\n\n        // clear collision state arrays, but maintain old reference\n        collisionStart.length = 0;\n        collisionEnd.length = 0;\n        collisionActive.length = 0;\n\n        for (i = 0; i < pairsListLength; i++) {\n            pairsList[i].confirmedActive = false;\n        }\n\n        for (i = 0; i < collisionsLength; i++) {\n            collision = collisions[i];\n            pair = collision.pair;\n\n            if (pair) {\n                // pair already exists (but may or may not be active)\n                if (pair.isActive) {\n                    // pair exists and is active\n                    collisionActive.push(pair);\n                } else {\n                    // pair exists but was inactive, so a collision has just started again\n                    collisionStart.push(pair);\n                }\n\n                // update the pair\n                Pair.update(pair, collision, timestamp);\n                pair.confirmedActive = true;\n            } else {\n                // pair did not exist, create a new pair\n                pair = Pair.create(collision, timestamp);\n                pairsTable[pair.id] = pair;\n\n                // push the new pair\n                collisionStart.push(pair);\n                pairsList.push(pair);\n            }\n        }\n\n        // find pairs that are no longer active\n        var removePairIndex = [];\n        pairsListLength = pairsList.length;\n\n        for (i = 0; i < pairsListLength; i++) {\n            pair = pairsList[i];\n            \n            if (!pair.confirmedActive) {\n                Pair.setActive(pair, false, timestamp);\n                collisionEnd.push(pair);\n\n                if (!pair.collision.bodyA.isSleeping && !pair.collision.bodyB.isSleeping) {\n                    removePairIndex.push(i);\n                }\n            }\n        }\n\n        // remove inactive pairs\n        for (i = 0; i < removePairIndex.length; i++) {\n            pairIndex = removePairIndex[i] - i;\n            pair = pairsList[pairIndex];\n            pairsList.splice(pairIndex, 1);\n            delete pairsTable[pair.id];\n        }\n    };\n\n    /**\n     * Clears the given pairs structure.\n     * @method clear\n     * @param {pairs} pairs\n     * @return {pairs} pairs\n     */\n    Pairs.clear = function(pairs) {\n        pairs.table = {};\n        pairs.list.length = 0;\n        pairs.collisionStart.length = 0;\n        pairs.collisionActive.length = 0;\n        pairs.collisionEnd.length = 0;\n        return pairs;\n    };\n\n})();\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Matter = module.exports = __webpack_require__(21);\r\n\r\nMatter.Axes = __webpack_require__(11);\r\nMatter.Bodies = __webpack_require__(12);\r\nMatter.Body = __webpack_require__(4);\r\nMatter.Bounds = __webpack_require__(1);\r\nMatter.Collision = __webpack_require__(8);\r\nMatter.Common = __webpack_require__(0);\r\nMatter.Composite = __webpack_require__(6);\r\nMatter.Composites = __webpack_require__(22);\r\nMatter.Constraint = __webpack_require__(10);\r\nMatter.Contact = __webpack_require__(16);\r\nMatter.Detector = __webpack_require__(13);\r\nMatter.Engine = __webpack_require__(17);\r\nMatter.Events = __webpack_require__(5);\r\nMatter.Grid = __webpack_require__(23);\r\nMatter.Mouse = __webpack_require__(14);\r\nMatter.MouseConstraint = __webpack_require__(24);\r\nMatter.Pair = __webpack_require__(9);\r\nMatter.Pairs = __webpack_require__(19);\r\nMatter.Plugin = __webpack_require__(15);\r\nMatter.Query = __webpack_require__(25);\r\nMatter.Render = __webpack_require__(26);\r\nMatter.Resolver = __webpack_require__(18);\r\nMatter.Runner = __webpack_require__(27);\r\nMatter.SAT = __webpack_require__(28);\r\nMatter.Sleeping = __webpack_require__(7);\r\nMatter.Svg = __webpack_require__(29);\r\nMatter.Vector = __webpack_require__(2);\r\nMatter.Vertices = __webpack_require__(3);\r\nMatter.World = __webpack_require__(30);\r\n\r\n// temporary back compatibility\r\nMatter.Engine.run = Matter.Runner.run;\r\nMatter.Common.deprecated(Matter.Engine, 'run', 'Engine.run  use Matter.Runner.run(engine) instead');\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\r\n* The `Matter` module is the top level namespace. It also includes a function for installing plugins on top of the library.\r\n*\r\n* @class Matter\r\n*/\r\n\r\nvar Matter = {};\r\n\r\nmodule.exports = Matter;\r\n\r\nvar Plugin = __webpack_require__(15);\r\nvar Common = __webpack_require__(0);\r\n\r\n(function() {\r\n\r\n    /**\r\n     * The library name.\r\n     * @property name\r\n     * @readOnly\r\n     * @type {String}\r\n     */\r\n    Matter.name = 'matter-js';\r\n\r\n    /**\r\n     * The library version.\r\n     * @property version\r\n     * @readOnly\r\n     * @type {String}\r\n     */\r\n    Matter.version =  true ? \"0.19.0\" : undefined;\r\n\r\n    /**\r\n     * A list of plugin dependencies to be installed. These are normally set and installed through `Matter.use`.\r\n     * Alternatively you may set `Matter.uses` manually and install them by calling `Plugin.use(Matter)`.\r\n     * @property uses\r\n     * @type {Array}\r\n     */\r\n    Matter.uses = [];\r\n\r\n    /**\r\n     * The plugins that have been installed through `Matter.Plugin.install`. Read only.\r\n     * @property used\r\n     * @readOnly\r\n     * @type {Array}\r\n     */\r\n    Matter.used = [];\r\n\r\n    /**\r\n     * Installs the given plugins on the `Matter` namespace.\r\n     * This is a short-hand for `Plugin.use`, see it for more information.\r\n     * Call this function once at the start of your code, with all of the plugins you wish to install as arguments.\r\n     * Avoid calling this function multiple times unless you intend to manually control installation order.\r\n     * @method use\r\n     * @param ...plugin {Function} The plugin(s) to install on `base` (multi-argument).\r\n     */\r\n    Matter.use = function() {\r\n        Plugin.use(Matter, Array.prototype.slice.call(arguments));\r\n    };\r\n\r\n    /**\r\n     * Chains a function to excute before the original function on the given `path` relative to `Matter`.\r\n     * See also docs for `Common.chain`.\r\n     * @method before\r\n     * @param {string} path The path relative to `Matter`\r\n     * @param {function} func The function to chain before the original\r\n     * @return {function} The chained function that replaced the original\r\n     */\r\n    Matter.before = function(path, func) {\r\n        path = path.replace(/^Matter./, '');\r\n        return Common.chainPathBefore(Matter, path, func);\r\n    };\r\n\r\n    /**\r\n     * Chains a function to excute after the original function on the given `path` relative to `Matter`.\r\n     * See also docs for `Common.chain`.\r\n     * @method after\r\n     * @param {string} path The path relative to `Matter`\r\n     * @param {function} func The function to chain after the original\r\n     * @return {function} The chained function that replaced the original\r\n     */\r\n    Matter.after = function(path, func) {\r\n        path = path.replace(/^Matter./, '');\r\n        return Common.chainPathAfter(Matter, path, func);\r\n    };\r\n\r\n})();\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Composites` module contains factory methods for creating composite bodies\n* with commonly used configurations (such as stacks and chains).\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Composites\n*/\n\nvar Composites = {};\n\nmodule.exports = Composites;\n\nvar Composite = __webpack_require__(6);\nvar Constraint = __webpack_require__(10);\nvar Common = __webpack_require__(0);\nvar Body = __webpack_require__(4);\nvar Bodies = __webpack_require__(12);\nvar deprecated = Common.deprecated;\n\n(function() {\n\n    /**\n     * Create a new composite containing bodies created in the callback in a grid arrangement.\n     * This function uses the body's bounds to prevent overlaps.\n     * @method stack\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} columns\n     * @param {number} rows\n     * @param {number} columnGap\n     * @param {number} rowGap\n     * @param {function} callback\n     * @return {composite} A new composite containing objects created in the callback\n     */\n    Composites.stack = function(xx, yy, columns, rows, columnGap, rowGap, callback) {\n        var stack = Composite.create({ label: 'Stack' }),\n            x = xx,\n            y = yy,\n            lastBody,\n            i = 0;\n\n        for (var row = 0; row < rows; row++) {\n            var maxHeight = 0;\n            \n            for (var column = 0; column < columns; column++) {\n                var body = callback(x, y, column, row, lastBody, i);\n                    \n                if (body) {\n                    var bodyHeight = body.bounds.max.y - body.bounds.min.y,\n                        bodyWidth = body.bounds.max.x - body.bounds.min.x; \n\n                    if (bodyHeight > maxHeight)\n                        maxHeight = bodyHeight;\n                    \n                    Body.translate(body, { x: bodyWidth * 0.5, y: bodyHeight * 0.5 });\n\n                    x = body.bounds.max.x + columnGap;\n\n                    Composite.addBody(stack, body);\n                    \n                    lastBody = body;\n                    i += 1;\n                } else {\n                    x += columnGap;\n                }\n            }\n            \n            y += maxHeight + rowGap;\n            x = xx;\n        }\n\n        return stack;\n    };\n    \n    /**\n     * Chains all bodies in the given composite together using constraints.\n     * @method chain\n     * @param {composite} composite\n     * @param {number} xOffsetA\n     * @param {number} yOffsetA\n     * @param {number} xOffsetB\n     * @param {number} yOffsetB\n     * @param {object} options\n     * @return {composite} A new composite containing objects chained together with constraints\n     */\n    Composites.chain = function(composite, xOffsetA, yOffsetA, xOffsetB, yOffsetB, options) {\n        var bodies = composite.bodies;\n        \n        for (var i = 1; i < bodies.length; i++) {\n            var bodyA = bodies[i - 1],\n                bodyB = bodies[i],\n                bodyAHeight = bodyA.bounds.max.y - bodyA.bounds.min.y,\n                bodyAWidth = bodyA.bounds.max.x - bodyA.bounds.min.x, \n                bodyBHeight = bodyB.bounds.max.y - bodyB.bounds.min.y,\n                bodyBWidth = bodyB.bounds.max.x - bodyB.bounds.min.x;\n        \n            var defaults = {\n                bodyA: bodyA,\n                pointA: { x: bodyAWidth * xOffsetA, y: bodyAHeight * yOffsetA },\n                bodyB: bodyB,\n                pointB: { x: bodyBWidth * xOffsetB, y: bodyBHeight * yOffsetB }\n            };\n            \n            var constraint = Common.extend(defaults, options);\n        \n            Composite.addConstraint(composite, Constraint.create(constraint));\n        }\n\n        composite.label += ' Chain';\n        \n        return composite;\n    };\n\n    /**\n     * Connects bodies in the composite with constraints in a grid pattern, with optional cross braces.\n     * @method mesh\n     * @param {composite} composite\n     * @param {number} columns\n     * @param {number} rows\n     * @param {boolean} crossBrace\n     * @param {object} options\n     * @return {composite} The composite containing objects meshed together with constraints\n     */\n    Composites.mesh = function(composite, columns, rows, crossBrace, options) {\n        var bodies = composite.bodies,\n            row,\n            col,\n            bodyA,\n            bodyB,\n            bodyC;\n        \n        for (row = 0; row < rows; row++) {\n            for (col = 1; col < columns; col++) {\n                bodyA = bodies[(col - 1) + (row * columns)];\n                bodyB = bodies[col + (row * columns)];\n                Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyA, bodyB: bodyB }, options)));\n            }\n\n            if (row > 0) {\n                for (col = 0; col < columns; col++) {\n                    bodyA = bodies[col + ((row - 1) * columns)];\n                    bodyB = bodies[col + (row * columns)];\n                    Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyA, bodyB: bodyB }, options)));\n\n                    if (crossBrace && col > 0) {\n                        bodyC = bodies[(col - 1) + ((row - 1) * columns)];\n                        Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyC, bodyB: bodyB }, options)));\n                    }\n\n                    if (crossBrace && col < columns - 1) {\n                        bodyC = bodies[(col + 1) + ((row - 1) * columns)];\n                        Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyC, bodyB: bodyB }, options)));\n                    }\n                }\n            }\n        }\n\n        composite.label += ' Mesh';\n        \n        return composite;\n    };\n    \n    /**\n     * Create a new composite containing bodies created in the callback in a pyramid arrangement.\n     * This function uses the body's bounds to prevent overlaps.\n     * @method pyramid\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} columns\n     * @param {number} rows\n     * @param {number} columnGap\n     * @param {number} rowGap\n     * @param {function} callback\n     * @return {composite} A new composite containing objects created in the callback\n     */\n    Composites.pyramid = function(xx, yy, columns, rows, columnGap, rowGap, callback) {\n        return Composites.stack(xx, yy, columns, rows, columnGap, rowGap, function(x, y, column, row, lastBody, i) {\n            var actualRows = Math.min(rows, Math.ceil(columns / 2)),\n                lastBodyWidth = lastBody ? lastBody.bounds.max.x - lastBody.bounds.min.x : 0;\n            \n            if (row > actualRows)\n                return;\n            \n            // reverse row order\n            row = actualRows - row;\n            \n            var start = row,\n                end = columns - 1 - row;\n\n            if (column < start || column > end)\n                return;\n            \n            // retroactively fix the first body's position, since width was unknown\n            if (i === 1) {\n                Body.translate(lastBody, { x: (column + (columns % 2 === 1 ? 1 : -1)) * lastBodyWidth, y: 0 });\n            }\n\n            var xOffset = lastBody ? column * lastBodyWidth : 0;\n            \n            return callback(xx + xOffset + column * columnGap, y, column, row, lastBody, i);\n        });\n    };\n\n    /**\n     * This has now moved to the [newtonsCradle example](https://github.com/liabru/matter-js/blob/master/examples/newtonsCradle.js), follow that instead as this function is deprecated here.\n     * @deprecated moved to newtonsCradle example\n     * @method newtonsCradle\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} number\n     * @param {number} size\n     * @param {number} length\n     * @return {composite} A new composite newtonsCradle body\n     */\n    Composites.newtonsCradle = function(xx, yy, number, size, length) {\n        var newtonsCradle = Composite.create({ label: 'Newtons Cradle' });\n\n        for (var i = 0; i < number; i++) {\n            var separation = 1.9,\n                circle = Bodies.circle(xx + i * (size * separation), yy + length, size, \n                    { inertia: Infinity, restitution: 1, friction: 0, frictionAir: 0.0001, slop: 1 }),\n                constraint = Constraint.create({ pointA: { x: xx + i * (size * separation), y: yy }, bodyB: circle });\n\n            Composite.addBody(newtonsCradle, circle);\n            Composite.addConstraint(newtonsCradle, constraint);\n        }\n\n        return newtonsCradle;\n    };\n\n    deprecated(Composites, 'newtonsCradle', 'Composites.newtonsCradle  moved to newtonsCradle example');\n    \n    /**\n     * This has now moved to the [car example](https://github.com/liabru/matter-js/blob/master/examples/car.js), follow that instead as this function is deprecated here.\n     * @deprecated moved to car example\n     * @method car\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} width\n     * @param {number} height\n     * @param {number} wheelSize\n     * @return {composite} A new composite car body\n     */\n    Composites.car = function(xx, yy, width, height, wheelSize) {\n        var group = Body.nextGroup(true),\n            wheelBase = 20,\n            wheelAOffset = -width * 0.5 + wheelBase,\n            wheelBOffset = width * 0.5 - wheelBase,\n            wheelYOffset = 0;\n    \n        var car = Composite.create({ label: 'Car' }),\n            body = Bodies.rectangle(xx, yy, width, height, { \n                collisionFilter: {\n                    group: group\n                },\n                chamfer: {\n                    radius: height * 0.5\n                },\n                density: 0.0002\n            });\n    \n        var wheelA = Bodies.circle(xx + wheelAOffset, yy + wheelYOffset, wheelSize, { \n            collisionFilter: {\n                group: group\n            },\n            friction: 0.8\n        });\n                    \n        var wheelB = Bodies.circle(xx + wheelBOffset, yy + wheelYOffset, wheelSize, { \n            collisionFilter: {\n                group: group\n            },\n            friction: 0.8\n        });\n                    \n        var axelA = Constraint.create({\n            bodyB: body,\n            pointB: { x: wheelAOffset, y: wheelYOffset },\n            bodyA: wheelA,\n            stiffness: 1,\n            length: 0\n        });\n                        \n        var axelB = Constraint.create({\n            bodyB: body,\n            pointB: { x: wheelBOffset, y: wheelYOffset },\n            bodyA: wheelB,\n            stiffness: 1,\n            length: 0\n        });\n        \n        Composite.addBody(car, body);\n        Composite.addBody(car, wheelA);\n        Composite.addBody(car, wheelB);\n        Composite.addConstraint(car, axelA);\n        Composite.addConstraint(car, axelB);\n\n        return car;\n    };\n\n    deprecated(Composites, 'car', 'Composites.car  moved to car example');\n\n    /**\n     * This has now moved to the [softBody example](https://github.com/liabru/matter-js/blob/master/examples/softBody.js)\n     * and the [cloth example](https://github.com/liabru/matter-js/blob/master/examples/cloth.js), follow those instead as this function is deprecated here.\n     * @deprecated moved to softBody and cloth examples\n     * @method softBody\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} columns\n     * @param {number} rows\n     * @param {number} columnGap\n     * @param {number} rowGap\n     * @param {boolean} crossBrace\n     * @param {number} particleRadius\n     * @param {} particleOptions\n     * @param {} constraintOptions\n     * @return {composite} A new composite softBody\n     */\n    Composites.softBody = function(xx, yy, columns, rows, columnGap, rowGap, crossBrace, particleRadius, particleOptions, constraintOptions) {\n        particleOptions = Common.extend({ inertia: Infinity }, particleOptions);\n        constraintOptions = Common.extend({ stiffness: 0.2, render: { type: 'line', anchors: false } }, constraintOptions);\n\n        var softBody = Composites.stack(xx, yy, columns, rows, columnGap, rowGap, function(x, y) {\n            return Bodies.circle(x, y, particleRadius, particleOptions);\n        });\n\n        Composites.mesh(softBody, columns, rows, crossBrace, constraintOptions);\n\n        softBody.label = 'Soft Body';\n\n        return softBody;\n    };\n\n    deprecated(Composites, 'softBody', 'Composites.softBody  moved to softBody and cloth examples');\n})();\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* This module has now been replaced by `Matter.Detector`.\n*\n* All usage should be migrated to `Matter.Detector` or another alternative.\n* For back-compatibility purposes this module will remain for a short term and then later removed in a future release.\n*\n* The `Matter.Grid` module contains methods for creating and manipulating collision broadphase grid structures.\n*\n* @class Grid\n* @deprecated\n*/\n\nvar Grid = {};\n\nmodule.exports = Grid;\n\nvar Pair = __webpack_require__(9);\nvar Common = __webpack_require__(0);\nvar deprecated = Common.deprecated;\n\n(function() {\n\n    /**\n     * Creates a new grid.\n     * @deprecated replaced by Matter.Detector\n     * @method create\n     * @param {} options\n     * @return {grid} A new grid\n     */\n    Grid.create = function(options) {\n        var defaults = {\n            buckets: {},\n            pairs: {},\n            pairsList: [],\n            bucketWidth: 48,\n            bucketHeight: 48\n        };\n\n        return Common.extend(defaults, options);\n    };\n\n    /**\n     * The width of a single grid bucket.\n     *\n     * @property bucketWidth\n     * @type number\n     * @default 48\n     */\n\n    /**\n     * The height of a single grid bucket.\n     *\n     * @property bucketHeight\n     * @type number\n     * @default 48\n     */\n\n    /**\n     * Updates the grid.\n     * @deprecated replaced by Matter.Detector\n     * @method update\n     * @param {grid} grid\n     * @param {body[]} bodies\n     * @param {engine} engine\n     * @param {boolean} forceUpdate\n     */\n    Grid.update = function(grid, bodies, engine, forceUpdate) {\n        var i, col, row,\n            world = engine.world,\n            buckets = grid.buckets,\n            bucket,\n            bucketId,\n            gridChanged = false;\n\n        for (i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.isSleeping && !forceUpdate)\n                continue;\n\n            // temporary back compatibility bounds check\n            if (world.bounds && (body.bounds.max.x < world.bounds.min.x || body.bounds.min.x > world.bounds.max.x\n                || body.bounds.max.y < world.bounds.min.y || body.bounds.min.y > world.bounds.max.y))\n                continue;\n\n            var newRegion = Grid._getRegion(grid, body);\n\n            // if the body has changed grid region\n            if (!body.region || newRegion.id !== body.region.id || forceUpdate) {\n\n                if (!body.region || forceUpdate)\n                    body.region = newRegion;\n\n                var union = Grid._regionUnion(newRegion, body.region);\n\n                // update grid buckets affected by region change\n                // iterate over the union of both regions\n                for (col = union.startCol; col <= union.endCol; col++) {\n                    for (row = union.startRow; row <= union.endRow; row++) {\n                        bucketId = Grid._getBucketId(col, row);\n                        bucket = buckets[bucketId];\n\n                        var isInsideNewRegion = (col >= newRegion.startCol && col <= newRegion.endCol\n                                                && row >= newRegion.startRow && row <= newRegion.endRow);\n\n                        var isInsideOldRegion = (col >= body.region.startCol && col <= body.region.endCol\n                                                && row >= body.region.startRow && row <= body.region.endRow);\n\n                        // remove from old region buckets\n                        if (!isInsideNewRegion && isInsideOldRegion) {\n                            if (isInsideOldRegion) {\n                                if (bucket)\n                                    Grid._bucketRemoveBody(grid, bucket, body);\n                            }\n                        }\n\n                        // add to new region buckets\n                        if (body.region === newRegion || (isInsideNewRegion && !isInsideOldRegion) || forceUpdate) {\n                            if (!bucket)\n                                bucket = Grid._createBucket(buckets, bucketId);\n                            Grid._bucketAddBody(grid, bucket, body);\n                        }\n                    }\n                }\n\n                // set the new region\n                body.region = newRegion;\n\n                // flag changes so we can update pairs\n                gridChanged = true;\n            }\n        }\n\n        // update pairs list only if pairs changed (i.e. a body changed region)\n        if (gridChanged)\n            grid.pairsList = Grid._createActivePairsList(grid);\n    };\n\n    deprecated(Grid, 'update', 'Grid.update  replaced by Matter.Detector');\n\n    /**\n     * Clears the grid.\n     * @deprecated replaced by Matter.Detector\n     * @method clear\n     * @param {grid} grid\n     */\n    Grid.clear = function(grid) {\n        grid.buckets = {};\n        grid.pairs = {};\n        grid.pairsList = [];\n    };\n\n    deprecated(Grid, 'clear', 'Grid.clear  replaced by Matter.Detector');\n\n    /**\n     * Finds the union of two regions.\n     * @method _regionUnion\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} regionA\n     * @param {} regionB\n     * @return {} region\n     */\n    Grid._regionUnion = function(regionA, regionB) {\n        var startCol = Math.min(regionA.startCol, regionB.startCol),\n            endCol = Math.max(regionA.endCol, regionB.endCol),\n            startRow = Math.min(regionA.startRow, regionB.startRow),\n            endRow = Math.max(regionA.endRow, regionB.endRow);\n\n        return Grid._createRegion(startCol, endCol, startRow, endRow);\n    };\n\n    /**\n     * Gets the region a given body falls in for a given grid.\n     * @method _getRegion\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @param {} body\n     * @return {} region\n     */\n    Grid._getRegion = function(grid, body) {\n        var bounds = body.bounds,\n            startCol = Math.floor(bounds.min.x / grid.bucketWidth),\n            endCol = Math.floor(bounds.max.x / grid.bucketWidth),\n            startRow = Math.floor(bounds.min.y / grid.bucketHeight),\n            endRow = Math.floor(bounds.max.y / grid.bucketHeight);\n\n        return Grid._createRegion(startCol, endCol, startRow, endRow);\n    };\n\n    /**\n     * Creates a region.\n     * @method _createRegion\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} startCol\n     * @param {} endCol\n     * @param {} startRow\n     * @param {} endRow\n     * @return {} region\n     */\n    Grid._createRegion = function(startCol, endCol, startRow, endRow) {\n        return { \n            id: startCol + ',' + endCol + ',' + startRow + ',' + endRow,\n            startCol: startCol, \n            endCol: endCol, \n            startRow: startRow, \n            endRow: endRow \n        };\n    };\n\n    /**\n     * Gets the bucket id at the given position.\n     * @method _getBucketId\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} column\n     * @param {} row\n     * @return {string} bucket id\n     */\n    Grid._getBucketId = function(column, row) {\n        return 'C' + column + 'R' + row;\n    };\n\n    /**\n     * Creates a bucket.\n     * @method _createBucket\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} buckets\n     * @param {} bucketId\n     * @return {} bucket\n     */\n    Grid._createBucket = function(buckets, bucketId) {\n        var bucket = buckets[bucketId] = [];\n        return bucket;\n    };\n\n    /**\n     * Adds a body to a bucket.\n     * @method _bucketAddBody\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @param {} bucket\n     * @param {} body\n     */\n    Grid._bucketAddBody = function(grid, bucket, body) {\n        var gridPairs = grid.pairs,\n            pairId = Pair.id,\n            bucketLength = bucket.length,\n            i;\n\n        // add new pairs\n        for (i = 0; i < bucketLength; i++) {\n            var bodyB = bucket[i];\n\n            if (body.id === bodyB.id || (body.isStatic && bodyB.isStatic))\n                continue;\n\n            // keep track of the number of buckets the pair exists in\n            // important for Grid.update to work\n            var id = pairId(body, bodyB),\n                pair = gridPairs[id];\n\n            if (pair) {\n                pair[2] += 1;\n            } else {\n                gridPairs[id] = [body, bodyB, 1];\n            }\n        }\n\n        // add to bodies (after pairs, otherwise pairs with self)\n        bucket.push(body);\n    };\n\n    /**\n     * Removes a body from a bucket.\n     * @method _bucketRemoveBody\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @param {} bucket\n     * @param {} body\n     */\n    Grid._bucketRemoveBody = function(grid, bucket, body) {\n        var gridPairs = grid.pairs,\n            pairId = Pair.id,\n            i;\n\n        // remove from bucket\n        bucket.splice(Common.indexOf(bucket, body), 1);\n\n        var bucketLength = bucket.length;\n\n        // update pair counts\n        for (i = 0; i < bucketLength; i++) {\n            // keep track of the number of buckets the pair exists in\n            // important for _createActivePairsList to work\n            var pair = gridPairs[pairId(body, bucket[i])];\n\n            if (pair)\n                pair[2] -= 1;\n        }\n    };\n\n    /**\n     * Generates a list of the active pairs in the grid.\n     * @method _createActivePairsList\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @return [] pairs\n     */\n    Grid._createActivePairsList = function(grid) {\n        var pair,\n            gridPairs = grid.pairs,\n            pairKeys = Common.keys(gridPairs),\n            pairKeysLength = pairKeys.length,\n            pairs = [],\n            k;\n\n        // iterate over grid.pairs\n        for (k = 0; k < pairKeysLength; k++) {\n            pair = gridPairs[pairKeys[k]];\n\n            // if pair exists in at least one bucket\n            // it is a pair that needs further collision testing so push it\n            if (pair[2] > 0) {\n                pairs.push(pair);\n            } else {\n                delete gridPairs[pairKeys[k]];\n            }\n        }\n\n        return pairs;\n    };\n    \n})();\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.MouseConstraint` module contains methods for creating mouse constraints.\n* Mouse constraints are used for allowing user interaction, providing the ability to move bodies via the mouse or touch.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class MouseConstraint\n*/\n\nvar MouseConstraint = {};\n\nmodule.exports = MouseConstraint;\n\nvar Vertices = __webpack_require__(3);\nvar Sleeping = __webpack_require__(7);\nvar Mouse = __webpack_require__(14);\nvar Events = __webpack_require__(5);\nvar Detector = __webpack_require__(13);\nvar Constraint = __webpack_require__(10);\nvar Composite = __webpack_require__(6);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\n\n(function() {\n\n    /**\n     * Creates a new mouse constraint.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {engine} engine\n     * @param {} options\n     * @return {MouseConstraint} A new MouseConstraint\n     */\n    MouseConstraint.create = function(engine, options) {\n        var mouse = (engine ? engine.mouse : null) || (options ? options.mouse : null);\n\n        if (!mouse) {\n            if (engine && engine.render && engine.render.canvas) {\n                mouse = Mouse.create(engine.render.canvas);\n            } else if (options && options.element) {\n                mouse = Mouse.create(options.element);\n            } else {\n                mouse = Mouse.create();\n                Common.warn('MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected');\n            }\n        }\n\n        var constraint = Constraint.create({ \n            label: 'Mouse Constraint',\n            pointA: mouse.position,\n            pointB: { x: 0, y: 0 },\n            length: 0.01, \n            stiffness: 0.1,\n            angularStiffness: 1,\n            render: {\n                strokeStyle: '#90EE90',\n                lineWidth: 3\n            }\n        });\n\n        var defaults = {\n            type: 'mouseConstraint',\n            mouse: mouse,\n            element: null,\n            body: null,\n            constraint: constraint,\n            collisionFilter: {\n                category: 0x0001,\n                mask: 0xFFFFFFFF,\n                group: 0\n            }\n        };\n\n        var mouseConstraint = Common.extend(defaults, options);\n\n        Events.on(engine, 'beforeUpdate', function() {\n            var allBodies = Composite.allBodies(engine.world);\n            MouseConstraint.update(mouseConstraint, allBodies);\n            MouseConstraint._triggerEvents(mouseConstraint);\n        });\n\n        return mouseConstraint;\n    };\n\n    /**\n     * Updates the given mouse constraint.\n     * @private\n     * @method update\n     * @param {MouseConstraint} mouseConstraint\n     * @param {body[]} bodies\n     */\n    MouseConstraint.update = function(mouseConstraint, bodies) {\n        var mouse = mouseConstraint.mouse,\n            constraint = mouseConstraint.constraint,\n            body = mouseConstraint.body;\n\n        if (mouse.button === 0) {\n            if (!constraint.bodyB) {\n                for (var i = 0; i < bodies.length; i++) {\n                    body = bodies[i];\n                    if (Bounds.contains(body.bounds, mouse.position) \n                            && Detector.canCollide(body.collisionFilter, mouseConstraint.collisionFilter)) {\n                        for (var j = body.parts.length > 1 ? 1 : 0; j < body.parts.length; j++) {\n                            var part = body.parts[j];\n                            if (Vertices.contains(part.vertices, mouse.position)) {\n                                constraint.pointA = mouse.position;\n                                constraint.bodyB = mouseConstraint.body = body;\n                                constraint.pointB = { x: mouse.position.x - body.position.x, y: mouse.position.y - body.position.y };\n                                constraint.angleB = body.angle;\n\n                                Sleeping.set(body, false);\n                                Events.trigger(mouseConstraint, 'startdrag', { mouse: mouse, body: body });\n\n                                break;\n                            }\n                        }\n                    }\n                }\n            } else {\n                Sleeping.set(constraint.bodyB, false);\n                constraint.pointA = mouse.position;\n            }\n        } else {\n            constraint.bodyB = mouseConstraint.body = null;\n            constraint.pointB = null;\n\n            if (body)\n                Events.trigger(mouseConstraint, 'enddrag', { mouse: mouse, body: body });\n        }\n    };\n\n    /**\n     * Triggers mouse constraint events.\n     * @method _triggerEvents\n     * @private\n     * @param {mouse} mouseConstraint\n     */\n    MouseConstraint._triggerEvents = function(mouseConstraint) {\n        var mouse = mouseConstraint.mouse,\n            mouseEvents = mouse.sourceEvents;\n\n        if (mouseEvents.mousemove)\n            Events.trigger(mouseConstraint, 'mousemove', { mouse: mouse });\n\n        if (mouseEvents.mousedown)\n            Events.trigger(mouseConstraint, 'mousedown', { mouse: mouse });\n\n        if (mouseEvents.mouseup)\n            Events.trigger(mouseConstraint, 'mouseup', { mouse: mouse });\n\n        // reset the mouse state ready for the next step\n        Mouse.clearSourceEvents(mouse);\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired when the mouse has moved (or a touch moves) during the last step\n    *\n    * @event mousemove\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the mouse is down (or a touch has started) during the last step\n    *\n    * @event mousedown\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the mouse is up (or a touch has ended) during the last step\n    *\n    * @event mouseup\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the user starts dragging a body\n    *\n    * @event startdrag\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {body} event.body The body being dragged\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the user ends dragging a body\n    *\n    * @event enddrag\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {body} event.body The body that has stopped being dragged\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"constraint\"\n     * @readOnly\n     */\n\n    /**\n     * The `Mouse` instance in use. If not supplied in `MouseConstraint.create`, one will be created.\n     *\n     * @property mouse\n     * @type mouse\n     * @default mouse\n     */\n\n    /**\n     * The `Body` that is currently being moved by the user, or `null` if no body.\n     *\n     * @property body\n     * @type body\n     * @default null\n     */\n\n    /**\n     * The `Constraint` object that is used to move the body during interaction.\n     *\n     * @property constraint\n     * @type constraint\n     */\n\n    /**\n     * An `Object` that specifies the collision filter properties.\n     * The collision filter allows the user to define which types of body this mouse constraint can interact with.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter\n     * @type object\n     */\n\n})();\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Query` module contains methods for performing collision queries.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Query\n*/\n\nvar Query = {};\n\nmodule.exports = Query;\n\nvar Vector = __webpack_require__(2);\nvar Collision = __webpack_require__(8);\nvar Bounds = __webpack_require__(1);\nvar Bodies = __webpack_require__(12);\nvar Vertices = __webpack_require__(3);\n\n(function() {\n\n    /**\n     * Returns a list of collisions between `body` and `bodies`.\n     * @method collides\n     * @param {body} body\n     * @param {body[]} bodies\n     * @return {collision[]} Collisions\n     */\n    Query.collides = function(body, bodies) {\n        var collisions = [],\n            bodiesLength = bodies.length,\n            bounds = body.bounds,\n            collides = Collision.collides,\n            overlaps = Bounds.overlaps;\n\n        for (var i = 0; i < bodiesLength; i++) {\n            var bodyA = bodies[i],\n                partsALength = bodyA.parts.length,\n                partsAStart = partsALength === 1 ? 0 : 1;\n            \n            if (overlaps(bodyA.bounds, bounds)) {\n                for (var j = partsAStart; j < partsALength; j++) {\n                    var part = bodyA.parts[j];\n\n                    if (overlaps(part.bounds, bounds)) {\n                        var collision = collides(part, body);\n\n                        if (collision) {\n                            collisions.push(collision);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        return collisions;\n    };\n\n    /**\n     * Casts a ray segment against a set of bodies and returns all collisions, ray width is optional. Intersection points are not provided.\n     * @method ray\n     * @param {body[]} bodies\n     * @param {vector} startPoint\n     * @param {vector} endPoint\n     * @param {number} [rayWidth]\n     * @return {collision[]} Collisions\n     */\n    Query.ray = function(bodies, startPoint, endPoint, rayWidth) {\n        rayWidth = rayWidth || 1e-100;\n\n        var rayAngle = Vector.angle(startPoint, endPoint),\n            rayLength = Vector.magnitude(Vector.sub(startPoint, endPoint)),\n            rayX = (endPoint.x + startPoint.x) * 0.5,\n            rayY = (endPoint.y + startPoint.y) * 0.5,\n            ray = Bodies.rectangle(rayX, rayY, rayLength, rayWidth, { angle: rayAngle }),\n            collisions = Query.collides(ray, bodies);\n\n        for (var i = 0; i < collisions.length; i += 1) {\n            var collision = collisions[i];\n            collision.body = collision.bodyB = collision.bodyA;            \n        }\n\n        return collisions;\n    };\n\n    /**\n     * Returns all bodies whose bounds are inside (or outside if set) the given set of bounds, from the given set of bodies.\n     * @method region\n     * @param {body[]} bodies\n     * @param {bounds} bounds\n     * @param {bool} [outside=false]\n     * @return {body[]} The bodies matching the query\n     */\n    Query.region = function(bodies, bounds, outside) {\n        var result = [];\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                overlaps = Bounds.overlaps(body.bounds, bounds);\n            if ((overlaps && !outside) || (!overlaps && outside))\n                result.push(body);\n        }\n\n        return result;\n    };\n\n    /**\n     * Returns all bodies whose vertices contain the given point, from the given set of bodies.\n     * @method point\n     * @param {body[]} bodies\n     * @param {vector} point\n     * @return {body[]} The bodies matching the query\n     */\n    Query.point = function(bodies, point) {\n        var result = [];\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n            \n            if (Bounds.contains(body.bounds, point)) {\n                for (var j = body.parts.length === 1 ? 0 : 1; j < body.parts.length; j++) {\n                    var part = body.parts[j];\n\n                    if (Bounds.contains(part.bounds, point)\n                        && Vertices.contains(part.vertices, point)) {\n                        result.push(body);\n                        break;\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n\n})();\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Render` module is a simple canvas based renderer for visualising instances of `Matter.Engine`.\n* It is intended for development and debugging purposes, but may also be suitable for simple games.\n* It includes a number of drawing options including wireframe, vector with support for sprites and viewports.\n*\n* @class Render\n*/\n\nvar Render = {};\n\nmodule.exports = Render;\n\nvar Body = __webpack_require__(4);\nvar Common = __webpack_require__(0);\nvar Composite = __webpack_require__(6);\nvar Bounds = __webpack_require__(1);\nvar Events = __webpack_require__(5);\nvar Vector = __webpack_require__(2);\nvar Mouse = __webpack_require__(14);\n\n(function() {\n\n    var _requestAnimationFrame,\n        _cancelAnimationFrame;\n\n    if (typeof window !== 'undefined') {\n        _requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame\n                                      || window.mozRequestAnimationFrame || window.msRequestAnimationFrame\n                                      || function(callback){ window.setTimeout(function() { callback(Common.now()); }, 1000 / 60); };\n\n        _cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame\n                                      || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;\n    }\n\n    Render._goodFps = 30;\n    Render._goodDelta = 1000 / 60;\n\n    /**\n     * Creates a new renderer. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {object} [options]\n     * @return {render} A new renderer\n     */\n    Render.create = function(options) {\n        var defaults = {\n            engine: null,\n            element: null,\n            canvas: null,\n            mouse: null,\n            frameRequestId: null,\n            timing: {\n                historySize: 60,\n                delta: 0,\n                deltaHistory: [],\n                lastTime: 0,\n                lastTimestamp: 0,\n                lastElapsed: 0,\n                timestampElapsed: 0,\n                timestampElapsedHistory: [],\n                engineDeltaHistory: [],\n                engineElapsedHistory: [],\n                elapsedHistory: []\n            },\n            options: {\n                width: 800,\n                height: 600,\n                pixelRatio: 1,\n                background: '#14151f',\n                wireframeBackground: '#14151f',\n                hasBounds: !!options.bounds,\n                enabled: true,\n                wireframes: true,\n                showSleeping: true,\n                showDebug: false,\n                showStats: false,\n                showPerformance: false,\n                showBounds: false,\n                showVelocity: false,\n                showCollisions: false,\n                showSeparations: false,\n                showAxes: false,\n                showPositions: false,\n                showAngleIndicator: false,\n                showIds: false,\n                showVertexNumbers: false,\n                showConvexHulls: false,\n                showInternalEdges: false,\n                showMousePosition: false\n            }\n        };\n\n        var render = Common.extend(defaults, options);\n\n        if (render.canvas) {\n            render.canvas.width = render.options.width || render.canvas.width;\n            render.canvas.height = render.options.height || render.canvas.height;\n        }\n\n        render.mouse = options.mouse;\n        render.engine = options.engine;\n        render.canvas = render.canvas || _createCanvas(render.options.width, render.options.height);\n        render.context = render.canvas.getContext('2d');\n        render.textures = {};\n\n        render.bounds = render.bounds || {\n            min: {\n                x: 0,\n                y: 0\n            },\n            max: {\n                x: render.canvas.width,\n                y: render.canvas.height\n            }\n        };\n\n        // for temporary back compatibility only\n        render.controller = Render;\n        render.options.showBroadphase = false;\n\n        if (render.options.pixelRatio !== 1) {\n            Render.setPixelRatio(render, render.options.pixelRatio);\n        }\n\n        if (Common.isElement(render.element)) {\n            render.element.appendChild(render.canvas);\n        }\n\n        return render;\n    };\n\n    /**\n     * Continuously updates the render canvas on the `requestAnimationFrame` event.\n     * @method run\n     * @param {render} render\n     */\n    Render.run = function(render) {\n        (function loop(time){\n            render.frameRequestId = _requestAnimationFrame(loop);\n            \n            _updateTiming(render, time);\n\n            Render.world(render, time);\n\n            if (render.options.showStats || render.options.showDebug) {\n                Render.stats(render, render.context, time);\n            }\n\n            if (render.options.showPerformance || render.options.showDebug) {\n                Render.performance(render, render.context, time);\n            }\n        })();\n    };\n\n    /**\n     * Ends execution of `Render.run` on the given `render`, by canceling the animation frame request event loop.\n     * @method stop\n     * @param {render} render\n     */\n    Render.stop = function(render) {\n        _cancelAnimationFrame(render.frameRequestId);\n    };\n\n    /**\n     * Sets the pixel ratio of the renderer and updates the canvas.\n     * To automatically detect the correct ratio, pass the string `'auto'` for `pixelRatio`.\n     * @method setPixelRatio\n     * @param {render} render\n     * @param {number} pixelRatio\n     */\n    Render.setPixelRatio = function(render, pixelRatio) {\n        var options = render.options,\n            canvas = render.canvas;\n\n        if (pixelRatio === 'auto') {\n            pixelRatio = _getPixelRatio(canvas);\n        }\n\n        options.pixelRatio = pixelRatio;\n        canvas.setAttribute('data-pixel-ratio', pixelRatio);\n        canvas.width = options.width * pixelRatio;\n        canvas.height = options.height * pixelRatio;\n        canvas.style.width = options.width + 'px';\n        canvas.style.height = options.height + 'px';\n    };\n\n    /**\n     * Positions and sizes the viewport around the given object bounds.\n     * Objects must have at least one of the following properties:\n     * - `object.bounds`\n     * - `object.position`\n     * - `object.min` and `object.max`\n     * - `object.x` and `object.y`\n     * @method lookAt\n     * @param {render} render\n     * @param {object[]} objects\n     * @param {vector} [padding]\n     * @param {bool} [center=true]\n     */\n    Render.lookAt = function(render, objects, padding, center) {\n        center = typeof center !== 'undefined' ? center : true;\n        objects = Common.isArray(objects) ? objects : [objects];\n        padding = padding || {\n            x: 0,\n            y: 0\n        };\n\n        // find bounds of all objects\n        var bounds = {\n            min: { x: Infinity, y: Infinity },\n            max: { x: -Infinity, y: -Infinity }\n        };\n\n        for (var i = 0; i < objects.length; i += 1) {\n            var object = objects[i],\n                min = object.bounds ? object.bounds.min : (object.min || object.position || object),\n                max = object.bounds ? object.bounds.max : (object.max || object.position || object);\n\n            if (min && max) {\n                if (min.x < bounds.min.x)\n                    bounds.min.x = min.x;\n\n                if (max.x > bounds.max.x)\n                    bounds.max.x = max.x;\n\n                if (min.y < bounds.min.y)\n                    bounds.min.y = min.y;\n\n                if (max.y > bounds.max.y)\n                    bounds.max.y = max.y;\n            }\n        }\n\n        // find ratios\n        var width = (bounds.max.x - bounds.min.x) + 2 * padding.x,\n            height = (bounds.max.y - bounds.min.y) + 2 * padding.y,\n            viewHeight = render.canvas.height,\n            viewWidth = render.canvas.width,\n            outerRatio = viewWidth / viewHeight,\n            innerRatio = width / height,\n            scaleX = 1,\n            scaleY = 1;\n\n        // find scale factor\n        if (innerRatio > outerRatio) {\n            scaleY = innerRatio / outerRatio;\n        } else {\n            scaleX = outerRatio / innerRatio;\n        }\n\n        // enable bounds\n        render.options.hasBounds = true;\n\n        // position and size\n        render.bounds.min.x = bounds.min.x;\n        render.bounds.max.x = bounds.min.x + width * scaleX;\n        render.bounds.min.y = bounds.min.y;\n        render.bounds.max.y = bounds.min.y + height * scaleY;\n\n        // center\n        if (center) {\n            render.bounds.min.x += width * 0.5 - (width * scaleX) * 0.5;\n            render.bounds.max.x += width * 0.5 - (width * scaleX) * 0.5;\n            render.bounds.min.y += height * 0.5 - (height * scaleY) * 0.5;\n            render.bounds.max.y += height * 0.5 - (height * scaleY) * 0.5;\n        }\n\n        // padding\n        render.bounds.min.x -= padding.x;\n        render.bounds.max.x -= padding.x;\n        render.bounds.min.y -= padding.y;\n        render.bounds.max.y -= padding.y;\n\n        // update mouse\n        if (render.mouse) {\n            Mouse.setScale(render.mouse, {\n                x: (render.bounds.max.x - render.bounds.min.x) / render.canvas.width,\n                y: (render.bounds.max.y - render.bounds.min.y) / render.canvas.height\n            });\n\n            Mouse.setOffset(render.mouse, render.bounds.min);\n        }\n    };\n\n    /**\n     * Applies viewport transforms based on `render.bounds` to a render context.\n     * @method startViewTransform\n     * @param {render} render\n     */\n    Render.startViewTransform = function(render) {\n        var boundsWidth = render.bounds.max.x - render.bounds.min.x,\n            boundsHeight = render.bounds.max.y - render.bounds.min.y,\n            boundsScaleX = boundsWidth / render.options.width,\n            boundsScaleY = boundsHeight / render.options.height;\n\n        render.context.setTransform(\n            render.options.pixelRatio / boundsScaleX, 0, 0, \n            render.options.pixelRatio / boundsScaleY, 0, 0\n        );\n        \n        render.context.translate(-render.bounds.min.x, -render.bounds.min.y);\n    };\n\n    /**\n     * Resets all transforms on the render context.\n     * @method endViewTransform\n     * @param {render} render\n     */\n    Render.endViewTransform = function(render) {\n        render.context.setTransform(render.options.pixelRatio, 0, 0, render.options.pixelRatio, 0, 0);\n    };\n\n    /**\n     * Renders the given `engine`'s `Matter.World` object.\n     * This is the entry point for all rendering and should be called every time the scene changes.\n     * @method world\n     * @param {render} render\n     */\n    Render.world = function(render, time) {\n        var startTime = Common.now(),\n            engine = render.engine,\n            world = engine.world,\n            canvas = render.canvas,\n            context = render.context,\n            options = render.options,\n            timing = render.timing;\n\n        var allBodies = Composite.allBodies(world),\n            allConstraints = Composite.allConstraints(world),\n            background = options.wireframes ? options.wireframeBackground : options.background,\n            bodies = [],\n            constraints = [],\n            i;\n\n        var event = {\n            timestamp: engine.timing.timestamp\n        };\n\n        Events.trigger(render, 'beforeRender', event);\n\n        // apply background if it has changed\n        if (render.currentBackground !== background)\n            _applyBackground(render, background);\n\n        // clear the canvas with a transparent fill, to allow the canvas background to show\n        context.globalCompositeOperation = 'source-in';\n        context.fillStyle = \"transparent\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n        context.globalCompositeOperation = 'source-over';\n\n        // handle bounds\n        if (options.hasBounds) {\n            // filter out bodies that are not in view\n            for (i = 0; i < allBodies.length; i++) {\n                var body = allBodies[i];\n                if (Bounds.overlaps(body.bounds, render.bounds))\n                    bodies.push(body);\n            }\n\n            // filter out constraints that are not in view\n            for (i = 0; i < allConstraints.length; i++) {\n                var constraint = allConstraints[i],\n                    bodyA = constraint.bodyA,\n                    bodyB = constraint.bodyB,\n                    pointAWorld = constraint.pointA,\n                    pointBWorld = constraint.pointB;\n\n                if (bodyA) pointAWorld = Vector.add(bodyA.position, constraint.pointA);\n                if (bodyB) pointBWorld = Vector.add(bodyB.position, constraint.pointB);\n\n                if (!pointAWorld || !pointBWorld)\n                    continue;\n\n                if (Bounds.contains(render.bounds, pointAWorld) || Bounds.contains(render.bounds, pointBWorld))\n                    constraints.push(constraint);\n            }\n\n            // transform the view\n            Render.startViewTransform(render);\n\n            // update mouse\n            if (render.mouse) {\n                Mouse.setScale(render.mouse, {\n                    x: (render.bounds.max.x - render.bounds.min.x) / render.options.width,\n                    y: (render.bounds.max.y - render.bounds.min.y) / render.options.height\n                });\n\n                Mouse.setOffset(render.mouse, render.bounds.min);\n            }\n        } else {\n            constraints = allConstraints;\n            bodies = allBodies;\n\n            if (render.options.pixelRatio !== 1) {\n                render.context.setTransform(render.options.pixelRatio, 0, 0, render.options.pixelRatio, 0, 0);\n            }\n        }\n\n        if (!options.wireframes || (engine.enableSleeping && options.showSleeping)) {\n            // fully featured rendering of bodies\n            Render.bodies(render, bodies, context);\n        } else {\n            if (options.showConvexHulls)\n                Render.bodyConvexHulls(render, bodies, context);\n\n            // optimised method for wireframes only\n            Render.bodyWireframes(render, bodies, context);\n        }\n\n        if (options.showBounds)\n            Render.bodyBounds(render, bodies, context);\n\n        if (options.showAxes || options.showAngleIndicator)\n            Render.bodyAxes(render, bodies, context);\n\n        if (options.showPositions)\n            Render.bodyPositions(render, bodies, context);\n\n        if (options.showVelocity)\n            Render.bodyVelocity(render, bodies, context);\n\n        if (options.showIds)\n            Render.bodyIds(render, bodies, context);\n\n        if (options.showSeparations)\n            Render.separations(render, engine.pairs.list, context);\n\n        if (options.showCollisions)\n            Render.collisions(render, engine.pairs.list, context);\n\n        if (options.showVertexNumbers)\n            Render.vertexNumbers(render, bodies, context);\n\n        if (options.showMousePosition)\n            Render.mousePosition(render, render.mouse, context);\n\n        Render.constraints(constraints, context);\n\n        if (options.hasBounds) {\n            // revert view transforms\n            Render.endViewTransform(render);\n        }\n\n        Events.trigger(render, 'afterRender', event);\n\n        // log the time elapsed computing this update\n        timing.lastElapsed = Common.now() - startTime;\n    };\n\n    /**\n     * Renders statistics about the engine and world useful for debugging.\n     * @private\n     * @method stats\n     * @param {render} render\n     * @param {RenderingContext} context\n     * @param {Number} time\n     */\n    Render.stats = function(render, context, time) {\n        var engine = render.engine,\n            world = engine.world,\n            bodies = Composite.allBodies(world),\n            parts = 0,\n            width = 55,\n            height = 44,\n            x = 0,\n            y = 0;\n        \n        // count parts\n        for (var i = 0; i < bodies.length; i += 1) {\n            parts += bodies[i].parts.length;\n        }\n\n        // sections\n        var sections = {\n            'Part': parts,\n            'Body': bodies.length,\n            'Cons': Composite.allConstraints(world).length,\n            'Comp': Composite.allComposites(world).length,\n            'Pair': engine.pairs.list.length\n        };\n\n        // background\n        context.fillStyle = '#0e0f19';\n        context.fillRect(x, y, width * 5.5, height);\n\n        context.font = '12px Arial';\n        context.textBaseline = 'top';\n        context.textAlign = 'right';\n\n        // sections\n        for (var key in sections) {\n            var section = sections[key];\n            // label\n            context.fillStyle = '#aaa';\n            context.fillText(key, x + width, y + 8);\n\n            // value\n            context.fillStyle = '#eee';\n            context.fillText(section, x + width, y + 26);\n\n            x += width;\n        }\n    };\n\n    /**\n     * Renders engine and render performance information.\n     * @private\n     * @method performance\n     * @param {render} render\n     * @param {RenderingContext} context\n     */\n    Render.performance = function(render, context) {\n        var engine = render.engine,\n            timing = render.timing,\n            deltaHistory = timing.deltaHistory,\n            elapsedHistory = timing.elapsedHistory,\n            timestampElapsedHistory = timing.timestampElapsedHistory,\n            engineDeltaHistory = timing.engineDeltaHistory,\n            engineElapsedHistory = timing.engineElapsedHistory,\n            lastEngineDelta = engine.timing.lastDelta;\n        \n        var deltaMean = _mean(deltaHistory),\n            elapsedMean = _mean(elapsedHistory),\n            engineDeltaMean = _mean(engineDeltaHistory),\n            engineElapsedMean = _mean(engineElapsedHistory),\n            timestampElapsedMean = _mean(timestampElapsedHistory),\n            rateMean = (timestampElapsedMean / deltaMean) || 0,\n            fps = (1000 / deltaMean) || 0;\n\n        var graphHeight = 4,\n            gap = 12,\n            width = 60,\n            height = 34,\n            x = 10,\n            y = 69;\n\n        // background\n        context.fillStyle = '#0e0f19';\n        context.fillRect(0, 50, gap * 4 + width * 5 + 22, height);\n\n        // show FPS\n        Render.status(\n            context, x, y, width, graphHeight, deltaHistory.length, \n            Math.round(fps) + ' fps', \n            fps / Render._goodFps,\n            function(i) { return (deltaHistory[i] / deltaMean) - 1; }\n        );\n\n        // show engine delta\n        Render.status(\n            context, x + gap + width, y, width, graphHeight, engineDeltaHistory.length,\n            lastEngineDelta.toFixed(2) + ' dt', \n            Render._goodDelta / lastEngineDelta,\n            function(i) { return (engineDeltaHistory[i] / engineDeltaMean) - 1; }\n        );\n\n        // show engine update time\n        Render.status(\n            context, x + (gap + width) * 2, y, width, graphHeight, engineElapsedHistory.length,\n            engineElapsedMean.toFixed(2) + ' ut', \n            1 - (engineElapsedMean / Render._goodFps),\n            function(i) { return (engineElapsedHistory[i] / engineElapsedMean) - 1; }\n        );\n\n        // show render time\n        Render.status(\n            context, x + (gap + width) * 3, y, width, graphHeight, elapsedHistory.length,\n            elapsedMean.toFixed(2) + ' rt', \n            1 - (elapsedMean / Render._goodFps),\n            function(i) { return (elapsedHistory[i] / elapsedMean) - 1; }\n        );\n\n        // show effective speed\n        Render.status(\n            context, x + (gap + width) * 4, y, width, graphHeight, timestampElapsedHistory.length, \n            rateMean.toFixed(2) + ' x', \n            rateMean * rateMean * rateMean,\n            function(i) { return (((timestampElapsedHistory[i] / deltaHistory[i]) / rateMean) || 0) - 1; }\n        );\n    };\n\n    /**\n     * Renders a label, indicator and a chart.\n     * @private\n     * @method status\n     * @param {RenderingContext} context\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @param {number} count\n     * @param {string} label\n     * @param {string} indicator\n     * @param {function} plotY\n     */\n    Render.status = function(context, x, y, width, height, count, label, indicator, plotY) {\n        // background\n        context.strokeStyle = '#888';\n        context.fillStyle = '#444';\n        context.lineWidth = 1;\n        context.fillRect(x, y + 7, width, 1);\n\n        // chart\n        context.beginPath();\n        context.moveTo(x, y + 7 - height * Common.clamp(0.4 * plotY(0), -2, 2));\n        for (var i = 0; i < width; i += 1) {\n            context.lineTo(x + i, y + 7 - (i < count ? height * Common.clamp(0.4 * plotY(i), -2, 2) : 0));\n        }\n        context.stroke();\n\n        // indicator\n        context.fillStyle = 'hsl(' + Common.clamp(25 + 95 * indicator, 0, 120) + ',100%,60%)';\n        context.fillRect(x, y - 7, 4, 4);\n\n        // label\n        context.font = '12px Arial';\n        context.textBaseline = 'middle';\n        context.textAlign = 'right';\n        context.fillStyle = '#eee';\n        context.fillText(label, x + width, y - 5);\n    };\n\n    /**\n     * Description\n     * @private\n     * @method constraints\n     * @param {constraint[]} constraints\n     * @param {RenderingContext} context\n     */\n    Render.constraints = function(constraints, context) {\n        var c = context;\n\n        for (var i = 0; i < constraints.length; i++) {\n            var constraint = constraints[i];\n\n            if (!constraint.render.visible || !constraint.pointA || !constraint.pointB)\n                continue;\n\n            var bodyA = constraint.bodyA,\n                bodyB = constraint.bodyB,\n                start,\n                end;\n\n            if (bodyA) {\n                start = Vector.add(bodyA.position, constraint.pointA);\n            } else {\n                start = constraint.pointA;\n            }\n\n            if (constraint.render.type === 'pin') {\n                c.beginPath();\n                c.arc(start.x, start.y, 3, 0, 2 * Math.PI);\n                c.closePath();\n            } else {\n                if (bodyB) {\n                    end = Vector.add(bodyB.position, constraint.pointB);\n                } else {\n                    end = constraint.pointB;\n                }\n\n                c.beginPath();\n                c.moveTo(start.x, start.y);\n\n                if (constraint.render.type === 'spring') {\n                    var delta = Vector.sub(end, start),\n                        normal = Vector.perp(Vector.normalise(delta)),\n                        coils = Math.ceil(Common.clamp(constraint.length / 5, 12, 20)),\n                        offset;\n\n                    for (var j = 1; j < coils; j += 1) {\n                        offset = j % 2 === 0 ? 1 : -1;\n\n                        c.lineTo(\n                            start.x + delta.x * (j / coils) + normal.x * offset * 4,\n                            start.y + delta.y * (j / coils) + normal.y * offset * 4\n                        );\n                    }\n                }\n\n                c.lineTo(end.x, end.y);\n            }\n\n            if (constraint.render.lineWidth) {\n                c.lineWidth = constraint.render.lineWidth;\n                c.strokeStyle = constraint.render.strokeStyle;\n                c.stroke();\n            }\n\n            if (constraint.render.anchors) {\n                c.fillStyle = constraint.render.strokeStyle;\n                c.beginPath();\n                c.arc(start.x, start.y, 3, 0, 2 * Math.PI);\n                c.arc(end.x, end.y, 3, 0, 2 * Math.PI);\n                c.closePath();\n                c.fill();\n            }\n        }\n    };\n\n    /**\n     * Description\n     * @private\n     * @method bodies\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodies = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options,\n            showInternalEdges = options.showInternalEdges || !options.wireframes,\n            body,\n            part,\n            i,\n            k;\n\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            // handle compound parts\n            for (k = body.parts.length > 1 ? 1 : 0; k < body.parts.length; k++) {\n                part = body.parts[k];\n\n                if (!part.render.visible)\n                    continue;\n\n                if (options.showSleeping && body.isSleeping) {\n                    c.globalAlpha = 0.5 * part.render.opacity;\n                } else if (part.render.opacity !== 1) {\n                    c.globalAlpha = part.render.opacity;\n                }\n\n                if (part.render.sprite && part.render.sprite.texture && !options.wireframes) {\n                    // part sprite\n                    var sprite = part.render.sprite,\n                        texture = _getTexture(render, sprite.texture);\n\n                    c.translate(part.position.x, part.position.y);\n                    c.rotate(part.angle);\n\n                    c.drawImage(\n                        texture,\n                        texture.width * -sprite.xOffset * sprite.xScale,\n                        texture.height * -sprite.yOffset * sprite.yScale,\n                        texture.width * sprite.xScale,\n                        texture.height * sprite.yScale\n                    );\n\n                    // revert translation, hopefully faster than save / restore\n                    c.rotate(-part.angle);\n                    c.translate(-part.position.x, -part.position.y);\n                } else {\n                    // part polygon\n                    if (part.circleRadius) {\n                        c.beginPath();\n                        c.arc(part.position.x, part.position.y, part.circleRadius, 0, 2 * Math.PI);\n                    } else {\n                        c.beginPath();\n                        c.moveTo(part.vertices[0].x, part.vertices[0].y);\n\n                        for (var j = 1; j < part.vertices.length; j++) {\n                            if (!part.vertices[j - 1].isInternal || showInternalEdges) {\n                                c.lineTo(part.vertices[j].x, part.vertices[j].y);\n                            } else {\n                                c.moveTo(part.vertices[j].x, part.vertices[j].y);\n                            }\n\n                            if (part.vertices[j].isInternal && !showInternalEdges) {\n                                c.moveTo(part.vertices[(j + 1) % part.vertices.length].x, part.vertices[(j + 1) % part.vertices.length].y);\n                            }\n                        }\n\n                        c.lineTo(part.vertices[0].x, part.vertices[0].y);\n                        c.closePath();\n                    }\n\n                    if (!options.wireframes) {\n                        c.fillStyle = part.render.fillStyle;\n\n                        if (part.render.lineWidth) {\n                            c.lineWidth = part.render.lineWidth;\n                            c.strokeStyle = part.render.strokeStyle;\n                            c.stroke();\n                        }\n\n                        c.fill();\n                    } else {\n                        c.lineWidth = 1;\n                        c.strokeStyle = '#bbb';\n                        c.stroke();\n                    }\n                }\n\n                c.globalAlpha = 1;\n            }\n        }\n    };\n\n    /**\n     * Optimised method for drawing body wireframes in one pass\n     * @private\n     * @method bodyWireframes\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyWireframes = function(render, bodies, context) {\n        var c = context,\n            showInternalEdges = render.options.showInternalEdges,\n            body,\n            part,\n            i,\n            j,\n            k;\n\n        c.beginPath();\n\n        // render all bodies\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            // handle compound parts\n            for (k = body.parts.length > 1 ? 1 : 0; k < body.parts.length; k++) {\n                part = body.parts[k];\n\n                c.moveTo(part.vertices[0].x, part.vertices[0].y);\n\n                for (j = 1; j < part.vertices.length; j++) {\n                    if (!part.vertices[j - 1].isInternal || showInternalEdges) {\n                        c.lineTo(part.vertices[j].x, part.vertices[j].y);\n                    } else {\n                        c.moveTo(part.vertices[j].x, part.vertices[j].y);\n                    }\n\n                    if (part.vertices[j].isInternal && !showInternalEdges) {\n                        c.moveTo(part.vertices[(j + 1) % part.vertices.length].x, part.vertices[(j + 1) % part.vertices.length].y);\n                    }\n                }\n\n                c.lineTo(part.vertices[0].x, part.vertices[0].y);\n            }\n        }\n\n        c.lineWidth = 1;\n        c.strokeStyle = '#bbb';\n        c.stroke();\n    };\n\n    /**\n     * Optimised method for drawing body convex hull wireframes in one pass\n     * @private\n     * @method bodyConvexHulls\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyConvexHulls = function(render, bodies, context) {\n        var c = context,\n            body,\n            part,\n            i,\n            j,\n            k;\n\n        c.beginPath();\n\n        // render convex hulls\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible || body.parts.length === 1)\n                continue;\n\n            c.moveTo(body.vertices[0].x, body.vertices[0].y);\n\n            for (j = 1; j < body.vertices.length; j++) {\n                c.lineTo(body.vertices[j].x, body.vertices[j].y);\n            }\n\n            c.lineTo(body.vertices[0].x, body.vertices[0].y);\n        }\n\n        c.lineWidth = 1;\n        c.strokeStyle = 'rgba(255,255,255,0.2)';\n        c.stroke();\n    };\n\n    /**\n     * Renders body vertex numbers.\n     * @private\n     * @method vertexNumbers\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.vertexNumbers = function(render, bodies, context) {\n        var c = context,\n            i,\n            j,\n            k;\n\n        for (i = 0; i < bodies.length; i++) {\n            var parts = bodies[i].parts;\n            for (k = parts.length > 1 ? 1 : 0; k < parts.length; k++) {\n                var part = parts[k];\n                for (j = 0; j < part.vertices.length; j++) {\n                    c.fillStyle = 'rgba(255,255,255,0.2)';\n                    c.fillText(i + '_' + j, part.position.x + (part.vertices[j].x - part.position.x) * 0.8, part.position.y + (part.vertices[j].y - part.position.y) * 0.8);\n                }\n            }\n        }\n    };\n\n    /**\n     * Renders mouse position.\n     * @private\n     * @method mousePosition\n     * @param {render} render\n     * @param {mouse} mouse\n     * @param {RenderingContext} context\n     */\n    Render.mousePosition = function(render, mouse, context) {\n        var c = context;\n        c.fillStyle = 'rgba(255,255,255,0.8)';\n        c.fillText(mouse.position.x + '  ' + mouse.position.y, mouse.position.x + 5, mouse.position.y - 5);\n    };\n\n    /**\n     * Draws body bounds\n     * @private\n     * @method bodyBounds\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyBounds = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options;\n\n        c.beginPath();\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.render.visible) {\n                var parts = bodies[i].parts;\n                for (var j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                    var part = parts[j];\n                    c.rect(part.bounds.min.x, part.bounds.min.y, part.bounds.max.x - part.bounds.min.x, part.bounds.max.y - part.bounds.min.y);\n                }\n            }\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'rgba(255,255,255,0.08)';\n        } else {\n            c.strokeStyle = 'rgba(0,0,0,0.1)';\n        }\n\n        c.lineWidth = 1;\n        c.stroke();\n    };\n\n    /**\n     * Draws body angle indicators and axes\n     * @private\n     * @method bodyAxes\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyAxes = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options,\n            part,\n            i,\n            j,\n            k;\n\n        c.beginPath();\n\n        for (i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                parts = body.parts;\n\n            if (!body.render.visible)\n                continue;\n\n            if (options.showAxes) {\n                // render all axes\n                for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                    part = parts[j];\n                    for (k = 0; k < part.axes.length; k++) {\n                        var axis = part.axes[k];\n                        c.moveTo(part.position.x, part.position.y);\n                        c.lineTo(part.position.x + axis.x * 20, part.position.y + axis.y * 20);\n                    }\n                }\n            } else {\n                for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                    part = parts[j];\n                    for (k = 0; k < part.axes.length; k++) {\n                        // render a single axis indicator\n                        c.moveTo(part.position.x, part.position.y);\n                        c.lineTo((part.vertices[0].x + part.vertices[part.vertices.length-1].x) / 2,\n                            (part.vertices[0].y + part.vertices[part.vertices.length-1].y) / 2);\n                    }\n                }\n            }\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'indianred';\n            c.lineWidth = 1;\n        } else {\n            c.strokeStyle = 'rgba(255, 255, 255, 0.4)';\n            c.globalCompositeOperation = 'overlay';\n            c.lineWidth = 2;\n        }\n\n        c.stroke();\n        c.globalCompositeOperation = 'source-over';\n    };\n\n    /**\n     * Draws body positions\n     * @private\n     * @method bodyPositions\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyPositions = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options,\n            body,\n            part,\n            i,\n            k;\n\n        c.beginPath();\n\n        // render current positions\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            // handle compound parts\n            for (k = 0; k < body.parts.length; k++) {\n                part = body.parts[k];\n                c.arc(part.position.x, part.position.y, 3, 0, 2 * Math.PI, false);\n                c.closePath();\n            }\n        }\n\n        if (options.wireframes) {\n            c.fillStyle = 'indianred';\n        } else {\n            c.fillStyle = 'rgba(0,0,0,0.5)';\n        }\n        c.fill();\n\n        c.beginPath();\n\n        // render previous positions\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n            if (body.render.visible) {\n                c.arc(body.positionPrev.x, body.positionPrev.y, 2, 0, 2 * Math.PI, false);\n                c.closePath();\n            }\n        }\n\n        c.fillStyle = 'rgba(255,165,0,0.8)';\n        c.fill();\n    };\n\n    /**\n     * Draws body velocity\n     * @private\n     * @method bodyVelocity\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyVelocity = function(render, bodies, context) {\n        var c = context;\n\n        c.beginPath();\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            var velocity = Body.getVelocity(body);\n\n            c.moveTo(body.position.x, body.position.y);\n            c.lineTo(body.position.x + velocity.x, body.position.y + velocity.y);\n        }\n\n        c.lineWidth = 3;\n        c.strokeStyle = 'cornflowerblue';\n        c.stroke();\n    };\n\n    /**\n     * Draws body ids\n     * @private\n     * @method bodyIds\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyIds = function(render, bodies, context) {\n        var c = context,\n            i,\n            j;\n\n        for (i = 0; i < bodies.length; i++) {\n            if (!bodies[i].render.visible)\n                continue;\n\n            var parts = bodies[i].parts;\n            for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                var part = parts[j];\n                c.font = \"12px Arial\";\n                c.fillStyle = 'rgba(255,255,255,0.5)';\n                c.fillText(part.id, part.position.x + 10, part.position.y - 10);\n            }\n        }\n    };\n\n    /**\n     * Description\n     * @private\n     * @method collisions\n     * @param {render} render\n     * @param {pair[]} pairs\n     * @param {RenderingContext} context\n     */\n    Render.collisions = function(render, pairs, context) {\n        var c = context,\n            options = render.options,\n            pair,\n            collision,\n            corrected,\n            bodyA,\n            bodyB,\n            i,\n            j;\n\n        c.beginPath();\n\n        // render collision positions\n        for (i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive)\n                continue;\n\n            collision = pair.collision;\n            for (j = 0; j < pair.activeContacts.length; j++) {\n                var contact = pair.activeContacts[j],\n                    vertex = contact.vertex;\n                c.rect(vertex.x - 1.5, vertex.y - 1.5, 3.5, 3.5);\n            }\n        }\n\n        if (options.wireframes) {\n            c.fillStyle = 'rgba(255,255,255,0.7)';\n        } else {\n            c.fillStyle = 'orange';\n        }\n        c.fill();\n\n        c.beginPath();\n\n        // render collision normals\n        for (i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive)\n                continue;\n\n            collision = pair.collision;\n\n            if (pair.activeContacts.length > 0) {\n                var normalPosX = pair.activeContacts[0].vertex.x,\n                    normalPosY = pair.activeContacts[0].vertex.y;\n\n                if (pair.activeContacts.length === 2) {\n                    normalPosX = (pair.activeContacts[0].vertex.x + pair.activeContacts[1].vertex.x) / 2;\n                    normalPosY = (pair.activeContacts[0].vertex.y + pair.activeContacts[1].vertex.y) / 2;\n                }\n\n                if (collision.bodyB === collision.supports[0].body || collision.bodyA.isStatic === true) {\n                    c.moveTo(normalPosX - collision.normal.x * 8, normalPosY - collision.normal.y * 8);\n                } else {\n                    c.moveTo(normalPosX + collision.normal.x * 8, normalPosY + collision.normal.y * 8);\n                }\n\n                c.lineTo(normalPosX, normalPosY);\n            }\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'rgba(255,165,0,0.7)';\n        } else {\n            c.strokeStyle = 'orange';\n        }\n\n        c.lineWidth = 1;\n        c.stroke();\n    };\n\n    /**\n     * Description\n     * @private\n     * @method separations\n     * @param {render} render\n     * @param {pair[]} pairs\n     * @param {RenderingContext} context\n     */\n    Render.separations = function(render, pairs, context) {\n        var c = context,\n            options = render.options,\n            pair,\n            collision,\n            corrected,\n            bodyA,\n            bodyB,\n            i,\n            j;\n\n        c.beginPath();\n\n        // render separations\n        for (i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive)\n                continue;\n\n            collision = pair.collision;\n            bodyA = collision.bodyA;\n            bodyB = collision.bodyB;\n\n            var k = 1;\n\n            if (!bodyB.isStatic && !bodyA.isStatic) k = 0.5;\n            if (bodyB.isStatic) k = 0;\n\n            c.moveTo(bodyB.position.x, bodyB.position.y);\n            c.lineTo(bodyB.position.x - collision.penetration.x * k, bodyB.position.y - collision.penetration.y * k);\n\n            k = 1;\n\n            if (!bodyB.isStatic && !bodyA.isStatic) k = 0.5;\n            if (bodyA.isStatic) k = 0;\n\n            c.moveTo(bodyA.position.x, bodyA.position.y);\n            c.lineTo(bodyA.position.x + collision.penetration.x * k, bodyA.position.y + collision.penetration.y * k);\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'rgba(255,165,0,0.5)';\n        } else {\n            c.strokeStyle = 'orange';\n        }\n        c.stroke();\n    };\n\n    /**\n     * Description\n     * @private\n     * @method inspector\n     * @param {inspector} inspector\n     * @param {RenderingContext} context\n     */\n    Render.inspector = function(inspector, context) {\n        var engine = inspector.engine,\n            selected = inspector.selected,\n            render = inspector.render,\n            options = render.options,\n            bounds;\n\n        if (options.hasBounds) {\n            var boundsWidth = render.bounds.max.x - render.bounds.min.x,\n                boundsHeight = render.bounds.max.y - render.bounds.min.y,\n                boundsScaleX = boundsWidth / render.options.width,\n                boundsScaleY = boundsHeight / render.options.height;\n\n            context.scale(1 / boundsScaleX, 1 / boundsScaleY);\n            context.translate(-render.bounds.min.x, -render.bounds.min.y);\n        }\n\n        for (var i = 0; i < selected.length; i++) {\n            var item = selected[i].data;\n\n            context.translate(0.5, 0.5);\n            context.lineWidth = 1;\n            context.strokeStyle = 'rgba(255,165,0,0.9)';\n            context.setLineDash([1,2]);\n\n            switch (item.type) {\n\n            case 'body':\n\n                // render body selections\n                bounds = item.bounds;\n                context.beginPath();\n                context.rect(Math.floor(bounds.min.x - 3), Math.floor(bounds.min.y - 3),\n                    Math.floor(bounds.max.x - bounds.min.x + 6), Math.floor(bounds.max.y - bounds.min.y + 6));\n                context.closePath();\n                context.stroke();\n\n                break;\n\n            case 'constraint':\n\n                // render constraint selections\n                var point = item.pointA;\n                if (item.bodyA)\n                    point = item.pointB;\n                context.beginPath();\n                context.arc(point.x, point.y, 10, 0, 2 * Math.PI);\n                context.closePath();\n                context.stroke();\n\n                break;\n\n            }\n\n            context.setLineDash([]);\n            context.translate(-0.5, -0.5);\n        }\n\n        // render selection region\n        if (inspector.selectStart !== null) {\n            context.translate(0.5, 0.5);\n            context.lineWidth = 1;\n            context.strokeStyle = 'rgba(255,165,0,0.6)';\n            context.fillStyle = 'rgba(255,165,0,0.1)';\n            bounds = inspector.selectBounds;\n            context.beginPath();\n            context.rect(Math.floor(bounds.min.x), Math.floor(bounds.min.y),\n                Math.floor(bounds.max.x - bounds.min.x), Math.floor(bounds.max.y - bounds.min.y));\n            context.closePath();\n            context.stroke();\n            context.fill();\n            context.translate(-0.5, -0.5);\n        }\n\n        if (options.hasBounds)\n            context.setTransform(1, 0, 0, 1, 0, 0);\n    };\n\n    /**\n     * Updates render timing.\n     * @method _updateTiming\n     * @private\n     * @param {render} render\n     * @param {number} time\n     */\n    var _updateTiming = function(render, time) {\n        var engine = render.engine,\n            timing = render.timing,\n            historySize = timing.historySize,\n            timestamp = engine.timing.timestamp;\n\n        timing.delta = time - timing.lastTime || Render._goodDelta;\n        timing.lastTime = time;\n\n        timing.timestampElapsed = timestamp - timing.lastTimestamp || 0;\n        timing.lastTimestamp = timestamp;\n\n        timing.deltaHistory.unshift(timing.delta);\n        timing.deltaHistory.length = Math.min(timing.deltaHistory.length, historySize);\n\n        timing.engineDeltaHistory.unshift(engine.timing.lastDelta);\n        timing.engineDeltaHistory.length = Math.min(timing.engineDeltaHistory.length, historySize);\n\n        timing.timestampElapsedHistory.unshift(timing.timestampElapsed);\n        timing.timestampElapsedHistory.length = Math.min(timing.timestampElapsedHistory.length, historySize);\n\n        timing.engineElapsedHistory.unshift(engine.timing.lastElapsed);\n        timing.engineElapsedHistory.length = Math.min(timing.engineElapsedHistory.length, historySize);\n\n        timing.elapsedHistory.unshift(timing.lastElapsed);\n        timing.elapsedHistory.length = Math.min(timing.elapsedHistory.length, historySize);\n    };\n\n    /**\n     * Returns the mean value of the given numbers.\n     * @method _mean\n     * @private\n     * @param {Number[]} values\n     * @return {Number} the mean of given values\n     */\n    var _mean = function(values) {\n        var result = 0;\n        for (var i = 0; i < values.length; i += 1) {\n            result += values[i];\n        }\n        return (result / values.length) || 0;\n    };\n\n    /**\n     * @method _createCanvas\n     * @private\n     * @param {} width\n     * @param {} height\n     * @return canvas\n     */\n    var _createCanvas = function(width, height) {\n        var canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        canvas.oncontextmenu = function() { return false; };\n        canvas.onselectstart = function() { return false; };\n        return canvas;\n    };\n\n    /**\n     * Gets the pixel ratio of the canvas.\n     * @method _getPixelRatio\n     * @private\n     * @param {HTMLElement} canvas\n     * @return {Number} pixel ratio\n     */\n    var _getPixelRatio = function(canvas) {\n        var context = canvas.getContext('2d'),\n            devicePixelRatio = window.devicePixelRatio || 1,\n            backingStorePixelRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio\n                                      || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio\n                                      || context.backingStorePixelRatio || 1;\n\n        return devicePixelRatio / backingStorePixelRatio;\n    };\n\n    /**\n     * Gets the requested texture (an Image) via its path\n     * @method _getTexture\n     * @private\n     * @param {render} render\n     * @param {string} imagePath\n     * @return {Image} texture\n     */\n    var _getTexture = function(render, imagePath) {\n        var image = render.textures[imagePath];\n\n        if (image)\n            return image;\n\n        image = render.textures[imagePath] = new Image();\n        image.src = imagePath;\n\n        return image;\n    };\n\n    /**\n     * Applies the background to the canvas using CSS.\n     * @method applyBackground\n     * @private\n     * @param {render} render\n     * @param {string} background\n     */\n    var _applyBackground = function(render, background) {\n        var cssBackground = background;\n\n        if (/(jpg|gif|png)$/.test(background))\n            cssBackground = 'url(' + background + ')';\n\n        render.canvas.style.background = cssBackground;\n        render.canvas.style.backgroundSize = \"contain\";\n        render.currentBackground = background;\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired before rendering\n    *\n    * @event beforeRender\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired after rendering\n    *\n    * @event afterRender\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A back-reference to the `Matter.Render` module.\n     *\n     * @deprecated\n     * @property controller\n     * @type render\n     */\n\n    /**\n     * A reference to the `Matter.Engine` instance to be used.\n     *\n     * @property engine\n     * @type engine\n     */\n\n    /**\n     * A reference to the element where the canvas is to be inserted (if `render.canvas` has not been specified)\n     *\n     * @property element\n     * @type HTMLElement\n     * @default null\n     */\n\n    /**\n     * The canvas element to render to. If not specified, one will be created if `render.element` has been specified.\n     *\n     * @property canvas\n     * @type HTMLCanvasElement\n     * @default null\n     */\n\n    /**\n     * A `Bounds` object that specifies the drawing view region.\n     * Rendering will be automatically transformed and scaled to fit within the canvas size (`render.options.width` and `render.options.height`).\n     * This allows for creating views that can pan or zoom around the scene.\n     * You must also set `render.options.hasBounds` to `true` to enable bounded rendering.\n     *\n     * @property bounds\n     * @type bounds\n     */\n\n    /**\n     * The 2d rendering context from the `render.canvas` element.\n     *\n     * @property context\n     * @type CanvasRenderingContext2D\n     */\n\n    /**\n     * The sprite texture cache.\n     *\n     * @property textures\n     * @type {}\n     */\n\n    /**\n     * The mouse to render if `render.options.showMousePosition` is enabled.\n     *\n     * @property mouse\n     * @type mouse\n     * @default null\n     */\n\n    /**\n     * The configuration options of the renderer.\n     *\n     * @property options\n     * @type {}\n     */\n\n    /**\n     * The target width in pixels of the `render.canvas` to be created.\n     * See also the `options.pixelRatio` property to change render quality.\n     *\n     * @property options.width\n     * @type number\n     * @default 800\n     */\n\n    /**\n     * The target height in pixels of the `render.canvas` to be created.\n     * See also the `options.pixelRatio` property to change render quality.\n     *\n     * @property options.height\n     * @type number\n     * @default 600\n     */\n\n    /**\n     * The [pixel ratio](https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio) to use when rendering.\n     *\n     * @property options.pixelRatio\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A CSS background color string to use when `render.options.wireframes` is disabled.\n     * This may be also set to `'transparent'` or equivalent.\n     *\n     * @property options.background\n     * @type string\n     * @default '#14151f'\n     */\n\n    /**\n     * A CSS background color string to use when `render.options.wireframes` is enabled.\n     * This may be also set to `'transparent'` or equivalent.\n     *\n     * @property options.wireframeBackground\n     * @type string\n     * @default '#14151f'\n     */\n\n    /**\n     * A flag that specifies if `render.bounds` should be used when rendering.\n     *\n     * @property options.hasBounds\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable all debug information overlays together.  \n     * This includes and has priority over the values of:\n     *\n     * - `render.options.showStats`\n     * - `render.options.showPerformance`\n     *\n     * @property options.showDebug\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the engine stats info overlay.  \n     * From left to right, the values shown are:\n     *\n     * - body parts total\n     * - body total\n     * - constraints total\n     * - composites total\n     * - collision pairs total\n     *\n     * @property options.showStats\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable performance charts.  \n     * From left to right, the values shown are:\n     *\n     * - average render frequency (e.g. 60 fps)\n     * - exact engine delta time used for last update (e.g. 16.66ms)\n     * - average engine execution duration (e.g. 5.00ms)\n     * - average render execution duration (e.g. 0.40ms)\n     * - average effective play speed (e.g. '1.00x' is 'real-time')\n     *\n     * Each value is recorded over a fixed sample of past frames (60 frames).\n     *\n     * A chart shown below each value indicates the variance from the average over the sample.\n     * The more stable or fixed the value is the flatter the chart will appear.\n     *\n     * @property options.showPerformance\n     * @type boolean\n     * @default false\n     */\n    \n    /**\n     * A flag to enable or disable rendering entirely.\n     *\n     * @property options.enabled\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to toggle wireframe rendering otherwise solid fill rendering is used.\n     *\n     * @property options.wireframes\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A flag to enable or disable sleeping bodies indicators.\n     *\n     * @property options.showSleeping\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A flag to enable or disable the debug information overlay.\n     *\n     * @property options.showDebug\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the collision broadphase debug overlay.\n     *\n     * @deprecated no longer implemented\n     * @property options.showBroadphase\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body bounds debug overlay.\n     *\n     * @property options.showBounds\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body velocity debug overlay.\n     *\n     * @property options.showVelocity\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body collisions debug overlay.\n     *\n     * @property options.showCollisions\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the collision resolver separations debug overlay.\n     *\n     * @property options.showSeparations\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body axes debug overlay.\n     *\n     * @property options.showAxes\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body positions debug overlay.\n     *\n     * @property options.showPositions\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body angle debug overlay.\n     *\n     * @property options.showAngleIndicator\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body and part ids debug overlay.\n     *\n     * @property options.showIds\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body vertex numbers debug overlay.\n     *\n     * @property options.showVertexNumbers\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body convex hulls debug overlay.\n     *\n     * @property options.showConvexHulls\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body internal edges debug overlay.\n     *\n     * @property options.showInternalEdges\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the mouse position debug overlay.\n     *\n     * @property options.showMousePosition\n     * @type boolean\n     * @default false\n     */\n\n})();\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Runner` module is an optional utility which provides a game loop, \n* that handles continuously updating a `Matter.Engine` for you within a browser.\n* It is intended for development and debugging purposes, but may also be suitable for simple games.\n* If you are using your own game loop instead, then you do not need the `Matter.Runner` module.\n* Instead just call `Engine.update(engine, delta)` in your own loop.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Runner\n*/\n\nvar Runner = {};\n\nmodule.exports = Runner;\n\nvar Events = __webpack_require__(5);\nvar Engine = __webpack_require__(17);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    var _requestAnimationFrame,\n        _cancelAnimationFrame;\n\n    if (typeof window !== 'undefined') {\n        _requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame\n                                      || window.mozRequestAnimationFrame || window.msRequestAnimationFrame;\n   \n        _cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame \n                                      || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;\n    }\n\n    if (!_requestAnimationFrame) {\n        var _frameTimeout;\n\n        _requestAnimationFrame = function(callback){ \n            _frameTimeout = setTimeout(function() { \n                callback(Common.now()); \n            }, 1000 / 60);\n        };\n\n        _cancelAnimationFrame = function() {\n            clearTimeout(_frameTimeout);\n        };\n    }\n\n    /**\n     * Creates a new Runner. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * @method create\n     * @param {} options\n     */\n    Runner.create = function(options) {\n        var defaults = {\n            fps: 60,\n            deltaSampleSize: 60,\n            counterTimestamp: 0,\n            frameCounter: 0,\n            deltaHistory: [],\n            timePrev: null,\n            frameRequestId: null,\n            isFixed: false,\n            enabled: true\n        };\n\n        var runner = Common.extend(defaults, options);\n\n        runner.delta = runner.delta || 1000 / runner.fps;\n        runner.deltaMin = runner.deltaMin || 1000 / runner.fps;\n        runner.deltaMax = runner.deltaMax || 1000 / (runner.fps * 0.5);\n        runner.fps = 1000 / runner.delta;\n\n        return runner;\n    };\n\n    /**\n     * Continuously ticks a `Matter.Engine` by calling `Runner.tick` on the `requestAnimationFrame` event.\n     * @method run\n     * @param {engine} engine\n     */\n    Runner.run = function(runner, engine) {\n        // create runner if engine is first argument\n        if (typeof runner.positionIterations !== 'undefined') {\n            engine = runner;\n            runner = Runner.create();\n        }\n\n        (function run(time){\n            runner.frameRequestId = _requestAnimationFrame(run);\n\n            if (time && runner.enabled) {\n                Runner.tick(runner, engine, time);\n            }\n        })();\n\n        return runner;\n    };\n\n    /**\n     * A game loop utility that updates the engine and renderer by one step (a 'tick').\n     * Features delta smoothing, time correction and fixed or dynamic timing.\n     * Consider just `Engine.update(engine, delta)` if you're using your own loop.\n     * @method tick\n     * @param {runner} runner\n     * @param {engine} engine\n     * @param {number} time\n     */\n    Runner.tick = function(runner, engine, time) {\n        var timing = engine.timing,\n            delta;\n\n        if (runner.isFixed) {\n            // fixed timestep\n            delta = runner.delta;\n        } else {\n            // dynamic timestep based on wall clock between calls\n            delta = (time - runner.timePrev) || runner.delta;\n            runner.timePrev = time;\n\n            // optimistically filter delta over a few frames, to improve stability\n            runner.deltaHistory.push(delta);\n            runner.deltaHistory = runner.deltaHistory.slice(-runner.deltaSampleSize);\n            delta = Math.min.apply(null, runner.deltaHistory);\n\n            // limit delta\n            delta = delta < runner.deltaMin ? runner.deltaMin : delta;\n            delta = delta > runner.deltaMax ? runner.deltaMax : delta;\n\n            // update engine timing object\n            runner.delta = delta;\n        }\n\n        // create an event object\n        var event = {\n            timestamp: timing.timestamp\n        };\n\n        Events.trigger(runner, 'beforeTick', event);\n\n        // fps counter\n        runner.frameCounter += 1;\n        if (time - runner.counterTimestamp >= 1000) {\n            runner.fps = runner.frameCounter * ((time - runner.counterTimestamp) / 1000);\n            runner.counterTimestamp = time;\n            runner.frameCounter = 0;\n        }\n\n        Events.trigger(runner, 'tick', event);\n\n        // update\n        Events.trigger(runner, 'beforeUpdate', event);\n\n        Engine.update(engine, delta);\n\n        Events.trigger(runner, 'afterUpdate', event);\n\n        Events.trigger(runner, 'afterTick', event);\n    };\n\n    /**\n     * Ends execution of `Runner.run` on the given `runner`, by canceling the animation frame request event loop.\n     * If you wish to only temporarily pause the engine, see `engine.enabled` instead.\n     * @method stop\n     * @param {runner} runner\n     */\n    Runner.stop = function(runner) {\n        _cancelAnimationFrame(runner.frameRequestId);\n    };\n\n    /**\n     * Alias for `Runner.run`.\n     * @method start\n     * @param {runner} runner\n     * @param {engine} engine\n     */\n    Runner.start = function(runner, engine) {\n        Runner.run(runner, engine);\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired at the start of a tick, before any updates to the engine or timing\n    *\n    * @event beforeTick\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine timing updated, but just before update\n    *\n    * @event tick\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired at the end of a tick, after engine update and after rendering\n    *\n    * @event afterTick\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired before update\n    *\n    * @event beforeUpdate\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired after update\n    *\n    * @event afterUpdate\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A flag that specifies whether the runner is running or not.\n     *\n     * @property enabled\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A `Boolean` that specifies if the runner should use a fixed timestep (otherwise it is variable).\n     * If timing is fixed, then the apparent simulation speed will change depending on the frame rate (but behaviour will be deterministic).\n     * If the timing is variable, then the apparent simulation speed will be constant (approximately, but at the cost of determininism).\n     *\n     * @property isFixed\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A `Number` that specifies the time step between updates in milliseconds.\n     * If `engine.timing.isFixed` is set to `true`, then `delta` is fixed.\n     * If it is `false`, then `delta` can dynamically change to maintain the correct apparent simulation speed.\n     *\n     * @property delta\n     * @type number\n     * @default 1000 / 60\n     */\n\n})();\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* This module has now been replaced by `Matter.Collision`.\n*\n* All usage should be migrated to `Matter.Collision`.\n* For back-compatibility purposes this module will remain for a short term and then later removed in a future release.\n*\n* The `Matter.SAT` module contains methods for detecting collisions using the Separating Axis Theorem.\n*\n* @class SAT\n* @deprecated\n*/\n\nvar SAT = {};\n\nmodule.exports = SAT;\n\nvar Collision = __webpack_require__(8);\nvar Common = __webpack_require__(0);\nvar deprecated = Common.deprecated;\n\n(function() {\n\n    /**\n     * Detect collision between two bodies using the Separating Axis Theorem.\n     * @deprecated replaced by Collision.collides\n     * @method collides\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @return {collision} collision\n     */\n    SAT.collides = function(bodyA, bodyB) {\n        return Collision.collides(bodyA, bodyB);\n    };\n\n    deprecated(SAT, 'collides', 'SAT.collides  replaced by Collision.collides');\n\n})();\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Svg` module contains methods for converting SVG images into an array of vector points.\n*\n* To use this module you also need the SVGPathSeg polyfill: https://github.com/progers/pathseg\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Svg\n*/\n\nvar Svg = {};\n\nmodule.exports = Svg;\n\nvar Bounds = __webpack_require__(1);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Converts an SVG path into an array of vector points.\n     * If the input path forms a concave shape, you must decompose the result into convex parts before use.\n     * See `Bodies.fromVertices` which provides support for this.\n     * Note that this function is not guaranteed to support complex paths (such as those with holes).\n     * You must load the `pathseg.js` polyfill on newer browsers.\n     * @method pathToVertices\n     * @param {SVGPathElement} path\n     * @param {Number} [sampleLength=15]\n     * @return {Vector[]} points\n     */\n    Svg.pathToVertices = function(path, sampleLength) {\n        if (typeof window !== 'undefined' && !('SVGPathSeg' in window)) {\n            Common.warn('Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.');\n        }\n\n        // https://github.com/wout/svg.topoly.js/blob/master/svg.topoly.js\n        var i, il, total, point, segment, segments, \n            segmentsQueue, lastSegment, \n            lastPoint, segmentIndex, points = [],\n            lx, ly, length = 0, x = 0, y = 0;\n\n        sampleLength = sampleLength || 15;\n\n        var addPoint = function(px, py, pathSegType) {\n            // all odd-numbered path types are relative except PATHSEG_CLOSEPATH (1)\n            var isRelative = pathSegType % 2 === 1 && pathSegType > 1;\n\n            // when the last point doesn't equal the current point add the current point\n            if (!lastPoint || px != lastPoint.x || py != lastPoint.y) {\n                if (lastPoint && isRelative) {\n                    lx = lastPoint.x;\n                    ly = lastPoint.y;\n                } else {\n                    lx = 0;\n                    ly = 0;\n                }\n\n                var point = {\n                    x: lx + px,\n                    y: ly + py\n                };\n\n                // set last point\n                if (isRelative || !lastPoint) {\n                    lastPoint = point;\n                }\n\n                points.push(point);\n\n                x = lx + px;\n                y = ly + py;\n            }\n        };\n\n        var addSegmentPoint = function(segment) {\n            var segType = segment.pathSegTypeAsLetter.toUpperCase();\n\n            // skip path ends\n            if (segType === 'Z') \n                return;\n\n            // map segment to x and y\n            switch (segType) {\n\n            case 'M':\n            case 'L':\n            case 'T':\n            case 'C':\n            case 'S':\n            case 'Q':\n                x = segment.x;\n                y = segment.y;\n                break;\n            case 'H':\n                x = segment.x;\n                break;\n            case 'V':\n                y = segment.y;\n                break;\n            }\n\n            addPoint(x, y, segment.pathSegType);\n        };\n\n        // ensure path is absolute\n        Svg._svgPathToAbsolute(path);\n\n        // get total length\n        total = path.getTotalLength();\n\n        // queue segments\n        segments = [];\n        for (i = 0; i < path.pathSegList.numberOfItems; i += 1)\n            segments.push(path.pathSegList.getItem(i));\n\n        segmentsQueue = segments.concat();\n\n        // sample through path\n        while (length < total) {\n            // get segment at position\n            segmentIndex = path.getPathSegAtLength(length);\n            segment = segments[segmentIndex];\n\n            // new segment\n            if (segment != lastSegment) {\n                while (segmentsQueue.length && segmentsQueue[0] != segment)\n                    addSegmentPoint(segmentsQueue.shift());\n\n                lastSegment = segment;\n            }\n\n            // add points in between when curving\n            // TODO: adaptive sampling\n            switch (segment.pathSegTypeAsLetter.toUpperCase()) {\n\n            case 'C':\n            case 'T':\n            case 'S':\n            case 'Q':\n            case 'A':\n                point = path.getPointAtLength(length);\n                addPoint(point.x, point.y, 0);\n                break;\n\n            }\n\n            // increment by sample value\n            length += sampleLength;\n        }\n\n        // add remaining segments not passed by sampling\n        for (i = 0, il = segmentsQueue.length; i < il; ++i)\n            addSegmentPoint(segmentsQueue[i]);\n\n        return points;\n    };\n\n    Svg._svgPathToAbsolute = function(path) {\n        // http://phrogz.net/convert-svg-path-to-all-absolute-commands\n        // Copyright (c) Gavin Kistner\n        // http://phrogz.net/js/_ReuseLicense.txt\n        // Modifications: tidy formatting and naming\n        var x0, y0, x1, y1, x2, y2, segs = path.pathSegList,\n            x = 0, y = 0, len = segs.numberOfItems;\n\n        for (var i = 0; i < len; ++i) {\n            var seg = segs.getItem(i),\n                segType = seg.pathSegTypeAsLetter;\n\n            if (/[MLHVCSQTA]/.test(segType)) {\n                if ('x' in seg) x = seg.x;\n                if ('y' in seg) y = seg.y;\n            } else {\n                if ('x1' in seg) x1 = x + seg.x1;\n                if ('x2' in seg) x2 = x + seg.x2;\n                if ('y1' in seg) y1 = y + seg.y1;\n                if ('y2' in seg) y2 = y + seg.y2;\n                if ('x' in seg) x += seg.x;\n                if ('y' in seg) y += seg.y;\n\n                switch (segType) {\n\n                case 'm':\n                    segs.replaceItem(path.createSVGPathSegMovetoAbs(x, y), i);\n                    break;\n                case 'l':\n                    segs.replaceItem(path.createSVGPathSegLinetoAbs(x, y), i);\n                    break;\n                case 'h':\n                    segs.replaceItem(path.createSVGPathSegLinetoHorizontalAbs(x), i);\n                    break;\n                case 'v':\n                    segs.replaceItem(path.createSVGPathSegLinetoVerticalAbs(y), i);\n                    break;\n                case 'c':\n                    segs.replaceItem(path.createSVGPathSegCurvetoCubicAbs(x, y, x1, y1, x2, y2), i);\n                    break;\n                case 's':\n                    segs.replaceItem(path.createSVGPathSegCurvetoCubicSmoothAbs(x, y, x2, y2), i);\n                    break;\n                case 'q':\n                    segs.replaceItem(path.createSVGPathSegCurvetoQuadraticAbs(x, y, x1, y1), i);\n                    break;\n                case 't':\n                    segs.replaceItem(path.createSVGPathSegCurvetoQuadraticSmoothAbs(x, y), i);\n                    break;\n                case 'a':\n                    segs.replaceItem(path.createSVGPathSegArcAbs(x, y, seg.r1, seg.r2, seg.angle, seg.largeArcFlag, seg.sweepFlag), i);\n                    break;\n                case 'z':\n                case 'Z':\n                    x = x0;\n                    y = y0;\n                    break;\n\n                }\n            }\n\n            if (segType == 'M' || segType == 'm') {\n                x0 = x;\n                y0 = y;\n            }\n        }\n    };\n\n})();\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* This module has now been replaced by `Matter.Composite`.\n*\n* All usage should be migrated to the equivalent functions found on `Matter.Composite`.\n* For example `World.add(world, body)` now becomes `Composite.add(world, body)`.\n*\n* The property `world.gravity` has been moved to `engine.gravity`.\n*\n* For back-compatibility purposes this module will remain as a direct alias to `Matter.Composite` in the short term during migration.\n* Eventually this alias module will be marked as deprecated and then later removed in a future release.\n*\n* @class World\n*/\n\nvar World = {};\n\nmodule.exports = World;\n\nvar Composite = __webpack_require__(6);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * See above, aliases for back compatibility only\n     */\n    World.create = Composite.create;\n    World.add = Composite.add;\n    World.remove = Composite.remove;\n    World.clear = Composite.clear;\n    World.addComposite = Composite.addComposite;\n    World.addBody = Composite.addBody;\n    World.addConstraint = Composite.addConstraint;\n\n})();\n\n\n/***/ })\n/******/ ]);\n});","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export default function constant(x) {\n  return () => x;\n}\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function identity(x) {\n  return x;\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        step,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the domain is aligned with the first tick (which it will by\n      // default), then we can use quantization rather than bisection to bin\n      // values, which is substantially faster.\n      if (tz[0] <= x0) step = tickIncrement(x0, x1, tn);\n\n      // If the last threshold is coincident with the domains upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we dont\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    // Be careful not to mutate an array owned by the user!\n    var m = tz.length, a = 0, b = m;\n    while (tz[a] <= x0) ++a;\n    while (tz[b - 1] > x1) --b;\n    if (a || b < m) tz = tz.slice(a, b), m = b - a;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    if (isFinite(step)) {\n      if (step > 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            bins[Math.min(m, Math.floor((x - x0) / step))].push(data[i]);\n          }\n        }\n      } else if (step < 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            const j = Math.floor((x0 - x) * step);\n            bins[Math.min(m, j + (tz[j] <= x))].push(data[i]); // handle off-by-one due to rounding\n          }\n        }\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        if ((x = values[i]) != null && x0 <= x && x <= x1) {\n          bins[bisect(tz, x, 0, m)].push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : constant(Array.isArray(_) ? slice.call(_) : _), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export const linear = t => +t;\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n","import {pi, sqrt, tau} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import constant from \"./constant.js\";\nimport {withPath} from \"./path.js\";\nimport asterisk from \"./symbol/asterisk.js\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport diamond2 from \"./symbol/diamond2.js\";\nimport plus from \"./symbol/plus.js\";\nimport square from \"./symbol/square.js\";\nimport square2 from \"./symbol/square2.js\";\nimport star from \"./symbol/star.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport triangle2 from \"./symbol/triangle2.js\";\nimport wye from \"./symbol/wye.js\";\nimport times from \"./symbol/times.js\";\n\n// These symbols are designed to be filled.\nexport const symbolsFill = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\n// These symbols are designed to be stroked (with a width of 1.5px and round caps).\nexport const symbolsStroke = [\n  circle,\n  plus,\n  times,\n  triangle2,\n  asterisk,\n  square2,\n  diamond2\n];\n\nexport default function Symbol(type, size) {\n  let context = null,\n      path = withPath(symbol);\n\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // falls through\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n"],"names":["factory","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Common","_baseDelta","_nextId","_seed","_nowStartTime","Date","_warnedOnce","_decomp","extend","obj","deep","argsStart","deepClone","arguments","length","source","prop","constructor","clone","keys","push","values","path","begin","end","split","slice","set","val","parts","shuffle","array","j","Math","floor","random","temp","choose","choices","isElement","HTMLElement","nodeType","nodeName","isArray","toString","isFunction","isPlainObject","isString","clamp","min","max","sign","now","window","performance","webkitNow","_seededRandom","colorToNumber","colorString","replace","charAt","parseInt","logLevel","log","console","apply","concat","Array","info","warn","warnOnce","message","join","deprecated","warning","chain","nextId","indexOf","haystack","needle","map","list","func","mapped","topologicalSort","graph","result","visited","node","_topologicalSort","neighbors","neighbor","funcs","_chained","lastResult","args","chainPathBefore","base","chainPathAfter","setDecomp","decomp","getDecomp","global","e","Bounds","vertices","bounds","x","y","update","velocity","Infinity","vertex","contains","point","overlaps","boundsA","boundsB","translate","vector","shift","position","deltaX","deltaY","Vector","magnitude","sqrt","magnitudeSquared","rotate","angle","output","cos","sin","rotateAbout","normalise","dot","vectorA","vectorB","cross","cross3","vectorC","add","sub","mult","scalar","div","perp","negate","neg","atan2","_temp","Vertices","points","body","index","isInternal","fromPath","match","parseFloat","centre","area","mean","average","signed","abs","inertia","mass","numerator","denominator","v","verticesLength","translateX","translateY","dx","dy","pointX","pointY","nextVertex","scale","scaleX","scaleY","delta","chamfer","radius","quality","qualityMin","qualityMax","newVertices","prevVertex","currentRadius","prevNormal","nextNormal","diagonalRadius","pow","radiusVector","midNormal","scaledVertex","precision","theta","acos","clockwiseSort","sort","vertexA","vertexB","isConvex","k","z","flag","hull","upper","lower","pop","Body","Sleeping","Axes","_timeCorrection","_inertiaScale","_nextCollidingGroupId","_nextNonCollidingGroupId","_nextCategory","options","defaults","id","type","label","plugin","force","torque","positionImpulse","constraintImpulse","totalContacts","speed","angularSpeed","angularVelocity","isSensor","isStatic","isSleeping","motion","sleepThreshold","density","restitution","friction","frictionStatic","frictionAir","collisionFilter","category","mask","group","slop","timeScale","render","visible","opacity","strokeStyle","fillStyle","lineWidth","sprite","xScale","yScale","xOffset","yOffset","events","circleRadius","positionPrev","anglePrev","parent","axes","deltaTime","_original","_initProperties","nextGroup","isNonColliding","nextCategory","defaultFillStyle","defaultStrokeStyle","defaultLineWidth","settings","setStatic","setMass","setDensity","setInertia","setVertices","setPosition","setAngle","setVelocity","setAngularVelocity","setSpeed","setAngularSpeed","setParts","setCentre","part","inverseMass","inverseInertia","moment","fromVertices","autoHull","hullCentre","total","_totalProperties","relative","updateVelocity","getVelocity","getSpeed","getAngularVelocity","getAngularSpeed","translation","rotation","totalArea","totalInertia","deltaTimeSquared","correction","velocityPrevX","velocityPrevY","updateVelocities","bodyVelocity","applyForce","offset","properties","Events","on","eventNames","callback","names","off","callbacks","newCallbacks","trigger","event","eventClone","Composite","isModified","bodies","constraints","composites","cache","allBodies","allConstraints","allComposites","setModified","composite","updateParents","updateChildren","childComposite","objects","addBody","addConstraint","addComposite","constraint","remove","removeBody","removeConstraint","removeComposite","compositeA","compositeB","removeCompositeAt","splice","removeBodyAt","removeConstraintAt","clear","keepStatic","filter","move","rebase","recursive","_motionWakeThreshold","_motionSleepThreshold","_minBias","motionSleepThreshold","minMotion","maxMotion","sleepCounter","afterCollisions","pairs","pair","isActive","collision","bodyA","bodyB","sleepingBody","movingBody","wasSleeping","Collision","Pair","_supports","_overlapAB","overlap","axis","_overlapBA","collided","parentA","parentB","depth","normal","tangent","penetration","supports","collides","_overlapAxes","minOverlap","table","minAxis","minAxisX","minAxisY","supportsB","_findSupports","supportCount","supportsA","verticesA","verticesB","overlapAB","overlapBA","verticesALength","verticesBLength","verticesAX","verticesAY","verticesBX","verticesBY","axesLength","overlapMin","Number","MAX_VALUE","overlapAxisNumber","axisX","axisY","minA","minB","maxA","maxB","_projectToAxis","projection","direction","vertexC","distance","bodyAPositionX","bodyAPositionY","normalX","normalY","nearestDistance","Contact","timestamp","contacts","activeContacts","separation","confirmedActive","timeCreated","timeUpdated","parentAVerticesLength","support","contactId","contact","setActive","Constraint","_warming","_torqueDampen","_minLength","pointA","pointB","initialPointA","initialPointB","stiffness","damping","angularStiffness","angleA","angleB","anchors","preSolveAll","impulse","solveAll","fixedA","fixedB","solve","pointAWorld","pointBWorld","currentLength","share","normalVelocity","relativeVelocity","difference","massTotal","resistanceTotal","zero","postSolveAll","gradient","toFixed","xx","Bodies","rectangle","width","height","trapezoid","slope","verticesPath","x1","x2","x3","circle","maxSides","sides","ceil","polygon","PI","yy","vertexSets","flagInternal","removeCollinear","minimumArea","removeDuplicatePoints","canDecomp","Boolean","quickDecomp","concave","makeCCW","removeCollinearPoints","decomposed","chunkVertices","partA","partB","pav","pbv","da","db","Detector","setBodies","detector","collisions","bodiesLength","canCollide","_compareBoundsX","boundXMax","boundYMax","boundYMin","bodyAStatic","partsALength","partsASingle","partsBLength","partsBStart","filterA","filterB","Mouse","element","mouse","document","absolute","mousedownPosition","mouseupPosition","wheelDelta","button","pixelRatio","getAttribute","sourceEvents","mousemove","mousedown","mouseup","mousewheel","_getRelativeMousePosition","changedTouches","preventDefault","detail","setElement","addEventListener","clearSourceEvents","setOffset","setScale","elementBounds","getBoundingClientRect","rootNode","documentElement","parentNode","scrollX","undefined","pageXOffset","scrollLeft","scrollY","pageYOffset","scrollTop","touches","pageX","left","pageY","top","clientWidth","clientHeight","Plugin","_registry","register","isPlugin","registered","pluginVersion","versionParse","version","number","registeredVersion","resolve","dependency","dependencyParse","range","install","isUsed","used","isFor","parsed","for","versionSatisfies","use","plugins","uses","dependencies","sortedDependencies","status","_warned","tracked","parsedBase","resolved","test","pattern","exec","major","minor","patch","isRange","operator","prerelease","normalImpulse","tangentImpulse","Engine","Resolver","Pairs","engine","positionIterations","velocityIterations","constraintIterations","enableSleeping","gravity","timing","lastDelta","lastElapsed","world","grid","buckets","broadphase","metrics","startTime","_bodiesApplyGravity","_bodiesUpdate","collisionStart","positionDamping","preSolvePosition","solvePosition","postSolvePosition","preSolveVelocity","solveVelocity","_bodiesUpdateVelocities","collisionActive","collisionEnd","_bodiesClearForces","merge","engineA","engineB","gravityScale","_restingThresh","_restingThreshTangent","_positionDampen","_positionWarming","_frictionNormalMultiplier","_frictionMaxStatic","activeCount","pairsLength","contactShare","positionDampen","slopDampen","positionWarming","verticesTranslate","boundsUpdate","positionImpulseX","positionImpulseY","contactsLength","contactVertex","impulseX","impulseY","maxFriction","timeScaleCubed","restingThresh","restingThreshTangent","frictionNormalMultiplier","frictionMaxStatic","bodyAVelocity","bodyBVelocity","tangentX","tangentY","inverseMassTotal","offsetAX","offsetAY","offsetBX","offsetBY","velocityPointAX","velocityPointAY","relativeVelocityX","relativeVelocityY","tangentVelocity","normalOverlap","normalForce","frictionLimit","oAcN","oBcN","contactNormalImpulse","contactTangentImpulse","pairIndex","pairsList","pairsListLength","pairsTable","collisionsLength","removePairIndex","Matter","Composites","Grid","MouseConstraint","Query","Render","Runner","SAT","Svg","World","run","before","after","stack","columns","rows","columnGap","rowGap","lastBody","row","maxHeight","column","bodyHeight","bodyWidth","xOffsetA","yOffsetA","xOffsetB","yOffsetB","bodyAHeight","bodyAWidth","bodyBHeight","mesh","crossBrace","col","bodyC","pyramid","actualRows","lastBodyWidth","newtonsCradle","size","car","wheelSize","wheelAOffset","wheelBOffset","wheelA","wheelB","axelA","axelB","softBody","particleRadius","particleOptions","constraintOptions","bucketWidth","bucketHeight","forceUpdate","bucket","bucketId","gridChanged","newRegion","_getRegion","region","union","_regionUnion","startCol","endCol","startRow","endRow","_getBucketId","isInsideNewRegion","isInsideOldRegion","_bucketRemoveBody","_createBucket","_bucketAddBody","_createActivePairsList","regionA","regionB","_createRegion","gridPairs","pairId","bucketLength","pairKeys","pairKeysLength","canvas","mouseConstraint","_triggerEvents","mouseEvents","partsAStart","ray","startPoint","endPoint","rayWidth","rayAngle","rayLength","rayX","rayY","outside","_requestAnimationFrame","_cancelAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","setTimeout","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","_goodFps","_goodDelta","frameRequestId","historySize","deltaHistory","lastTime","lastTimestamp","timestampElapsed","timestampElapsedHistory","engineDeltaHistory","engineElapsedHistory","elapsedHistory","background","wireframeBackground","hasBounds","enabled","wireframes","showSleeping","showDebug","showStats","showPerformance","showBounds","showVelocity","showCollisions","showSeparations","showAxes","showPositions","showAngleIndicator","showIds","showVertexNumbers","showConvexHulls","showInternalEdges","showMousePosition","_createCanvas","context","getContext","textures","controller","showBroadphase","setPixelRatio","appendChild","loop","time","_updateTiming","stats","stop","_getPixelRatio","setAttribute","style","lookAt","padding","center","viewHeight","outerRatio","innerRatio","startViewTransform","boundsWidth","boundsHeight","boundsScaleX","boundsScaleY","setTransform","endViewTransform","currentBackground","_applyBackground","globalCompositeOperation","fillRect","bodyConvexHulls","bodyWireframes","bodyBounds","bodyAxes","bodyPositions","bodyIds","separations","vertexNumbers","mousePosition","sections","font","textBaseline","textAlign","section","fillText","lastEngineDelta","deltaMean","_mean","elapsedMean","engineDeltaMean","engineElapsedMean","rateMean","fps","gap","round","count","indicator","plotY","beginPath","moveTo","lineTo","stroke","start","arc","closePath","coils","fill","globalAlpha","texture","_getTexture","drawImage","rect","normalPosX","normalPosY","inspector","selected","item","data","setLineDash","selectStart","selectBounds","unshift","createElement","oncontextmenu","onselectstart","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","imagePath","image","Image","src","cssBackground","backgroundSize","_frameTimeout","clearTimeout","runner","deltaSampleSize","counterTimestamp","frameCounter","timePrev","isFixed","deltaMin","deltaMax","tick","pathToVertices","sampleLength","il","segment","segments","segmentsQueue","lastSegment","lastPoint","lx","ly","addPoint","px","py","pathSegType","isRelative","addSegmentPoint","segType","pathSegTypeAsLetter","toUpperCase","_svgPathToAbsolute","getTotalLength","pathSegList","numberOfItems","getItem","getPathSegAtLength","getPointAtLength","x0","y0","y1","y2","segs","len","seg","replaceItem","createSVGPathSegMovetoAbs","createSVGPathSegLinetoAbs","createSVGPathSegLinetoHorizontalAbs","createSVGPathSegLinetoVerticalAbs","createSVGPathSegCurvetoCubicAbs","createSVGPathSegCurvetoCubicSmoothAbs","createSVGPathSegCurvetoQuadraticAbs","createSVGPathSegCurvetoQuadraticSmoothAbs","createSVGPathSegArcAbs","r1","r2","largeArcFlag","sweepFlag","ascending","a","b","NaN","descending","bisector","f","compare1","compare2","lo","hi","mid","right","ascendingBisect","bisectRight","constant","extent","valueof","identity","e10","e5","e2","tickSpec","step","power","log10","error","factor","i1","i2","inc","ticks","reverse","tickIncrement","thresholdSturges","LN2","bin","domain","threshold","sturges","histogram","from","xz","tz","tn","prestep","isFinite","nice","bins","bisect","_","thresholds","maxIndex","sum","minIndex","bottom","epsilon","bandwidth","entering","this","__axis","orient","tickArguments","tickValues","tickFormat","tickSizeInner","tickSizeOuter","tickPadding","transform","format","spacing","range0","range1","copy","selection","selectAll","order","tickExit","exit","tickEnter","enter","append","attr","line","select","text","insert","transition","each","tickSize","axisTop","axisBottom","none","selector","querySelector","empty","querySelectorAll","arrayAll","matches","childMatcher","find","childFirst","firstElementChild","children","EnterNode","datum","ownerDocument","namespaceURI","_next","_parent","__data__","bindIndex","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","Map","keyValues","has","delete","arraylike","child","insertBefore","next","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","classList","ClassList","_node","_names","classedAdd","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","previousSibling","firstChild","creatorInherit","uri","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","onRemove","typename","__on","removeEventListener","listener","onAdd","contextListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","dispatchConstant","dispatchFunction","root","Selection","groups","parents","_groups","_parents","subgroups","subnode","subgroup","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","enterGroup","updateGroup","previous","i0","_enter","_exit","sparse","onenter","onupdate","onexit","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compare","compareNode","sortgroups","sortgroup","nodes","getAttributeNS","classed","html","creator","typenames","parseTypenames","dispatch","iterator","noop","Error","Dispatch","types","T","that","taskHead","taskTail","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","setFrame","clearNow","Timer","_call","_time","timer","delay","restart","wake","timerFlush","t0","t2","t1","sleep","nap","poke","clearInterval","setInterval","elapsed","TypeError","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedules","__transition","self","tween","schedule","state","duration","ease","init","svgNode","degrees","skewX","atan","interpolateTransform","parse","pxComma","pxParen","degParen","q","xa","ya","xb","yb","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","toLowerCase","rgbn","Rgb","rgba","hsla","g","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","h","Hsl","hslConvert","clamph","clampt","hsl2rgb","m2","basis","v0","v1","v2","v3","t3","define","channels","assign","displayable","formatHex8","formatHsl","linear","gamma","nogamma","exponential","rgbGamma","colorRgb","rgbSpline","spline","colors","rgbBasis","reA","reB","am","bm","bs","bi","lastIndex","one","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrTweenNS","attrInterpolateNS","_value","attrTween","attrInterpolate","delayFunction","delayConstant","durationFunction","durationConstant","Transition","_name","newId","selection_prototype","inherit","id0","id1","on0","on1","sit","every","onFunction","styleTween","styleNull","listener0","styleMaybeRemove","styleInterpolate","textTween","textInterpolate","removeFunction","easeConstant","easeVarying","Promise","reject","cancel","interrupt","defaultTiming","active","number1","number2","quadInOut","tpmt","expOut","tau","elasticOut","custom","asin","elasticIn","amplitude","period","elasticInOut","formatDecimalParts","toExponential","coefficient","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","align","symbol","comma","exponent","%","toLocaleString","toPrecision","formatRounded","locale","formatPrefix","prefixes","grouping","thousands","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","genericArray","nb","na","setTime","date","ArrayBuffer","isView","DataView","valueOf","numberArray","initRange","formatLocale","InternMap","entries","keyof","super","defineProperties","_intern","_key","intern_get","intern_set","intern_delete","Set","_ref","_ref2","_ref3","implicit","ordinal","unknown","band","ordinalRange","r0","paddingInner","paddingOuter","rescale","sequence","rangeRound","pointish","unit","normalize","bimap","d0","d1","polymap","transformer","untransform","piecewise","input","interpolateValue","clamper","invert","interpolateRound","u","tickStep","precisionPrefix","precisionRound","precisionFixed","linearish","maxIter","quantize","invertExtent","scheme","interpolateRgbBasis","Linear","_context","_taggedTemplateLiteral","strings","raw","freeze","areaStart","_line","areaEnd","lineStart","_point","lineEnd","pi","tauEpsilon","Path","digits","_x0","_y0","_x1","_y1","_append","appendRound","_templateObject","_templateObject2","_templateObject3","quadraticCurveTo","_templateObject4","bezierCurveTo","_templateObject5","arcTo","x21","y21","x01","y01","l01_2","_templateObject6","x20","y20","l21_2","l20_2","l21","l01","t01","t21","_templateObject8","_templateObject9","_templateObject7","a0","a1","ccw","cw","_templateObject10","_templateObject11","_templateObject12","_templateObject13","w","_templateObject14","withPath","shape","RangeError","defined","curve","curveLinear","buffer","defined0","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","draw","kr","Basis","Transform","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY"],"sourceRoot":""}