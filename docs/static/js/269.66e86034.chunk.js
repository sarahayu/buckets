"use strict";(self.webpackChunkbuckets=self.webpackChunkbuckets||[]).push([[269],{269:(t,a,e)=>{e.a(t,(async(t,r)=>{try{e.r(a),e.d(a,{default:()=>g});e(760);var n=e(43),s=e(999),i=e(111),l=e(135),c=e(146),o=e(394),p=e(130),d=e(285),A=e(627),m=e(579),u=t([d,A]);function g(){const[t,a]=(0,n.useState)(p.A.DEFAULT_OBJECTIVE),e=(0,A.A)(t),r=(0,d.R)(e,t);(0,n.useEffect)((function(){(0,o.f2)(".bucket-wrapper, .vardrop, .var-scen-label, .vardrop .dot-histogram-wrapper, .main-histogram, .tut-drop-graphics-wrapper"),e.setReadyHash((t=>t+1))}),[t]);return(0,m.jsx)("div",{className:"tutorial-view",children:(0,m.jsxs)("div",{className:"scrollama scrollama-1",children:[(0,m.jsx)("div",{className:"tut-panel-wrapper",children:[0,1,2,3].map((t=>(0,m.jsxs)("div",{className:"tut-panel",children:[(0,m.jsx)("div",{className:"tut-graph-wrapper",children:(0,m.jsxs)("div",{className:"tut-graph",children:[(0,m.jsx)("svg",{id:"pag-bar-graph"}),(0,m.jsx)(i.A,{levelInterp:e.variationBucketInterpers[t],width:300,height:p.A.BAR_CHART_HEIGHT,colorInterp:p.A.INTERP_COLOR}),(0,m.jsx)("p",{className:"fancy-font objective-label",children:p.A.VARIATIONS[t].scen_str})]})}),(0,m.jsxs)("div",{className:"tut-drop-graphics-wrapper",children:[(0,m.jsx)("div",{className:"main-waterdrop",children:(0,m.jsx)(c.A,{levelInterp:e.variationDropInterpers[t],width:400,height:p.A.BAR_CHART_HEIGHT,colorInterp:p.A.INTERP_COLOR})}),(0,m.jsx)("div",{className:"main-histogram example-drops-hg",children:(0,m.jsx)(l.A,{width:600,height:400,data:e.objectiveVariationDelivs[t],domain:[0,1200]})}),(0,m.jsx)("p",{className:"fancy-font objective-label",children:p.A.VARIATIONS[t].scen_str})]})]},t)))}),(0,m.jsxs)(s.h,{offset:.9,onStepEnter:async t=>{var a;let{data:e,direction:r}=t;"up"!==r&&(null===(a=e.animHandler)||void 0===a||a.do())},onStepExit:async t=>{var a;let{data:e,direction:r}=t;"down"!==r&&(null===(a=e.animHandler)||void 0===a||a.undo())},children:[r.map(((t,a)=>(0,m.jsx)(s.p,{data:t,children:(0,m.jsx)("div",{className:"tut-text-card",children:t.text})},a))),(0,m.jsx)(s.p,{data:{},children:(0,m.jsx)("div",{className:"tut-text-card",style:{marginBottom:"40vh"},children:(0,m.jsx)("button",{onClick:()=>{window.scrollTo(0,0);for(let a=r.length-1;a>=0;a--){var t;null===(t=r[a].animHandler)||void 0===t||t.undo()}},children:"Back to Top"})})},"last")]})]})})}[d,A]=u.then?(await u)():u,r()}catch(h){r(h)}}))},505:(t,a,e)=>{e.a(t,(async(t,r)=>{try{e.d(a,{Vk:()=>c,Zl:()=>o,jx:()=>d,sQ:()=>p});var n=e(760),s=e(343),i=t([s]);s=(i.then?(await i)():i)[0];const l=1200,c="scens",o="delivs",p="delivs_unord",d=await async function(){const t=[{obj:"exampleObj",scens:[{name:"always_100_perc",delivs:n.range(83).map((()=>l))},{name:"always_0_perc",delivs:n.range(83).map((()=>0))},{name:"always_50_perc",delivs:n.range(83).map((()=>l/2))},{name:"uniform_50_perc",delivs:n.range(83).map(((t,a)=>a/83*l))}]}];for(const e of t){for(const t of e[c])t[p]=Array.from(t[o]),t[o]=Array.from(t[o]).sort(((t,a)=>a-t));e[c]=(0,s.Et)(e[c],(t=>{let{name:a}=t;return a}))}console.log("DATA: loading objectives data");const a=(0,s.Et)(t,(t=>{let{obj:a}=t;return a}));return console.log(a),a}();Object.keys(d),Object.keys(Object.values(d)[0][c]);r()}catch(l){r(l)}}),1)},130:(t,a,e)=>{function r(t,a){let{scen_str:e,desc:r}=t;return{idx:a,scen_str:e,desc:r,clas:"drop".concat(a+1)}}e.d(a,{A:()=>n});const n={BAR_CHART_WIDTH:500,BAR_CHART_HEIGHT:400,INTERP_COLOR:e(684).YW,DEFAULT_OBJECTIVE:"exampleObj",BASELINE_SCENARIO:"expl0000",VARIATIONS:[{scen_str:"always_100_perc"},{scen_str:"always_0_perc"},{scen_str:"always_50_perc"},{scen_str:"uniform_50_perc"}].map(r)}},984:(t,a,e)=>{e.a(t,(async(t,r)=>{try{e.d(a,{W:()=>o});var n=e(760),s=e(505),i=e(130),l=e(394),c=t([s]);s=(c.then?(await c)():c)[0];const o={initChartAnimGroup:function(t){let a,e,r,l,{deps:c,objective:o}=t;const p=40,d=30,A=40,m=60;return function(){{n.selectAll("#pag-bar-graph > *").remove();const t=n.selectAll("#pag-bar-graph").attr("width",i.A.BAR_CHART_WIDTH+m+d).attr("height",i.A.BAR_CHART_HEIGHT+p+A).attr("opacity",1).append("g").attr("class","svg-group").attr("transform","translate(".concat(m,",").concat(p,")")),c=i.A.VARIATIONS.map((t=>{let{scen_str:a}=t;return s.jx[o][s.Vk][a][s.sQ]}));l=n.max(c[0]);const u=c.map((t=>t.map(((t,a)=>({val:t,placeFromLeft:a,year:a+1}))).sort(((t,a)=>a.val-t.val)))),h=n.scaleBand().domain(u[0].map((t=>{let{year:a}=t;return a})).sort(((t,a)=>t-a))).range([0,i.A.BAR_CHART_WIDTH]).padding(.4),g=n.scaleLinear().domain([0,l]).range([i.A.BAR_CHART_HEIGHT,0]),y=n.axisBottom(h).tickSize(0).tickFormat((t=>"year ".concat(t))).tickValues(h.domain().filter(((t,a)=>0===a||(a+1)%10===0)));t.append("g").attr("class","anim-xaxis"),t.append("g").attr("class","axis-y"),t.selectAll(".anim-xaxis").attr("opacity",1).attr("transform","translate(0, ".concat(i.A.BAR_CHART_HEIGHT,")")).call(y).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),t.selectAll(".axis-y").call(n.axisLeft(g).tickFormat(n.format(".2s"))).append("text").text("Deliveries (TAF)").attr("fill","black").attr("font-weight","bold").attr("transform","translate(-50, ".concat(i.A.BAR_CHART_HEIGHT/2,") rotate(-90)")),a=h,e=y,r=u}}(),{barsAppear:{do:function(){{const t=n.scaleLinear().domain([0,l]).range([i.A.BAR_CHART_HEIGHT,0]);n.selectAll("#pag-bar-graph .svg-group").each((function(e,s){n.select(this).selectAll(".bars").data(r[s],(t=>t.placeFromLeft)).join("rect").attr("class","bars").attr("x",(t=>a(t.year))).attr("y",i.A.BAR_CHART_HEIGHT).attr("width",a.bandwidth()).attr("height",0).attr("opacity",1).attr("fill","steelblue").transition().duration(500).delay((t=>10*t.placeFromLeft)).attr("y",(a=>t(a.val))).attr("height",(a=>i.A.BAR_CHART_HEIGHT-t(a.val)))}))}},undo:function(){n.selectAll("#pag-bar-graph .svg-group").selectAll(".bars").transition().duration(500).delay((t=>10*(r[0].length-t.placeFromLeft-1))).attr("y",i.A.BAR_CHART_HEIGHT).attr("height",0)}},barsCondense:{do:async function(){{const t=i.A.BAR_CHART_WIDTH/8,a=n.selectAll("#pag-bar-graph .svg-group");a.selectAll(".anim-xaxis").call(e.tickFormat(""));const s=a.selectAll(".bars");s.style("mix-blend-mode","multiply").transition().duration(500).attr("opacity",.05).transition().delay((t=>100+1e3*(1-(1-t.placeFromLeft/r[0].length)**4))).duration(500).attr("width",t).attr("x",i.A.BAR_CHART_WIDTH/2-t/2).end().catch((()=>{})).then((()=>{a.selectAll(".anim-xaxis").transition().transition(500).attr("transform","translate(0, ".concat(i.A.BAR_CHART_HEIGHT+50,")")).attr("opacity",0),s.transition().delay(500).attr("x",0),a.transition().delay(500).attr("transform","translate(".concat(m+i.A.BAR_CHART_WIDTH/2-t/2,",").concat(p,")"))}))}},undo:function(){{const t=n.selectAll("#pag-bar-graph .svg-group"),s=t.selectAll(".bars");t.selectAll(".anim-xaxis").transition().transition(500).attr("transform","translate(0, ".concat(i.A.BAR_CHART_HEIGHT,")")).attr("opacity",1),t.selectAll(".anim-xaxis").call(e.tickFormat((t=>"year ".concat(t)))),t.transition().delay(500).attr("transform","translate(".concat(m,",").concat(p,")")),s.transition().delay((t=>100+1e3*(1-(t.placeFromLeft/r[0].length)**4))).duration(500).attr("x",(t=>a(t.year))).attr("width",a.bandwidth()).transition().duration(500).attr("opacity",1).end().catch((()=>{})).then((()=>{s.style("mix-blend-mode","normal")}))}}}}},initBucketsFillAnim:function(t){let{deps:a,objective:e}=t;return{do:function(){n.selectAll(".tut-graph-wrapper .bucket-wrapper").style("display","initial"),n.selectAll("#pag-bar-graph").attr("opacity",0),a.setVariationBucketInterpers(a.objectiveVariationBucketInterpers)},undo:function(){a.setVariationBucketInterpers((()=>i.A.VARIATIONS.map((()=>n.scaleLinear().range([0,0]))))),n.selectAll(".tut-graph-wrapper .bucket-wrapper").style("display","none"),n.selectAll("#pag-bar-graph").transition().attr("opacity",1)}}},initDropFillAnim:function(t){let{deps:a,objective:e}=t;return{do:function(){(0,l.YB)(".main-waterdrop"),(0,l.YB)(".tut-drop-graphics-wrapper",n,"grid"),(0,l.f2)(".tut-graph-wrapper, .bucket-wrapper"),a.setVariationDropInterpers(a.objectiveVariationDropInterpers)},undo:function(){(0,l.f2)(".tut-drop-graphics-wrapper, .main-waterdrop"),(0,l.YB)(".bucket-wrapper"),(0,l.YB)(".tut-graph-wrapper",n,"flex"),a.setVariationDropInterpers((()=>i.A.VARIATIONS.map((()=>n.scaleLinear().range([0,0])))))}}},initShowVariationsAnim:function(t){let{deps:a}=t;return{do:function(){n.selectAll(".var-scen-label").style("opacity","1"),n.selectAll(".main-waterdrop").transition().style("transform","translateX(-200px)"),n.selectAll(".main-histogram").style("display","initial"),n.selectAll(".vardrop .dot-histogram-wrapper").style("display","initial")},undo:function(){n.selectAll(".main-waterdrop").transition().style("transform","none"),n.selectAll(".main-waterdrop .var-scen-label").transition().style("transform","none"),n.selectAll(".main-histogram").style("display","none"),n.selectAll(".vardrop .dot-histogram-wrapper").style("display","none")}}}};r()}catch(o){r(o)}}))},285:(t,a,e)=>{e.a(t,(async(t,r)=>{try{e.d(a,{R:()=>c});var n=e(43),s=e(984),i=t([s]);function c(t,a,e){const[r,i]=(0,n.useState)([]);return(0,n.useEffect)((function(){if(0===t.readyHash)return;const r={deps:t,objective:a,scenario:e},n=s.W.initChartAnimGroup(r),l=s.W.initBucketsFillAnim(r),c=s.W.initDropFillAnim(r),o=s.W.initShowVariationsAnim(r),p=[{name:"barsAppear",animHandler:n.barsAppear,text:"Bar Graph"},{name:"barsCondense",animHandler:n.barsCondense,text:"Gradient"},{name:"bucketsFill",animHandler:l,text:"Bucket"},{name:"forNowLetsFocus",animHandler:c,text:"Waterdrop"},{name:"ifChangeReality",animHandler:o,text:"Different Scenarios"}];i(p)}),[t.readyHash]),r}s=(i.then?(await i)():i)[0],r()}catch(l){r(l)}}))},627:(t,a,e)=>{e.a(t,(async(t,r)=>{try{e.d(a,{A:()=>A});var n=e(760),s=e(43),i=e(684),l=e(505),c=e(130),o=e(343),p=t([l,o]);function A(t){const[a,e]=(0,s.useState)(0),[r,p]=(0,s.useState)((()=>n.scaleLinear().range([0,0]))),[d,A]=(0,s.useState)((()=>n.scaleLinear().range([0,0]))),[m,u]=(0,s.useState)((()=>c.A.VARIATIONS.map((()=>n.scaleLinear().range([0,0]))))),[h,g]=(0,s.useState)((()=>c.A.VARIATIONS.map((()=>n.scaleLinear().range([0,0]))))),[y,f]=(0,s.useState)((()=>[])),[I,v]=(0,s.useState)((()=>c.A.VARIATIONS.map((()=>[])))),[_,x]=(0,s.useState)((()=>c.A.VARIATIONS.map((()=>[])))),[b,R]=(0,s.useState)((()=>c.A.VARIATIONS.map((()=>n.scaleLinear().range([0,0]))))),[T,H]=(0,s.useState)((()=>c.A.VARIATIONS.map((()=>n.scaleLinear().range([0,0])))));return(0,s.useEffect)((()=>{p((()=>n.scaleLinear().range([0,0]))),A((()=>n.scaleLinear().range([0,0]))),g((()=>c.A.VARIATIONS.map((()=>n.scaleLinear().range([0,0]))))),u((()=>c.A.VARIATIONS.map((()=>n.scaleLinear().range([0,0])))));const a=l.jx[t][l.Vk].uniform_50_perc[l.Zl],e=n.max(a);f((()=>a));const r=c.A.VARIATIONS.map((a=>{let{scen_str:e}=a;return l.jx[t][l.Vk][e][l.Zl]})),s=c.A.VARIATIONS.map((a=>{let{scen_str:e}=a;return l.jx[t][l.Vk][e][l.sQ]})),d=r.map((t=>a=>n.scaleLinear().domain((0,i.kd)(0,1,t.length)).range(t.map((t=>t/e)).sort().reverse()).clamp(!0)(a))),m=r.map((t=>a=>(0,o.si)(n.scaleLinear().domain((0,i.kd)(0,1,t.length)).range(t.map((t=>t/e)).sort().reverse()).clamp(!0)(a))));v((()=>r)),x((()=>s)),R((()=>d)),H((()=>m))}),[t]),{readyHash:a,setReadyHash:e,bucketInterper:r,setBucketInterper:p,dropInterper:d,setDropInterper:A,variationDropInterpers:m,setVariationDropInterpers:u,variationBucketInterpers:h,setVariationBucketInterpers:g,objectiveDelivs:y,objectiveVariationDelivs:I,objectiveVariationDelivsUnord:_,objectiveVariationBucketInterpers:b,objectiveVariationDropInterpers:T}}[l,o]=p.then?(await p)():p,r()}catch(d){r(d)}}))}}]);
//# sourceMappingURL=269.66e86034.chunk.js.map